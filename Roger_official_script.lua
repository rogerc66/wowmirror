
WowBeeConfig = nil
WowBeeScript = nil
WowBeeHelper = {
	["List"] = {
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Description"] = "當滿足條件時自動施放",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal zy = BeeUnitClassBase()\nlocal behind = BehindCheck()\nlocal BZ = 1 --auto catform\nlocal PX = 0 --auto roar\n--and BeeStringFind(\"潜行者,死亡骑士,圣骑士,猎人\",zy)\n\n--全形态自然迅捷\nif BeeStringFind(\"掠食者的迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"治疗之触\",\"player\");\n    return;\nend\n\nif not IsStealthed() and BeeStringFind(\"掠食者的迅捷\",tlzd) and BeePlayerBuffTime(\"掠食者的迅捷\")<2 and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.99 and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"治疗之触\",\"player\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"自然迅捷\",\"nogoal\") and not BeeStringFind(\"掠食者的迅捷\",tlzd) then\n    BeeRun(\"自然迅捷\",\"nogoal\");\n    return;\nend\n\nif BeeStringFind(\"自然迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"治疗之触\",\"player\");\n    return;\nend\n\nif not IsStealthed() and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\nif not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<1 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeGetComboPoints()<4 and BeePlayerBuffTime(\"自然的守护\")<0 and BeePlayerBuffTime(\"猛虎之怒\")<0 then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\n\n--Powershift\nif not Name and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻,震荡射击,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,燃烧,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,公正圣印,诱捕,群体缠绕\",\"猎豹形态\") then\n    return;\nend\n\nif Name and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) then\n    BeeRun(\"Powershift\");\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(5) or BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\")) or BeeStringFind(\"飓风\",BeeUnitCastSpellName(\"player\")) then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"恶毒角斗士的冥想勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波\",\"恶毒角斗士的冥想勋章\",false) then \n    return;\nend\n\nif not Name and BeeUnitBuffInfo(\"player\",2,\"Curse,Poison\",0)>=1 and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\") ; \nend\n\n--manual\n\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\n\nif BeeIsRun(\"野性印记\",\"player\")   and  BeePlayerBuffTime(\"野性印记\")<120 and not BeeUnitAffectingCombat() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(2) and not BeeGetShapeshiftFormInfo(3) and not BeeGetShapeshiftFormInfo(4) and not BeeGetShapeshiftFormInfo(5) then\n    BeeRun(\"野性印记\",\"player\")\n    return;\nend\n\n---combat survive\n\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\");\nend\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif not Name and UnitInBattleground(\"player\") and BeeIsRun(\"猎豹形态\") and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"猎豹形态\");\nend\n\nif BeeGetShapeshiftFormInfo(1) and BeeStringFind(\"狂奔怒吼\",tlzd) and BeeIsRun(\"猎豹形态\") then\n    BeeRun(\"猎豹形态\",\"player\");\n    return;\nend\n\nif not Name and BZ==1 and BeeIsRun(\"猎豹形态\") and not BeeUnitCastSpellName(\"player\") and BeeUnitBuff(\"回春术\",\"player\")>1 then\n    BeeRun(\"猎豹形态\");\nend\n\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"树皮术\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"生命之魂\") then\n    BeeRun(\"生命之魂\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"生存本能\",\"nogoal\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 then\n    BeeRun(\"生存本能\",\"nogoal\");\n    return;\nend\n\nif  BeeIsRun(\"生命之血\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() then\n    BeeRun(\"生命之血\",\"nogoal\");\n    return;\nend\n\nif IsEquippedItem(\"生命天平\") and BeeUnitAffectingCombat() and BeeIsRun(\"生命天平\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 then\n    BeeRun(\"生命天平\");\n    return;\nend\n\n---debuff\nif not BeeGetShapeshiftFormInfo(3) and BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\") \n    return;\nend\n\n---triggers bear\n\nif BeeGetShapeshiftFormInfo(1) then \n    \n    if BeeUnitCastSpellName() and GetSpellCooldown(80964)>0 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    local Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeIsRun(\"裂伤\") and GetSpellCooldown(33878)<=0 then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    \n    if BeeIsRun(\"激怒\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 then\n        BeeRun(\"激怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and BeeIsRun(\"狂暴\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and UnitHealth(\"target\")/UnitHealthMax(\"target\")>0.20 then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"狂暴回复\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"乌索克之力\",\"nogoal\") then\n        BeeRun(\"乌索克之力\" , \"nogoal\");\n        return;\n    end\n    \n    if BeeTargetDeBuffTime(\"挫志咆哮\")<2 and BeeUnitAffectingCombat() and BeeIsRun(\"挫志咆哮\") and BeeRange()<8  then\n        BeeRun(\"挫志咆哮\");\n        return;\n    end\n    \n    if BeeIsRun(\"痛击\",\"nogoal\") and BeeUnitAffectingCombat() and not BeeStringFind(\"痛击\",tbl) then\n        BeeRun(\"痛击\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeStringFind(\"痛击\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") and BeeUnitMana()>60 then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"重殴\") and BeeUnitMana()>45 then\n        BeeRun(\"重殴\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end\n    \nend\n\n---Triggers Cat\nif BeeRangeR()<30 and BeeUnitCanAttack() and IsStealthed(\"player\") and not UnitIsDead(\"target\") and BeeGetShapeshiftFormInfo(3)  and BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeUnitMana()>95 then\n    BeeRun(\"野蛮咆哮\")\n    return;\nend\n\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") then\n    \n    if IsEquippedItem(\"恶毒角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"恶毒角斗士的征服徽章\")  then\n        BeeRun(\"恶毒角斗士的征服徽章\");\n        return;\n    end\n    \n    if BeeIsRun(\"割裂\") and BeeTargetDeBuffTime(\"割裂\")<1 and BeeGetComboPoints()==5 then\n        BeeRun(\"割裂\")\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeTargetDeBuffTime(\"割裂\")>5 and BeeGetComboPoints()>4 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<30 and BeePlayerBuffTime(\"狂暴\")<0 then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"狂暴\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"自然的守护\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() then\n        BeeRun(\"自然的守护\",\"nogoal\")\n        return;\n    end\n    \n    if BeePlayerBuffTime(\"野蛮咆哮\")<=4 and BeeIsRun(\"野蛮咆哮\") and BeeUnitAffectingCombat() and BeeGetComboPoints()<3 then\n        BeeRun(\"野蛮咆哮\")\n        return;\n    end\n    \n    if BeeRangeR()>10 and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeIsRun(\"潜行\") and BeeUnitAffectingCombat() then\n        BeeRun(\"潜行\");\n        return;\n    end\n    \n    if BeeStringFind(\"奔踏\",tlzd) and BeePlayerBuffTime(\"奔踏\")<1 and BeeGetComboPoints()<5 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    if BeeStringFind(\"化身：丛林之王\", tlzd) and BeeIsRun(\"生命之血\",\"nogoal\") and BeeUnitAffectingCombat() then\n        BeeRun(\"生命之血\",\"nogoal\");\n        return; \n    end\n    \n    if BeeStringFind(\"化身：丛林之王\",tlzd) and BeeGetComboPoints()<5 and BeeUnitMana()>45 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and not BeeStringFind(\"痛击\",tbl) and BeeIsRun(\"痛击\",\"nogoal\") and BeeGetComboPoints()<5 then\n        BeeRun(\"痛击\",\"nogoal\");\n        return;\n    end\n    \n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeUnitCastSpellName() and BeeSpellCD(\"迎头痛击\")>1 and BeeSpellCD(\"迎头痛击\")<13 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    if BeeRangeR()<10 and BeeIsRun(\"蛮力猛击\") and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"生存本能\")<0 and BeePlayerBuffTime(\"树皮术\")<0 and BeePlayerBuffTime(\"回春术\")>0 then\n        BeeRun(\"蛮力猛击\");\n        return; \n    end\n    \n    if BeeStringFind(\"痛击\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") and BeeGetComboPoints()<4 and BeeUnitBuff(\"斜掠\",\"target\",2)>0 then\n        BeeRun(\"横扫\",\"nogoal\");\n        return;\n    end\n    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end\n    \n    if BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") and BeeUnitMana()<40 then\n        BeeRun(\"精灵之火\") \n        return;\n    end\n    \n    if BeePlayerBuffTime(\"野蛮咆哮\")<=1 and BeeIsRun(\"野蛮咆哮\") and BeeGetComboPoints()>=1 and BeeTargetDeBuffTime(\"割裂\")>5 then\n        BeeRun(\"野蛮咆哮\")\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeUnitMana()>40 and BeeTargetDeBuffTime(\"割裂\")>3 and BeeGetComboPoints()==5 or BeeIsRun(\"凶猛撕咬\") and BeePlayerBuffTime(\"节能施法\")>0 and BeeTargetDeBuffTime(\"割裂\")>3 and BeeGetComboPoints()==5 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 and not BehindCheck() then\n        BeeRun(\"裂伤\")\n        return;\n    end\n    \n    if BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeeUnitMana()>40 and BeeTargetDeBuffTime(\"斜掠\")>2 and BehindCheck() or BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 and BehindCheck() and BeeUnitMana()>40 then\n        BeeRun(\"撕碎\")\n        return;\n    end\n    \nend\n\n\n---healer job\n\nif not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(2) and not BeeGetShapeshiftFormInfo(3) and not BeeGetShapeshiftFormInfo(4) and BeePlayerBuffTime(\"喝水\")<1 then\n    \n    local YXYJP = BeePartyScript('BeeRangeR(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end\n    \n    local YXYJ = BeeRaidScript('BeeRangeR(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat(unit) and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end\n    \nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "夜猫",
				}, -- [1]
				{
					["GUID"] = 3,
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal zrzw = 1  --自然之握\nlocal zrsh = 0 --自然守护\nlocal yhs = 1 -- 月火\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal zmg = 0 -- shroom\nlocal luaunlock = 0\nlocal manapotion = 4 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命\nlocal ningjing = BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\"))\n\n--全形态自然迅捷\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"自然迅捷\",\"nogoal\") and not ningjing then\n    BeeRun(\"自然迅捷\",\"nogoal\");\n    return;\nend\n\nif BeeStringFind(\"自然迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\",\"player\");\n    return;\nend\n\nif BeeStringFind(\"灵魂行者的恩赐\",tlzd) and BeeUnitAffectingCombat() and BeeIsRun(\"宁静\") then\n    BeeRun(\"宁静\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"自然的守护\",\"nogoal\") and zrsh ==1 and not ningjing then\n    BeeRun(\"自然的守护\",\"nogoal\");\n    return;\nend\n\nif UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"自然的守护\",\"nogoal\") and not ningjing and zrsh ==1 then\n    BeeRun(\"自然的守护\",\"nogoal\");\n    return;\nend\n\nif not IsMounted(\"player\") and not IsStealthed() and not BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not ningjing then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\n--Must Dispell\nif not Name and BeeStringFind(\"精灵之火,精灵虫群,虚空风暴,炎爆术,活体炸弹,瘫痪药膏,减速药膏,燃烧,猎人印记,寒冰炸弹,元素诅咒,蜘蛛毒刺\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") and not ningjing then\n    BeeRun(\"自然之愈\",\"player\");\n    return;\nend\n\nif not Name and BeeStringFind(\"冰霜疫病,血之疫病,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"共生术\",\"player\") and not ningjing and gss==\"清洁术\" then\n    BeeRun(\"共生术\",\"player\");\n    return;\nend\n\n--Powershift\nif not Name and not ningjing and not BeeUnitCastSpellName(\"player\") and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕\",\"猎豹形态\") then\n    return;\nend\n\nif Name and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) then\n    BeeRun(\"Powershift\");\n    return;\nend\n\nif BeeRangeR()<9 and BeeIsRun(\"惊魂咆哮\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风\",tbl) and not ningjing and not IsMounted() and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"惊魂咆哮\",\"nogoal\");\n    return;\nend\n\nif BeeRangeR()<9 and BeeIsRun(\"共生术\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,\",tbl) and not ningjing and gss==\"破胆怒吼\" and BeeSpellCD(\"惊魂咆哮\")>3 and BeeSpellCD(\"惊魂咆哮\")<28 then\n    BeeRun(\"共生术\");\n    return;\nend\n\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\nif (SpellIsTargeting() and HasActiveTotem() and GetTotemInfo(3)) or (SpellIsTargeting() and HasActiveTotem() and BeePlayerBuffTime(\"相生\")<1) then\n    BeeRun(\"野性印记\")\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(5) or ningjing or BeeStringFind(\"飓风\",BeeUnitCastSpellName(\"player\")) or SpellIsTargeting() then\n    return;\nend\n\nif not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.70 and BeeUnitAffectingCombat() and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<1 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"暴虐角斗士的冥想勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"暴虐角斗士的冥想勋章\",false) then \n    return;\nend\n\nif BeeIsRun(\"共生术\",\"nogoal\") and BeeStringFind(\"突袭,肾击,制裁之锤,深度冻结,偷袭,蛮力猛击,割碎,胁迫\",tlzd) and gss==\"冰封之韧\" and BeeSpellCD(\"暴虐角斗士的冥想勋章\")>0 and BeeSpellCD(\"暴虐角斗士的冥想勋章\")<118 then\n    BeeRun(\"共生术\",\"nogoal\" ) ; \nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeIsRun(\"共生术\",\"nogoal\") and BeeUnitAffectingCombat() and BeeSpellCD(\"塞纳里奥结界\")>3 and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 and gss==\"壮胆酒\" then\n    BeeRun(\"共生术\",\"nogoal\");\n    return; \nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeIsRun(\"共生术\",\"nogoal\") and BeeUnitAffectingCombat() and BeeSpellCD(\"塞纳里奥结界\")>3 and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 and gss==\"冰封之韧\" then\n    BeeRun(\"共生术\",\"nogoal\");\n    return; \nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\nif BeeIsRun(\"野性印记\",\"player\")  and  BeePlayerBuffTime(\"野性印记\")<600 and not Name or not BeeStringFind(\"野性印记\",tlzd) and not Name then\n    BeeRun(\"野性印记\",\"player\")\n    BeeUnitCastSpellDelay(\"野性印记\",1,\"player\");\n    return;\nend\n\nif not Name and BeeIsRun(\"炼金师的合剂\",\"player\") and BeePlayerBuffTime(\"增强智力\")<600 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) and not Name then\n    BeeRun(\"炼金师的合剂\",\"player\")\n    return;\nend\n\n--rezmouse\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"复生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and BeeUnitAffectingCombat() then \n    BeeRun(\"复生\",\"mouseover\");\nend\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"起死回生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and not BeeUnitAffectingCombat() then \n    BeeRun(\"起死回生\",\"mouseover\");\nend\n\n--autofocus\nlocal numRaid = GetNumGroupMembers()\nlocal numParty = GetNumSubgroupMembers()\n\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) and BeeUnitAffectingCombat() then \n    BeeRun(\"/focus player\");\nend\n\n--targetfocus\nif BeeUnitAffectingCombat() and UnitName(\"target\")==nil or UnitIsDead(\"target\") and BeeUnitAffectingCombat() then \n    BeeRun(\"/target focus\");\nend\n\n---combat survive\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") and not BeeStringFind(\"地精滑翔器\",tlzd) then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif IsFalling() and not Name and BeeIsRun(\"暴虐角斗士的冥想大氅\",\"nogoal\") and BeeUnitAffectingCombat() and not ningjing then\n    BeeRun(\"暴虐角斗士的冥想大氅\",\"nogoal\")\n    return;\nend\n\nif BeeGetShapeshiftFormInfo(1) and BeeStringFind(\"狂奔怒吼\",tlzd) and BeeIsRun(\"猎豹形态\") then\n    BeeRun(\"猎豹形态\",\"player\");\n    return;\nend\n\nif IsEquippedItem(\"暴虐角斗士的冥想腰带\") and BeeIsRun(\"暴虐角斗士的冥想腰带\") and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(\"暴虐角斗士的冥想腰带\",\"player\");\n    return;\nend\n\nif IsEquippedItem(\"日夜轮替束带\") and BeeIsRun(\"日夜轮替束带\") and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(\"日夜轮替束带\",\"player\");\n    return;\nend\n\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")<1 and BeeIsRun(\"树皮术\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"炼金师的回春水\") and manapotion==3 then\n    BeeRun(\"炼金师的回春水\");\n    return;\nend\n\nif BeeRangeR()<10 and BeeUnitTargetIsPlayer() and BeeStringFind(\"暗影之舞,鲁莽\", tbl) and BeeIsRun(\"树皮术\") and BeeUnitAffectingCombat() and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕,蛮力猛击\",tbl) then\n    BeeRun(\"树皮术\");\n    return; \nend\n\nif not Name and BeeIsRun(\"生命之魂\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and not ningjing and not IsStealthed() and manapotion==4 then\n    BeeRun(\"生命之魂\",\"nogoal\");\n    return;\nend\n\nif IsEquippedItem(\"鬼林裹手\") and BeeIsRun(\"鬼林裹手\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>10 then\n    BeeRun(\"鬼林裹手\",\"nogoal\");\n    return;\nend\n\nif IsEquippedItem(\"暴虐角斗士的科多皮手套\") and BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>10 then\n    BeeRun(\"暴虐角斗士的科多皮手套\",\"nogoal\");\n    return;\nend\n\nif not Name and BeeRangeR()<15 and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"自然之握\")<0 and BeeIsRun(\"自然之握\",\"player\") and zrzw==1 and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"自然之握\",\"player\")\n    return;\nend\n\nif not BeeGetShapeshiftFormInfo(4) and not BeeGetShapeshiftFormInfo(5) and not IsStealthed() and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<75 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"铁木树皮\")<0 and BeeIsRun(\"铁木树皮\",\"player\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 then\n    BeeRun(\"铁木树皮\",\"player\")\n    return;\nend\n\nif not Name and BeeIsRun(\"神效法力药水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() and manapotion==1 then\n    BeeRun(\"神效法力药水\")\n    return;\nend\n\nif not Name and BeeIsRun(\"炼金师的回春水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() and manapotion==3 then\n    BeeRun(\"炼金师的回春水\")\n    return;\nend\n\nif not Name and BeeIsRun(\"无尽法力药水\") and BeeUnitMana(\"player\",\"%\",0)<90 and BeeUnitAffectingCombat() and not ningjing and not IsStealthed() and manapotion==2 then\n    BeeRun(\"无尽法力药水\")\n    return;\nend\n\n---debuff\nif not BeeGetShapeshiftFormInfo(3) and BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握,旋风\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\") \n    return;\nend\n\nif not BeeGetShapeshiftFormInfo(3) and BeeRangeR(\"targettarget\")<35 and BeeIsRun(\"精灵之火\",\"targettarget\") and not BeeStringFind(\"精灵虫群\",ttbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握,旋风\",ttbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\",\"targettarget\") \n    return;\nend\n\n---triggers bear\nif BeeGetShapeshiftFormInfo(1) and BeeUnitAffectingCombat() then         \n    \n    if BeeIsRun(\"裂伤\") and GetSpellCooldown(33878)<=0 then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and   BeeIsRun(\"狂暴回复\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and   BeeIsRun(\"乌索尔之力\") then\n        BeeRun(\"乌索尔之力\" , \"nogoal\");\n        return;\n    end\n    \n    if  BeeStringFind(\"割伤\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") and BeeUnitMana()>60 then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"重殴\") and BeeUnitMana()>45 then\n        BeeRun(\"重殴\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end\n    \nend\n\n---Triggers Cat\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") and BeeUnitAffectingCombat() then\n    \n    if BeeStringFind(\"精灵之火,猎人印记,精灵虫群,虚空风暴,炎爆术,活体炸弹,寒冰炸弹,毒蛇钉刺,瘫痪药膏,燃烧,献祭,元素诅咒,末日降临,腐蚀术\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") then\n        BeeRun(\"自然之愈\",\"player\");\n        return;\n    end\n    \n    if BeeStringFind(\"冰霜疫病,血之疫病,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"共生术\",\"player\") and gss==\"清洁术\" then\n        BeeRun(\"共生术\",\"player\");\n        return;\n    end\n    \n    if BeeUnitCastSpellName() and BeeGetComboPoints()>1 and  BeeIsRun(\"割碎\") then\n        BeeRun(\"割碎\");\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end\n    \n    if BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n        BeeRun(\"精灵之火\") \n        return;\n    end\n    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and  BeeTargetDeBuffTime(\"斜掠\")>2 and BeeUnitMana()>35 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"裂伤\")\n        return;\n    end\n    \nend\n\n---healer job\n\nif not Name and BeePlayerBuffTime(\"喝水\")<1 then\n    \n    local YXYJP = BeePartyScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 and LosCheck() then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end\n    \n    local YXYJ = BeeRaidScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 and LosCheck() then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end\n    \n    if BeeRangeR()<40 and BeeUnitBuffInfo(\"target\",2,\"Magic,Curse,Poison\",0)>=1 and BeeIsRun(\"自然之愈\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"自然之愈\",\"target\" ) ; \n    end\n    \n    if BeeRangeR()<40 and BeeUnitBuffInfo(\"target\",2,\"Disease,Poison\",0)>=1 and BeeIsRun(\"共生术\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and not BeeUnitCastSpellName(\"player\") and gss==\"清洁术\" then\n        BeeRun(\"共生术\",\"target\" ) ; \n    end\n    \n    if BeeRangeR(unit)<40 and BeeRaidScript('BeeStringFind(\" 变形术,冰冻术,恐惧,心灵尖啸,死亡缠绕,冰冻陷阱效果,碎裂屏障,烈焰震击,冰霜震击,冰霜新星,冰霜之环,精灵之火,沉默射击,法术封锁,强化法术反制,深度,冻结,制裁之锤,献祭,痛苦灾祸,清算,圣殿骑士之盾,纠缠根须,蛛网,减速,地缚术,灵惊骇,冰链,挤压,绞袭,黑暗噬体,静电瓦解,暮光之剪,冰冻陷阱,暮光腐蚀\",BeeUnitBuffList(unit)) and not BeeStringFind(\" 痛苦无常,吸血鬼之触\",BeeUnitBuffList(unit))') and BeeIsRun(\"自然之愈\",BeeGetVariable(\"BeeRaidInfo_Unit\"))\n    then\n        BeeRun(\"自然之愈\",BeeGetVariable(\"BeeRaidInfo_Unit\"));\n        return;\n    end\n    \n    --remove rage\n    if BeeRangeR()<40 and isPurgeable() and BeeIsRun(\"安抚\",\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack() then\n        BeeRun(\"安抚\",\"target\");\n        return; \n    end\n    \n    if IsEquippedItem(\"影踪突袭营的抚慰护符\") and BeeUnitMana(\"player\",\"%\",0)<65 and BeeIsRun(\"影踪突袭营的抚慰护符\") and BeeUnitAffectingCombat() and BeeSpellCD(\"激活\")>1 then\n        BeeRun(\"影踪突袭营的抚慰护符\",\"player\");\n        return;\n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat() and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<10 and BeeIsRun(\"水流之魂\",\"player\") and BeeUnitAffectingCombat() then\n        BeeRun(\"水流之魂\",\"player\");\n        return;\n    end\n    \n    grouptype=\"\"\n    if IsInRaid() then\n        grouptype=\"raid\"\n    else\n        grouptype=\"party\"\n    end\n    \n    local XJ = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"迅捷治愈\",unit) and BeeUnitBuff(\"回春术\",unit)>1 and BeeUnitHealth(unit,\"%\")<75 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if XJ and BeeIsRun(\"迅捷治愈\",XJ) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"迅捷治愈\",XJ);\n        return; \n    end\n    \n    local ZRZL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"自然之力\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZRZL and BeeIsRun(\"自然之力\",ZRZL) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") and GetSpellCharges(\"自然之力\")>2 then \n        BeeRun(\"自然之力\",ZRZL);\n        return; \n    end\n    \n    local ZRZL2 = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"自然之力\",unit) and BeeUnitHealth(unit,\"%\")<60 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZRZL2 and BeeIsRun(\"自然之力\",ZRZL2) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") and GetSpellCharges(\"自然之力\")>1 then \n        BeeRun(\"自然之力\",ZRZL2);\n        return; \n    end\n    \n    local ZRZL3 = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"自然之力\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZRZL3 and BeeIsRun(\"自然之力\",ZRZL3) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"自然之力\",ZRZL3);\n        return; \n    end\n    \n    if IsEquippedItem(\"鬼林裹手\") and BeeStringFind(\"野性之心\", tlzd) and BeeIsRun(\"鬼林裹手\",\"nogoal\") and BeeUnitAffectingCombat() and BeePlayerBuffTime(\"野性之心\")>15 then\n        BeeRun(\"鬼林裹手\",\"nogoal\");\n        return; \n    end\n    \n    if IsEquippedItem(\"暴虐角斗士的科多皮手套\") and BeeStringFind(\"野性之心\", tlzd) and BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\") and BeeUnitAffectingCombat() and BeePlayerBuffTime(\"野性之心\")>15 then\n        BeeRun(\"暴虐角斗士的科多皮手套\",\"nogoal\");\n        return; \n    end\n    \n    local g,GCST = BeeGroupCountScript('BeeRangeR(unit)<39',\"BeeUnitHealth(unit,'%')<60 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if g>2 and BeeIsRun(\"鬼林裹手\",\"nogoal\") and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"鬼林裹手\",\"nogoal\");\n        return; \n    end\n    \n    local f,GCSTP = BeeGroupCountScript('BeeRangeR(unit)<39',\"BeeUnitHealth(unit,'%')<60 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if f>2 and BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\") and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"暴虐角斗士的科多皮手套\",\"nogoal\");\n        return; \n    end\n    \n    local m,YXMG = BeeGroupCountScript('BeeRangeR(unit)<39',\"BeeUnitHealth(unit,'%')<60 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if m >3 and BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and GetTotemInfo(1) and BeeUnitAffectingCombat(unit) then \n        BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n        return; \n    end\n    \n    if BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and HasActiveTotem() and not BeeUnitCastSpellName(\"player\") and BeePlayerBuffTime(\"相生\")<3 and BeeUnitAffectingCombat(unit) and GetTotemInfo(1) and not GetTotemInfo(2) then \n        BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n        return; \n    end\n    \n    if BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and HasActiveTotem() and not BeeUnitAffectingCombat(unit) and BeePlayerBuffTime(\"相生\")<3 and not GetTotemInfo(2) then \n        BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n        return; \n    end\n    \n    local n,YXCZ = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"野性成长\",unit)',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if n >2 and BeeIsRun(\"野性成长\",Unit) and BeeSpellCD(\"野性成长\")<1 and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"野性成长\",YXCZ);\n        return; \n    end\n    \n    local n,YXCZ = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"野性成长\",unit)',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if n >1 and BeeIsRun(\"野性成长\",Unit) and BeeSpellCD(\"野性成长\")<1 and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") and BeeStringFind(\"丛林之魂\",tlzd) then \n        BeeRun(\"野性成长\",YXCZ);\n        return; \n    end\n    \n    local YH = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<85 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YH and BeeIsRun(\"愈合\",YH) and BeeUnitBuff(\"节能施法\", player)>1 and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"愈合\",YH);\n        return; \n    end\n    \n    local HC = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitBuff(\"回春术\",unit)<1 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if HC and BeeIsRun(\"回春术\",HC) and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"回春术\",HC);\n        return; \n    end\n    \n    local TMSP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"铁木树皮\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if TMSP and BeeIsRun(\"铁木树皮\",TMSP) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"铁木树皮\",TMSP);\n        return; \n    end\n    \n    \n    local SNJJ = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"塞纳里奥结界\",unit) and BeeUnitHealth(unit,\"%\")<70 and BeeUnitAffectingCombat(unit) and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if SNJJ and BeeIsRun(\"塞纳里奥结界\",SNJJ) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"塞纳里奥结界\",SNJJ);\n        return; \n    end\n    \n    if BeeRangeR(\"focus\")<40 and BeeIsRun(\"生命绽放\",\"focus\") and BeeUnitBuffCount(\"生命绽放\",\"focus\")<3 and BeeUnitAffectingCombat(\"focus\") and not BeeUnitCastSpellName(\"player\") or  BeeUnitBuff(\"生命绽放\",\"focus\")<3 and BeeUnitAffectingCombat(\"focus\") and BeeRangeR(\"focus\")<40 and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"生命绽放\",\"focus\");\n        return; \n    end\n    \n    if BeeRangeR(\"focus\")<40 and BeeIsRun(\"回春术\",\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")<1 and BeeUnitHealth(\"focus\",\"%\")<90 and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"回春术\",\"focus\");\n        return; \n    end\n    \n    if BeeRangeR()<40 and BeeIsRun(\"回春术\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")<1 and BeeUnitHealth(\"target\",\"%\")<90 and BeeUnitAffectingCombat(\"target\") and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"回春术\",\"target\");\n        return; \n    end\n    \n    if BeeRangeR()<40 and BeeUnitPlayerControlled(\"target\") and BeeIsRun(\"愈合\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")>0 and BeeUnitHealth(\"target\",\"%\")<80 and BeeUnitAffectingCombat(\"target\") and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"愈合\",\"target\");\n        return; \n    end\n    \n    if BeeIsRun(\"野性成长\",\"player\") and BeeUnitBuff(\"野性成长\",\"player\")<1 and BeeUnitBuff(\"回春术\",\"player\")>1 and BeeUnitHealth(\"player\",\"%\")<40 and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"野性成长\",\"player\");\n        return; \n    end\n    \n    if BeeRangeR(\"focus\")<40 and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"愈合\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<75 and BeeUnitAffectingCombat(\"focus\") and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"愈合\",\"focus\");\n        return; \n    end    \n    \n    if BeeRangeR(\"focus\")<40 and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"滋养\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<85 and BeeUnitAffectingCombat(\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")>0 and BeeStringFind(\"丛林之魂\",tlzd) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"滋养\",\"focus\");\n        return; \n    end\n    \n    local YHP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<70 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YHP and BeeIsRun(\"愈合\",YHP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"愈合\",YHP);\n        return; \n    end\n    \n    local ZYP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"滋养\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitHealth(unit,\"%\")>75 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZYP and BeeIsRun(\"滋养\",ZYP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat(unit) and BeeUnitBuff(\"回春术\",ZYP)>0 and not BeeStringFind(\"相生\",tlzd) and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"滋养\",ZYP);\n        return; \n    end\n    \n    local PETHC = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<75 and BeeUnitBuff(\"回春术\",unit)<0 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\n    if PETHC and BeeIsRun(\"回春术\",PETHC) and BeeUnitMana(\"player\",\"%\",0)>70 and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"回春术\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n        return; \n    end\n    \n    local PETYH = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitBuff(\"回春术\",unit)>0 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\n    if PETYH and BeeIsRun(\"愈合\",PETYH) and BeeUnitMana(\"player\",\"%\",0)>80 and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"愈合\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n        return; \n    end\n    \n    --offensive\n    if BeeRangeR()<40 and BeeIsRun(\"月火术\") and not BeeStringFind(\"月火术\",tbl) and BeeUnitAffectingCombat() and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,\",tbl) and not BeeUnitPlayerControlled() and yhs==1 and not BeeUnitCastSpellName(\"player\") then\n        BeeRun(\"月火术\") \n        return;\n    end\n    \n    if BeeIsRun(\"野性蘑菇\",\"nogoal\") and not HasActiveTotem() and zmg==1 and BeeUnitAffectingCombat() and luaunlock==1 and BeePlayerBuffTime(\"相生\")<15 then \n        BeeRun(\"野性蘑菇\",\"nogoal\");\n        return; \n    end\n    \n    \nend",
					["Name"] = "静树",
					["CD"] = 0,
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [2]
				{
					["GUID"] = 4,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "狂猫",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal zy = BeeUnitClassBase()\nlocal behind = BehindCheck()\nlocal BZ = 1 --auto catform\nlocal PX = 1 --auto roar\nlocal clzw = BeeStringFind(\"化身：丛林之王\",tlzd)\n--and BeeStringFind(\"潜行者,死亡骑士,圣骑士,猎人\",zy)\n\n--全形态自然迅捷\nif BeeStringFind(\"掠食者的迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\nif not IsStealthed() and BeeStringFind(\"掠食者的迅捷\",tlzd) and BeePlayerBuffTime(\"掠食者的迅捷\")<2 and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.99 and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"自然迅捷\",\"nogoal\") and not BeeStringFind(\"掠食者的迅捷\",tlzd) then\n    BeeRun(\"自然迅捷\",\"nogoal\");\n    return;\nend\n\nif BeeStringFind(\"自然迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\n--must dispell\nif not Name and BeeStringFind(\"元素诅咒,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\");\n    return;\nend\n\nif not IsMounted(\"player\") and not IsStealthed() and not BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not ningjing then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\nif not IsMounted(\"player\") and BeeRangeR()>10 and not IsStealthed() and not BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not ningjing then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\nif not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<1 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeGetComboPoints()<4 and BeePlayerBuffTime(\"自然的守护\")<0 and BeePlayerBuffTime(\"猛虎之怒\")<0 and not clzw then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\n\n--Powershift\nif not Name and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻,震荡射击,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,燃烧,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,公正圣印,诱捕,群体缠绕\",\"猎豹形态\") then\n    return;\nend\n\nif Name and BeeStringFind(\"冰霜新星,冰冻术,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) then\n    BeeRun(\"Powershift\");\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(5) or BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\")) or BeeStringFind(\"飓风\",BeeUnitCastSpellName(\"player\")) then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"恶毒角斗士的顽强勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震\",\"恶毒角斗士的顽强勋章\",false) then \n    return;\nend\n\nif not Name and BeeUnitBuffInfo(\"player\",2,\"Curse,Poison\",0)>=1 and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\") ; \nend\n\n--manual\n\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\nif BeeIsRun(\"野性印记\",\"player\") and  BeePlayerBuffTime(\"野性印记\")<120 and not Name and BeeUnitMana()>55 then\n    BeeRun(\"野性印记\",\"player\")\n    return;\nend\n\nif not Name and BeeIsRun(\"炼金师的合剂\",\"player\") and BeePlayerBuffTime(\"增强敏捷\")<600 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) and not Name then\n    BeeRun(\"炼金师的合剂\",\"player\")\n    return;\nend\n\n---combat survive\n\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\");\nend\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif not Name and UnitInBattleground(\"player\") and BeeIsRun(\"猎豹形态\") and BeeUnitBuff(\"野性印记\",\"player\")>120 and not BeeUnitCastSpellName(\"player\") and  BeeUnitBuff(\"回春术\",\"player\")>1 and BeeUnitBuffInfo(\"target\",2,\"Curse,Poison\",0)<1 then\n    BeeRun(\"猎豹形态\");\nend\n\nif not Name and BZ==1 and BeeIsRun(\"猎豹形态\") and not BeeUnitCastSpellName(\"player\") and BeeUnitBuff(\"回春术\",\"player\")>1 then\n    BeeRun(\"猎豹形态\");\nend\n\nif BeeGetShapeshiftFormInfo(1) and BeeStringFind(\"狂奔怒吼\",tlzd) and BeeIsRun(\"猎豹形态\") then\n    BeeRun(\"猎豹形态\",\"player\");\n    return;\nend\n\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"树皮术\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"生命之魂\") then\n    BeeRun(\"生命之魂\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"神效治疗药水\") then\n    BeeRun(\"神效治疗药水\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"生存本能\",\"nogoal\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕,蛮力猛击\",tbl) then\n    BeeRun(\"生存本能\",\"nogoal\");\n    return;\nend\n\nif BeeRangeR()<10 and BeeUnitTargetIsPlayer() and BeeStringFind(\"暗影之舞,鲁莽\", tbl) and BeeIsRun(\"生存本能\",\"nogoal\") and BeeUnitAffectingCombat() and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕,蛮力猛击\",tbl) then\n    BeeRun(\"生存本能\",\"nogoal\");\n    return; \nend\n\nif BeeRangeR()<10 and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"野性之心\",\"nogoal\") and BeeUnitAffectingCombat() and BeeSpellCD(\"塞纳里奥结界\")>3 and BeeSpellCD(\"生存本能\")>3 and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeePlayerBuffTime(\"生存本能\")<0 then\n    BeeRun(\"野性之心\",\"nogoal\");\n    return; \nend\n\nif BeeIsRun(\"生命之血\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() then\n    BeeRun(\"生命之血\",\"nogoal\");\n    return;\nend\n\n---debuff\nif not BeeGetShapeshiftFormInfo(3) and BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\") \n    return;\nend\n\n---triggers bear\n\nif BeeGetShapeshiftFormInfo(1) then \n    \n    if BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻\",\"狂奔怒吼\") then\n        return;\n    end\n    \n    if BeeUnitCastSpellName() and GetSpellCooldown(80964)>0 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    local Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeIsRun(\"裂伤\") then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    \n    if BeeIsRun(\"激怒\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.75 then\n        BeeRun(\"激怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"乌索克之力\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.65 then\n        BeeRun(\"乌索克之力\",\"nogoal\")\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and BeeIsRun(\"狂暴\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and UnitHealth(\"target\")/UnitHealthMax(\"target\")>0.20 then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.70 and BeeIsRun(\"狂暴回复\",\"nogoal\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    \n    if  BeeIsRun(\"痛击\",\"nogoal\") and BeeUnitAffectingCombat() then\n        BeeRun(\"痛击\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeStringFind(\"痛击\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"重殴\") and BeeUnitMana()>80 then\n        BeeRun(\"重殴\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end\n    \nend\n\n---Triggers Cat\nif BeeRangeR()<30 and BeeUnitCanAttack() and IsStealthed(\"player\") and not UnitIsDead(\"target\") and BeeGetShapeshiftFormInfo(3)  and BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeUnitMana()>95 then\n    BeeRun(\"野蛮咆哮\")\n    return;\nend\n\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") then    \n    \n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<30 and BeePlayerBuffTime(\"狂暴\")<0 and BeeStringFind(\"化身：丛林之王\",tlzd) then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<30 and BeePlayerBuffTime(\"狂暴\")<0 and BeeSpellCD(\"化身\")>28 then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if IsEquippedItem(\"恶毒角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"恶毒角斗士的征服徽章\") and BeeStringFind(\"化身：丛林之王\",tlzd) then\n        BeeRun(\"恶毒角斗士的征服徽章\");\n        return;\n    end\n    \n    if BeeIsRun(\"狂暴\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() and BeeUnitMana()>65 then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 and BeeTargetDeBuffTime(\"割裂\")>5 then\n        BeeRun(\"凶猛撕咬\") \n        return;\n    end\n    \n    if BeeTargetDeBuffTime(\"割裂\")<3 and BeeGetComboPoints()==5 and BeeIsRun(\"割裂\") then \n        BeeRun(\"割裂\")\n        return;\n    end \n    --[[\n    if BeeIsRun(\"自然的守护\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() then\n        BeeRun(\"自然的守护\",\"nogoal\")\n        return;\n    end\n    ]]--\n    if BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeIsRun(\"野蛮咆哮\") and BeeUnitAffectingCombat() and BeeGetComboPoints()<3 and BeeTargetDeBuffTime(\"割裂\")>6 and PX==1 then\n        BeeRun(\"野蛮咆哮\")\n        return;\n    end\n    \n    if BeeRangeR()>10 and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeIsRun(\"潜行\") and BeeUnitAffectingCombat() then\n        BeeRun(\"潜行\");\n        return;\n    end\n    \n    if BeeStringFind(\"奔踏\",tlzd) and BeePlayerBuffTime(\"奔踏\")<1 and BeeGetComboPoints()<5 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    if IsEquippedItem(\"恶毒角斗士的龙皮手套\") and IsInRaid() and BeeStringFind(\"自然的守护\", tlzd) and BeeIsRun(\"恶毒角斗士的龙皮手套\",\"nogoal\") and BeeUnitAffectingCombat() and BeePlayerBuffTime(\"自然的守护\")>15 then\n        BeeRun(\"恶毒角斗士的龙皮手套\",\"nogoal\");\n        return; \n    end\n    \n    if BeeStringFind(\"化身：丛林之王\",tlzd) and BeeGetComboPoints()<5 and BeeUnitMana()>45 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeUnitCastSpellName() and BeeSpellCD(\"迎头痛击\")>1 and BeeSpellCD(\"迎头痛击\")<13 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    if BeeRangeR()<10 and BeeIsRun(\"蛮力猛击\") and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"生存本能\")<0 and BeePlayerBuffTime(\"树皮术\")<0 and BeePlayerBuffTime(\"回春术\")>0 then\n        BeeRun(\"蛮力猛击\");\n        return; \n    end\n    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end\n    \n    if BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") and BeeUnitMana()<40 then\n        BeeRun(\"精灵之火\") \n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeUnitHealth(\"target\",nil,0)<33000 and BeeTargetDeBuffTime(\"斜掠\")>0 and BeeGetComboPoints()>2 and BeeUnitMana()>50 and BeeTargetDeBuffTime(\"割裂\")>1 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeeUnitMana()>45 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"裂伤\")\n        return;\n    end\n    \n    if BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeeUnitMana()>40 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 and BeeUnitMana()>40 then\n        BeeRun(\"撕碎\")\n        return;\n    end\n    \nend\n\n---healer job\n\nif not Name and BeePlayerBuffTime(\"喝水\")<1 then\n    \n    local YXYJP = BeePartyScript('BeeRange(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end\n    \n    local YXYJ = BeeRaidScript('BeeRange(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat(unit) and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end\n    \nend",
				}, -- [3]
				{
					["GUID"] = 5,
					["Script"] = "local _,form = BeeGetShapeshiftId();\nlocal Name\nif form==nil or BeeGetShapeshiftId()==5 then\n    Name=false;\nelse\n    Name=true;\nend \nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal zrzw = 1  --自然之握\nlocal yhs = 1 -- 月火\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock = 1\nlocal autoshift=1\nlocal qsmouse=1\nlocal manapotion = 3 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命\nlocal ningjing = BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\"))\nlocal GCD=GetSpellCooldown(\"回春术\")\nlocal InRangeT = IsSpellInRange(\"月火术\",\"target\")\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal MeleeRange\nif IsSpellInRange(\"裂伤\",\"target\")==nil or IsSpellInRange(\"裂伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"裂伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif BeeStringFind(\"灵魂行者的恩赐\",tlzd) and not IsStealthed() and BeeUnitAffectingCombat() and BeeIsRun(\"宁静\") then\n    BeeRun(\"宁静\");\n    return;\nend\nif not IsMounted(\"player\") and not IsStealthed() and not BeeGetShapeshiftFormInfo(6) and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not UnitChannelInfo(\"player\") and GCD==0 then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n--Must Dispell\nif not Name and not IsStealthed() and BeeStringFind(\"精灵之火,精灵虫群,虚空风暴,炎爆术,活体炸弹,瘫痪药膏,减速药膏,燃烧,猎人印记,寒冰炸弹,元素诅咒\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") and not UnitChannelInfo(\"player\") and GCD==0 then\n    BeeRun(\"自然之愈\",\"player\");\n    return;\nend\nif not Name and BeeStringFind(\"冰霜疫病,血之疫病,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"共生术\",\"player\") and not UnitChannelInfo(\"player\") and gss==\"清洁术\" and GCD==0 then\n    BeeRun(\"共生术\",\"player\");\n    return;\nend\n--Powershift\nif Name and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) and GCD==0 then\n    BeeRun(\"Powershift\");\n    return;\nend\nif not Name and not UnitChannelInfo(\"player\") and not BeeUnitCastSpellName(\"player\") and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕\",\"猎豹形态\") and GCD==0 then\n    return;\nend\nif ActionRange and BeeIsRun(\"惊魂咆哮\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风\",tbl) and not UnitChannelInfo(\"player\") and not IsStealthed() and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") then\n    BeeRun(\"惊魂咆哮\",\"nogoal\");\n    return;\nend\nif ActionRange and BeeIsRun(\"共生术\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,\",tbl) and not UnitChannelInfo(\"player\") and gss==\"破胆怒吼\" and BeeSpellCD(\"惊魂咆哮\")>3 and BeeSpellCD(\"惊魂咆哮\")<28 and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and GCD==0 then\n    BeeRun(\"共生术\");\n    return;\nend\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\nif (SpellIsTargeting() and HasActiveTotem() and GetTotemInfo(3)) or (SpellIsTargeting() and HasActiveTotem() and BeePlayerBuffTime(\"相生\")<1) then\n    BeeRun(\"野性印记\")\n    return;\nend\nif SpellIsTargeting() and not GetTotemInfo(3) and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(6) or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\nif not BeeGetShapeshiftFormInfo(1) and not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.70 and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<1 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and GCD==0 then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\n---Trinker\nif IsEquippedItem(\"暴虐角斗士的冥想勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"暴虐角斗士的冥想勋章\",false) then \n    return;\nend\nif BeeIsRun(\"共生术\",\"nogoal\") and BeeStringFind(\"突袭,肾击,制裁之锤,深度冻结,偷袭,蛮力猛击,割碎,胁迫\",tlzd) and gss==\"冰封之韧\" and BeeSpellCD(\"暴虐角斗士的冥想勋章\")>0 and BeeSpellCD(\"暴虐角斗士的冥想勋章\")<118 then\n    BeeRun(\"共生术\",\"nogoal\" ) ; \nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeIsRun(\"共生术\",\"nogoal\") and BeeUnitAffectingCombat() and BeeSpellCD(\"塞纳里奥结界\")>3 and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 and gss==\"壮胆酒\" then\n    BeeRun(\"共生术\",\"nogoal\");\n    return; \nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeIsRun(\"共生术\",\"nogoal\") and BeeUnitAffectingCombat() and BeeSpellCD(\"塞纳里奥结界\")>3 and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 and gss==\"冰封之韧\" then\n    BeeRun(\"共生术\",\"nogoal\");\n    return; \nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\nif not Name and BeeIsRun(\"狂乱水晶\",\"player\") and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"狂乱水晶\",\"player\")\n    return;\nend\nif not IsFalling() and BeeIsRun(\"野性印记\",\"player\")  and  BeePlayerBuffTime(\"野性印记\")<600 and not Name or not BeeStringFind(\"野性印记\",tlzd) and not Name and GCD==0 then\n    BeeRun(\"野性印记\",\"player\")\n    BeeUnitCastSpellDelay(\"野性印记\",1,\"player\");\n    return;\nend\nif not Name and BeeIsRun(\"炼金师的合剂\",\"player\") and BeePlayerBuffTime(\"增强智力\")<600 and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"炼金师的合剂\",\"player\")\n    return;\nend\n\n--rezmouse\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"复生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and BeeUnitAffectingCombat() and GCD==0 then \n    BeeRun(\"复生\",\"mouseover\");\nend\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"起死回生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and not BeeUnitAffectingCombat() and GCD==0 then \n    BeeRun(\"起死回生\",\"mouseover\");\nend\n\n--autofocus&targetfocus\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\nif BeeUnitAffectingCombat() and UnitName(\"target\")==nil or UnitIsDead(\"target\") and BeeUnitAffectingCombat() then \n    BeeRun(\"/target focus\");\nend\n\n---combat survive\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") and GCD==0 then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") and not BeeStringFind(\"地精滑翔器\",tlzd) and GCD==0 then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\nif IsFalling() and not Name and BeeIsRun(\"暴虐角斗士的冥想大氅\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitChannelInfo(\"player\") then\n    BeeRun(\"暴虐角斗士的冥想大氅\",\"nogoal\")\n    return;\nend\nif BeeGetShapeshiftFormInfo(1) and BeeStringFind(\"狂奔怒吼\",tlzd) and not BeeStringFind(\"乌索克之力\",tlzd) and BeeIsRun(\"猎豹形态\") and GCD==0 then\n    BeeRun(\"猎豹形态\",\"player\");\n    return;\nend\nif (BeeIsRun(\"暴虐角斗士的冥想腰带\") or BeeIsRun(\"日夜轮替束带\")) and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(\"/use 6\");\n    return;\nend\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")<1 and BeeIsRun(\"树皮术\") and not UnitChannelInfo(\"player\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"炼金师的回春水\") and manapotion==3 then\n    BeeRun(\"炼金师的回春水\");\n    return;\nend\nif (BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\") or BeeIsRun(\"鬼林手套\",\"nogoal\")) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>10 then\n    BeeRun(\"/use 10\");\n    return;\nend\nif not Name and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and IsSpellInRange(\"旋风\",\"target\") and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"自然之握\")<0 and BeeIsRun(\"自然之握\",\"player\") and zrzw==1 and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"自然之握\",\"player\")\n    return;\nend\nif not BeeGetShapeshiftFormInfo(4) and not BeeGetShapeshiftFormInfo(6) and not IsStealthed() and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<75 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"铁木树皮\")<0 and BeeIsRun(\"铁木树皮\",\"player\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 then\n    BeeRun(\"铁木树皮\",\"player\")\n    return;\nend\nif not Name and BeeIsRun(\"神效法力药水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() and manapotion==1 then\n    BeeRun(\"神效法力药水\")\n    return;\nend\nif not Name and BeeIsRun(\"炼金师的回春水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() and manapotion==3 then\n    BeeRun(\"炼金师的回春水\")\n    return;\nend\nif not Name and BeeIsRun(\"无尽法力药水\") and BeeUnitMana(\"player\",\"%\",0)<90 and BeeUnitAffectingCombat() and not ningjing and not IsStealthed() and manapotion==2 then\n    BeeRun(\"无尽法力药水\")\n    return;\nend\n\n---debuff\nif not BeeGetShapeshiftFormInfo(3) and IsSpellInRange(\"精灵之火\",\"target\") and BeeIsRun(\"精灵之火\") and BeeUnitBuff(\"精灵虫群\",\"target\",2)<0 and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握,旋风\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") and GCD==0 then\n    BeeRun(\"精灵之火\") \n    return;\nend\nif not BeeGetShapeshiftFormInfo(3) and IsSpellInRange(\"精灵之火\",\"targettarget\") and BeeIsRun(\"精灵之火\",\"targettarget\") and BeeUnitBuff(\"精灵虫群\",\"targettarget\",2)<0 and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握,旋风\",ttbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") and GCD==0 then\n    BeeRun(\"精灵之火\",\"targettarget\") \n    return;\nend\n\n---triggers bear\nif BeeGetShapeshiftFormInfo(1) and BeeUnitAffectingCombat() and GCD==0 then    \n    if BeeIsRun(\"裂伤\") and GetSpellCooldown(33878)<=0 then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"狂暴回复\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeIsRun(\"乌索克之力\",\"nogoal\") then\n        BeeRun(\"乌索克之力\",\"nogoal\");\n        return;\n    end\n    if  BeeStringFind(\"割伤\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") and BeeUnitMana()>60 then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end    \n    if  BeeIsRun(\"重殴\") and BeeUnitMana()>45 then\n        BeeRun(\"重殴\") ;\n        return;\n    end    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end    \nend\n\n---Triggers Cat\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") and BeeUnitAffectingCombat() and GCD==0 then    \n    if BeeStringFind(\"精灵之火,猎人印记,精灵虫群,虚空风暴,炎爆术,活体炸弹,寒冰炸弹,毒蛇钉刺,瘫痪药膏,燃烧,献祭,元素诅咒,末日降临,腐蚀术\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") then\n        BeeRun(\"自然之愈\",\"player\");\n        return;\n    end    \n    if BeeStringFind(\"冰霜疫病,血之疫病,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"共生术\",\"player\") and gss==\"清洁术\" then\n        BeeRun(\"共生术\",\"player\");\n        return;\n    end    \n    if BeeUnitCastSpellName() and BeeGetComboPoints()>1 and  BeeIsRun(\"割碎\") then\n        BeeRun(\"割碎\");\n        return;\n    end    \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 then\n        BeeRun(\"凶猛撕咬\") return;\n    end    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end   \n    if IsSpellInRange(\"精灵之火\",\"target\") and BeeIsRun(\"精灵之火\") and BeeUnitBuff(\"精灵虫群\",\"target\",2)<0 and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n        BeeRun(\"精灵之火\") \n        return;\n    end    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and  BeeTargetDeBuffTime(\"斜掠\")>2 and BeeUnitMana()>35 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"裂伤\")\n        return;\n    end    \nend\n\n--shroom\nlocal m,YXMG = BeeGroupCountScript('BeeRangeR(unit)<39',\"BeeUnitHealth(unit,'%')<60 and not UnitIsDeadOrGhost(unit)\",grouptype) \nif not Name and m >3 and BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and GetTotemInfo(1) and not UnitChannelInfo(\"player\") and BeeUnitAffectingCombat() then \n    BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n    return; \nend\nif not Name and not UnitChannelInfo(\"player\") and BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and HasActiveTotem() and not BeeUnitCastSpellName(\"player\") and BeePlayerBuffTime(\"相生\")<3 and BeeUnitAffectingCombat() and GetTotemInfo(1) and not GetTotemInfo(2) then \n    BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n    return; \nend    \nif not Name and not UnitChannelInfo(\"player\") and BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and HasActiveTotem() and not BeeUnitAffectingCombat() and BeePlayerBuffTime(\"相生\")<3 and not GetTotemInfo(2) then \n    BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n    return; \nend\nlocal TMSP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"铁木树皮\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif TMSP and not Name and BeeIsRun(\"铁木树皮\",TMSP) and not UnitChannelInfo(\"player\") and BeeUnitAffectingCombat() then \n    BeeRun(\"铁木树皮\",TMSP);\n    return; \nend\n---healer job\nif not Name and BeePlayerBuffTime(\"喝水\")<1 and not UnitChannelInfo(\"player\") and GCD==0 then    \n    local YXYJP = BeePartyScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat() and BeeUnitMana()>30 and LosCheck() then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end    \n    local YXYJ = BeeRaidScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat() and GCD==0 and BeeUnitMana()>85 and LosCheck() then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end   \n    if BeeRangeR()<40 and BeeUnitBuffInfo(\"target\",2,\"Magic,Curse,Poison\",0)>=1 and BeeIsRun(\"自然之愈\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 then\n        BeeRun(\"自然之愈\",\"target\" ) ; \n    end    \n    if BeeUnitBuffInfo(\"mouseover\",2,\"Magic,Curse,Poison\",0)>=1 and BeeIsRun(\"自然之愈\",\"mouseover\") and BeeUnitHealth(\"mouseover\",\"%\")>40 and qsmouse==1 then\n        BeeRun(\"自然之愈\",\"mouseover\" ) ; \n    end   \n    if BeeRangeR()<40 and BeeUnitBuffInfo(\"target\",2,\"Disease,Poison\",0)>=1 and BeeIsRun(\"共生术\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and gss==\"清洁术\" then\n        BeeRun(\"共生术\",\"target\" ) ; \n    end    \n    if BeeUnitBuffInfo(\"mouseover\",2,\"Disease,Poison\",0)>=1 and BeeIsRun(\"共生术\",\"mouseover\") and BeeUnitHealth(\"mouseover\",\"%\")>40 and gss==\"清洁术\" then\n        BeeRun(\"共生术\",\"mouseover\" ) ; \n    end        \n    --remove rage\n    if InRangeT and isPurgeable() and BeeIsRun(\"安抚\",\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack() then\n        BeeRun(\"安抚\",\"target\");\n        return; \n    end   \n    if IsEquippedItem(\"影踪突袭营的抚慰护符\") and BeeUnitMana(\"player\",\"%\",0)<65 and BeeIsRun(\"影踪突袭营的抚慰护符\") and BeeUnitAffectingCombat() and BeeSpellCD(\"激活\")>1 then\n        BeeRun(\"影踪突袭营的抚慰护符\",\"player\");\n        return;\n    end \n    if BeeUnitMana(\"player\",\"%\",0)<10 and BeeIsRun(\"水流之魂\",\"player\") and BeeUnitAffectingCombat() then\n        BeeRun(\"水流之魂\",\"player\");\n        return;\n    end\n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat() and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end        \n    local XJ = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"迅捷治愈\",unit) and BeeUnitBuff(\"回春术\",unit)>1 and BeeUnitHealth(unit,\"%\")<75 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if XJ and BeeIsRun(\"迅捷治愈\",XJ) and BeeUnitAffectingCombat() and GCD==0 then \n        BeeRun(\"迅捷治愈\",XJ);\n        return; \n    end        \n    if BeeStringFind(\"野性之心\", tlzd) and (BeeIsRun(\"鬼林裹手\",\"nogoal\") or BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\")) and BeeUnitAffectingCombat() and BeePlayerBuffTime(\"野性之心\")>15 then\n        BeeRun(\"/use 10\");\n        return; \n    end    \n    local g,GCST = BeeGroupCountScript('BeeRangeR(unit)<39',\"BeeUnitHealth(unit,'%')<60 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if g>2 and (BeeIsRun(\"鬼林裹手\",\"nogoal\") or BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\")) and BeeUnitAffectingCombat(unit) then \n        BeeRun(\"/use 10\");\n        return; \n    end            \n    local n,YXCZ = BeeGroupCountScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性成长\",unit)',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if n >2 and BeeIsRun(\"野性成长\",YXCZ) and BeeUnitAffectingCombat() then \n        BeeRun(\"野性成长\",YXCZ);\n        return; \n    end \n    if BeeUnitBuff(\"生命绽放\",\"focus\")<4 and BeeUnitAffectingCombat(\"focus\") and BeeRangeR(\"focus\")<40 then\n        BeeRun(\"生命绽放\",\"focus\");\n        return;\n    end\n    local YH = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<85 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YH and BeeIsRun(\"愈合\",YH) and BeeUnitBuff(\"节能施法\", player)>1 and GetUnitSpeed(\"player\")==0 and GetUnitSpeed(\"player\")==0 then\n        BeeRun(\"愈合\",YH);\n        return; \n    end     \n    local HC = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitBuff(\"回春术\",unit)<1 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if HC and BeeIsRun(\"回春术\",HC) then\n        BeeRun(\"回春术\",HC);\n        return; \n    end        \n    local SNJJ = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"塞纳里奥结界\",unit) and BeeUnitHealth(unit,\"%\")<70 and BeeUnitAffectingCombat(unit) and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if SNJJ and BeeIsRun(\"塞纳里奥结界\",SNJJ) and BeeUnitAffectingCombat() then \n        BeeRun(\"塞纳里奥结界\",SNJJ);\n        return; \n    end   \n    if BeeRangeR(\"focus\")<40 and BeeIsRun(\"生命绽放\",\"focus\") and BeeUnitBuffCount(\"生命绽放\",\"focus\")<3 and BeeUnitAffectingCombat(\"focus\") then \n        BeeRun(\"生命绽放\",\"focus\");\n        return; \n    end    \n    if BeeRangeR(\"focus\")<40 and BeeIsRun(\"回春术\",\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")<1 and BeeUnitHealth(\"focus\",\"%\")<90 then \n        BeeRun(\"回春术\",\"focus\");\n        return; \n    end    \n    if BeeRangeR()<40 and BeeIsRun(\"回春术\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")<1 and BeeUnitHealth(\"target\",\"%\")<90 and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") then \n        BeeRun(\"回春术\",\"target\");\n        return; \n    end    \n    if BeeRangeR()<40 and BeeIsRun(\"愈合\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")>0 and BeeUnitHealth(\"target\",\"%\")<80 and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") and GetUnitSpeed(\"player\")==0 then \n        BeeRun(\"愈合\",\"target\");\n        return; \n    end    \n    if BeeIsRun(\"野性成长\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")>1 and BeeUnitHealth(\"player\",\"%\")<50 and BeeUnitAffectingCombat() then \n        BeeRun(\"野性成长\",\"player\");\n        return; \n    end   \n    if BeeRangeR(\"focus\")<40 and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"愈合\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<75 and BeeUnitAffectingCombat(\"focus\") and GetUnitSpeed(\"player\")==0 then \n        BeeRun(\"愈合\",\"focus\");\n        return; \n    end        \n    if BeeRangeR(\"focus\")<40 and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"滋养\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<85 and BeeUnitAffectingCombat(\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")>0 and BeeStringFind(\"丛林之魂\",tlzd) and GetUnitSpeed(\"player\")==0 then \n        BeeRun(\"滋养\",\"focus\");\n        return; \n    end    \n    local YHP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<70 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YHP and BeeIsRun(\"愈合\",YHP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat() and GetUnitSpeed(\"player\")==0 then\n        BeeRun(\"愈合\",YHP);\n        return; \n    end    \n    local ZYP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"滋养\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitHealth(unit,\"%\")>75 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZYP and BeeIsRun(\"滋养\",ZYP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat() and BeeUnitBuff(\"回春术\",ZYP)>0 and not BeeStringFind(\"相生\",tlzd) and GetUnitSpeed(\"player\")==0 then\n        BeeRun(\"滋养\",ZYP);\n        return; \n    end\n    local PETHC = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<75 and BeeUnitBuff(\"回春术\",unit)<0 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\n    if PETHC and BeeIsRun(\"回春术\",PETHC) and BeeUnitMana(\"player\",\"%\",0)>70 then\n        BeeRun(\"回春术\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n        return; \n    end    \n    local PETYH = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitBuff(\"回春术\",unit)>0 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\n    if PETYH and BeeIsRun(\"愈合\",PETYH) and BeeUnitMana(\"player\",\"%\",0)>80 then\n        BeeRun(\"愈合\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n        return; \n    end\n    \n    --offensive\n    if InRangeT and BeeIsRun(\"月火术\") and BeeUnitBuff(\"月火术\",\"target\",2)<0 and BeeUnitAffectingCombat() and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,\",tbl) and not BeeUnitPlayerControlled() and yhs==1 then\n        BeeRun(\"月火术\") \n        return;\n    end            \n    if InRangeT and BeeIsRun(\"愤怒\") and BeeUnitHealth(\"player\",\"%\")>85 and BeeUnitMana(\"player\",\"%\",0)>60 and BeeUnitBuffCount(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat() and BeeStringFind(\"月火术\", tbl) or  BeeUnitBuff(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat() and BeeUnitHealth(\"focus\",\"%\")>80 and BeeUnitMana(\"player\",\"%\",0)>60 and BeeStringFind(\"月火术\", tbl) and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"愤怒\");\n        return; \n    end    \n    if InRangeT and BeeUnitHealth(\"focustarget\",\"%\")<98 and BeeIsRun(\"月火术\",\"focustarget\") and BeeSpellCD(\"月火术\",\"focustarget\")<1 and BeeUnitBuff(\"月火术\",\"focustarget\")<1 and not BeeUnitCastSpellName(\"player\") then \n        BeeRun(\"月火术\",\"focustarget\");\n        return;\n    end\n    if BeeGetShapeshiftId()==0 and BeeUnitAffectingCombat() and not form and autoshift==1 and BeeIsRun(\"树人形态\",\"nogoal\") then\n        BeeRun(\"树人形态\",\"nogoal\");\n        return;\n    end       \nend\n\n--autoloot\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"远程拾取器\",\"nogoal\") and autoloot==1 and not UnitCanAssist(\"player\",\"mouseover\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"Loot\");\nend",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "狂树",
				}, -- [4]
				{
					["GUID"] = 6,
					["Description"] = "當滿足條件時自動施放",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal zrzw = 1  --自然之握\nlocal zrsh = 0 --自然守护\nlocal luaunlock = 1\nlocal AScript =1 --auto switch script\nlocal ningjing = BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\"))\n\nif BeeStringFind(\"灵魂行者的恩赐\",tlzd) and BeeUnitAffectingCombat() and BeeIsRun(\"宁静\") then\n    BeeRun(\"宁静\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"自然的守护\",\"nogoal\") and zrsh ==1 and not ningjing then\n    BeeRun(\"自然的守护\",\"nogoal\");\n    return;\nend\n\nif UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"自然的守护\",\"nogoal\") and not ningjing and zrsh ==1 then\n    BeeRun(\"自然的守护\",\"nogoal\");\n    return;\nend\n\nif not IsMounted(\"player\") and not IsStealthed() and not BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not ningjing then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\n--Must Dispell\nif not Name and BeeStringFind(\"精灵之火,精灵虫群,虚空风暴,炎爆术,活体炸弹,瘫痪药膏,减速药膏,燃烧,猎人印记,寒冰炸弹\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") and not ningjing then\n    BeeRun(\"自然之愈\",\"player\");\n    return;\nend\n\n--Powershift\nif not Name and not ningjing and not BeeUnitCastSpellName(\"player\") and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕\",\"猎豹形态\") then\n    return;\nend\n\nif Name and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) then\n    BeeRun(\"Powershift\");\n    return;\nend\n--[[\nif GetTotemInfo(3) and BeeIsRun(\"回春术\",\"player\") and SpellIsTargeting() then\n    BeeIsCurrentMouse();\n    return;\nend\n]]--\nif BeeRangeR()<9 and BeeIsRun(\"惊魂咆哮\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,\",tbl) and not ningjing and not IsMounted() then\n    BeeRun(\"惊魂咆哮\",\"nogoal\");\n    return;\nend\n\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\nif SpellIsTargeting() and HasActiveTotem() and luaunlock==1 then\n    BeeRun(\"野性印记\")\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(5) or ningjing or BeeStringFind(\"飓风\",BeeUnitCastSpellName(\"player\")) or SpellIsTargeting() then\n    return;\nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\n\nif BeeIsRun(\"野性印记\",\"player\")  and  BeePlayerBuffTime(\"野性印记\")<120 and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(2) and not BeeGetShapeshiftFormInfo(3) and not BeeGetShapeshiftFormInfo(4) and not BeeGetShapeshiftFormInfo(6) then\n    BeeRun(\"野性印记\",\"player\")\n    BeeUnitCastSpellDelay(\"野性印记\",5,\"player\");\n    return;\nend\n\n--rezmouse\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"复生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and BeeUnitAffectingCombat() then \n    BeeRun(\"复生\",\"mouseover\");\nend\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"起死回生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and not BeeUnitAffectingCombat() then \n    BeeRun(\"起死回生\",\"mouseover\");\nend\n\n--autofocus\nlocal numRaid = GetNumGroupMembers()\nlocal numParty = GetNumSubgroupMembers()\n\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\n\n--targetfocus\nif BeeUnitAffectingCombat() and UnitName(\"target\")==nil or UnitIsDead(\"target\") then \n    BeeRun(\"/target focus\");\nend\n\n---combat survive\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif IsFalling() and not Name and BeeIsRun(\"暴虐角斗士的冥想大氅\",\"nogoal\") and  not ningjing then\n    BeeRun(\"暴虐角斗士的冥想大氅\",\"nogoal\")\n    return;\nend\n\nif BeeGetShapeshiftFormInfo(1) and BeeStringFind(\"狂奔怒吼\",tlzd) and BeeIsRun(\"猎豹形态\") then\n    BeeRun(\"猎豹形态\",\"player\");\n    return;\nend\n\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeSpellCD(\"潜行\")<1 and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")<1 and BeeIsRun(\"树皮术\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"符文治疗药水\") then\n    BeeRun(\"符文治疗药水\");\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"自然之力\",\"nogoal\") then\n    BeeRun(\"自然之力\",\"nogoal\");\n    return;\nend\n\nif IsEquippedItem(\"鬼林裹手\") and BeeIsRun(\"鬼林裹手\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>10 then\n    BeeRun(\"鬼林裹手\",\"nogoal\");\n    return;\nend\n\nif IsEquippedItem(\"暴虐角斗士的科多皮手套\") and BeeIsRun(\"暴虐角斗士的科多皮手套\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>10 then\n    BeeRun(\"暴虐角斗士的科多皮手套\",\"nogoal\");\n    return;\nend\n\nif not Name and BeeRangeR()<15 and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"自然之握\")<0 and BeeIsRun(\"自然之握\",\"player\") and zrzw==1 and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"自然之握\",\"player\")\n    return;\nend\n\nif not BeeGetShapeshiftFormInfo(4) and not BeeGetShapeshiftFormInfo(6) and not IsStealthed() and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<75 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"铁木树皮\")<0 and BeeIsRun(\"铁木树皮\",\"player\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 then\n    BeeRun(\"铁木树皮\",\"player\")\n    return;\nend\n\nif BeeIsRun(\"奇效法力药水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() then\n    BeeRun(\"奇效法力药水\")\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"暴虐角斗士的冥想勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息\",\"暴虐角斗士的冥想勋章\",false) then \n    return;\nend\n\n---debuff\nif BeeRangeR()<33 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\") \n    return;\nend\n\n---triggers bear\nif BeeGetShapeshiftFormInfo(1) and BeeUnitAffectingCombat() then     \n    \n    if BeeIsRun(\"裂伤\") and GetSpellCooldown(33878)<=0 then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and   BeeIsRun(\"狂暴回复\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and   BeeIsRun(\"乌索尔之力\") then\n        BeeRun(\"乌索尔之力\" , \"nogoal\");\n        return;\n    end\n    \n    if  BeeStringFind(\"割伤\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") and BeeUnitMana()>60 then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"重殴\") and BeeUnitMana()>45 then\n        BeeRun(\"重殴\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end\n    \nend\n\n---Triggers Cat\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") and BeeUnitAffectingCombat() then\n    \n    if BeeUnitCastSpellName() and BeeGetComboPoints()>1 and  BeeIsRun(\"割碎\") then\n        BeeRun(\"割碎\");\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end\n    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and  BeeTargetDeBuffTime(\"斜掠\")>2 and BeeUnitMana()>50 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"裂伤\")\n        return;\n    end\n    \nend\n\n---healer job\n\nif not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(2) and not BeeGetShapeshiftFormInfo(3) and not BeeGetShapeshiftFormInfo(4) and BeePlayerBuffTime(\"喝水\")<1 then\n    \n    local YXYJP = BeePartyScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end\n    \n    local YXYJ = BeeRaidScript('BeeRangeR(unit)<40 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end\n    \n    if BeeRangeR()<40 and BeeUnitBuffInfo(\"target\",2,\"Magic,Curse,Poison\",0)>=1 and BeeIsRun(\"自然之愈\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 then\n        BeeRun(\"自然之愈\",\"target\" ) ; \n    end\n    \n    if BeeRangeR()<40 and BeeUnitBuffInfo(\"target\",2,\"Disease,Poison\",0)>=1 and BeeIsRun(\"共生术\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and not BeeUnitCastSpellName(\"player\") and gss==\"清洁术\" then\n        BeeRun(\"共生术\",\"target\" ) ; \n    end\n    \n    if IsEquippedItem(\"影踪突袭营的抚慰护符\") and BeeUnitMana(\"player\",\"%\",0)<65 and BeeIsRun(\"影踪突袭营的抚慰护符\") and BeeUnitAffectingCombat() and BeeSpellCD(\"激活\")>1 then\n        BeeRun(\"影踪突袭营的抚慰护符\",\"player\");\n        return;\n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat(unit) and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end\n    \n    grouptype=\"\"\n    if IsInRaid() then\n        grouptype=\"raid\"\n    else\n        grouptype=\"party\"\n    end\n    \n    local xx = BeeGroupMaxScript('BeeRangeR(unit)<40 and UnitCanAssist(\"player\",unit) and BeeUnitHealth(unit,nil,1)>15000 and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit,nil,1)\",grouptype)\n    l = BeeUnitHealth(xx,\"%\")\n    if BeeIsRun(\"治疗之触\",xx) and l<50 and BeeIsRun(\"自然迅捷\",\"nogoal\") and BeeUnitAffectingCombat(unit) then\n        BeeRun(\"自然迅捷\",\"nogoal\")\n        return;\n    end\n    if BeePlayerBuffTime(\"自然迅捷\")>-1 then\n        BeeRun(\"治疗之触\",xx)\n        return;\n    end\n    \n    local XJ = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"迅捷治愈\",unit) and BeeUnitBuff(\"回春术\",unit)>1 and BeeUnitHealth(unit,\"%\")<70 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if XJ and BeeIsRun(\"迅捷治愈\",XJ) and BeeUnitAffectingCombat(unit) then \n        BeeRun(\"迅捷治愈\",XJ);\n        return; \n    end\n    \n    local m,YXMG = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\")',\"BeeUnitHealth(unit,'%')<60 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if m >3 and BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and GetTotemInfo(1) and BeeUnitAffectingCombat(unit) then \n        BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n        return; \n    end\n    \n    if BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and HasActiveTotem() and not BeeUnitCastSpellName(\"player\") and BeePlayerBuffTime(\"相生\")<3 and BeeUnitAffectingCombat(unit) then \n        BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n        return; \n    end\n    \n    if BeeIsRun(\"野性蘑菇：绽放\",\"nogoal\") and HasActiveTotem() and not BeeUnitAffectingCombat(unit) then \n        BeeRun(\"野性蘑菇：绽放\",\"nogoal\");\n        return; \n    end\n    \n    local n,YXCZ = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"野性成长\",unit)',\"BeeUnitHealth(unit,'%')<70 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if n >4 and BeeIsRun(\"野性成长\",Unit) and BeeSpellCD(\"野性成长\")<1 and BeeUnitAffectingCombat(unit) and BeeUnitMana(\"player\",\"%\",0)>10 then \n        BeeRun(\"野性成长\",YXCZ);\n        return; \n    end\n    \n    local n,YXCZ = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"野性成长\",unit)',\"BeeUnitHealth(unit,'%')<80 and not UnitIsDeadOrGhost(unit)\",grouptype) \n    if n >3 and BeeIsRun(\"野性成长\",Unit) and BeeSpellCD(\"野性成长\")<1 and BeeUnitAffectingCombat(unit) and BeeUnitMana(\"player\",\"%\",0)>10 and BeeStringFind(\"丛林之魂\",tlzd) then \n        BeeRun(\"野性成长\",YXCZ);\n        return; \n    end    \n    \n    local TMSP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"铁木树皮\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if TMSP and BeeIsRun(\"铁木树皮\",TMSP) and BeeUnitAffectingCombat(unit) then \n        BeeRun(\"铁木树皮\",TMSP);\n        return; \n    end\n    \n    local YH = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<75 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YH and BeeIsRun(\"愈合\",YH) and BeeUnitBuff(\"节能施法\", player)>1 then\n        BeeRun(\"愈合\",YH);\n        return; \n    end\n    \n    local HC = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitBuff(\"回春术\",unit)<0 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if HC and BeeIsRun(\"回春术\",HC) and BeeUnitMana(\"player\",\"%\",0)>50 then\n        BeeRun(\"回春术\",HC);\n        return; \n    end\n    \n    if BeeRangeR(\"focus\")<40 and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"生命绽放\",\"focus\") and BeeUnitBuffCount(\"生命绽放\",\"focus\")<3 and BeeUnitAffectingCombat(\"focus\")  or  BeeUnitBuff(\"生命绽放\",\"focus\")<3 and BeeUnitAffectingCombat(\"focus\") and BeeRangeR(\"focus\")<40 then \n        BeeRun(\"生命绽放\",\"focus\");\n        return; \n    end\n    \n    if BeeRangeR(\"focus\")<40 and BeeIsRun(\"回春术\",\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")<1 and BeeUnitHealth(\"focus\",\"%\")<90 then \n        BeeRun(\"回春术\",\"focus\");\n        return; \n    end\n    \n    if BeeRangeR()<40 and BeeIsRun(\"回春术\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")<1 and BeeUnitHealth(\"target\",\"%\")<90 and BeeUnitAffectingCombat(\"target\") and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") then \n        BeeRun(\"回春术\",\"target\");\n        return; \n    end\n    \n    if BeeRangeR()<40 and BeeUnitPlayerControlled(\"target\") and BeeIsRun(\"愈合\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")>0 and BeeUnitHealth(\"target\",\"%\")<80 and BeeUnitAffectingCombat(\"target\") and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") and BeeUnitMana(\"player\",\"%\",0)>70 then \n        BeeRun(\"愈合\",\"target\");\n        return; \n    end\n    \n    if BeeIsRun(\"野性成长\",\"player\") and BeeUnitBuff(\"野性成长\",\"player\")<1 and BeeUnitBuff(\"回春术\",\"player\")>1 and BeeUnitHealth(\"player\",\"%\")<40 and BeeUnitAffectingCombat() and BeeUnitMana(\"player\",\"%\",0)>70 then \n        BeeRun(\"野性成长\",\"player\");\n        return; \n    end\n    \n    if BeeRangeR(\"focus\")<40 and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"愈合\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<65 and BeeUnitAffectingCombat(\"focus\") and BeeUnitMana(\"player\",\"%\",0)>70 then \n        BeeRun(\"愈合\",\"focus\");\n        return; \n    end    \n    \n    if BeeRangeR(\"focus\")<40  and BeeIsRun(\"滋养\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<85 and BeeUnitAffectingCombat(\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")>0 then \n        BeeRun(\"滋养\",\"focus\");\n        return; \n    end\n    \n    local YHP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<70 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YHP and BeeIsRun(\"愈合\",YHP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat(unit) and BeeUnitMana(\"player\",\"%\",0)>70 then\n        BeeRun(\"愈合\",YHP);\n        BeeUnitCastSpellDelay(\"愈合\",2,YHP);\n        return; \n    end\n    \n    local ZYP = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"滋养\",unit) and BeeUnitHealth(unit,\"%\")<80 and BeeUnitHealth(unit,\"%\")>50 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZYP and BeeIsRun(\"滋养\",ZYP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat(unit) and BeeUnitMana(\"player\",\"%\",0)>10 then\n        BeeRun(\"滋养\",ZYP);\n        BeeUnitCastSpellDelay(\"滋养\",3,ZYP);\n        return; \n    end\n    \n    --remove fury\n    if BeeRangeR()<40 and BeeStringFind(\"激怒,复仇,狂暴之怒,邪恶狂热,鲁莽\", tbl) and BeeIsRun(\"安抚\",\"target\") and BeeUnitAffectingCombat() and BeeUnitMana(\"player\",\"%\",0)>70 then\n        BeeRun(\"安抚\",\"target\");\n        BeeUnitCastSpellDelay(\"安抚\",3,\"target\");\n        return; \n    end\n    \n    local PETHC = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<70 and BeeUnitBuff(\"回春术\",unit)<0 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\n    if PETHC and BeeIsRun(\"回春术\",PETHC) and BeeUnitMana(\"player\",\"%\",0)>70 then\n        BeeRun(\"回春术\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n        return; \n    end\n    \n    local PETYH = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitBuff(\"回春术\",unit)>0 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\n    if PETYH and BeeIsRun(\"愈合\",PETYH) and BeeUnitMana(\"player\",\"%\",0)>80 then\n        BeeRun(\"愈合\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n        BeeUnitCastSpellDelay(\"愈合\",3,PETYH);\n        return; \n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)>90 and AScript==1 then\n        BeeRun(\"AutoTree11\");\n        return; \n    end\n    \n    --offensive\n    if BeeRangeR()<40 and BeeIsRun(\"月火术\") and not BeeStringFind(\"月火术\",tbl) and BeeUnitAffectingCombat() and BeeUnitMana(\"player\",\"%\",0)>70 then\n        BeeRun(\"月火术\") \n        return;\n    end\n    \n    \nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "蓝树",
				}, -- [5]
				{
					["GUID"] = 7,
					["Name"] = "Pastebin",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "--offensive\nif InRangeT and BeeIsRun(\"月火术\") and BeeUnitBuff(\"月火术\",\"target\",2)<0 and BeeUnitAffectingCombat() and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,\",tbl) and not BeeUnitPlayerControlled() and yhs==1 then\n    BeeRun(\"月火术\") \n    return;\nend            \nif InRangeT and BeeIsRun(\"愤怒\") and BeeUnitHealth(\"player\",\"%\")>85 and BeeUnitMana(\"player\",\"%\",0)>60 and BeeUnitBuffCount(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat() and BeeStringFind(\"月火术\", tbl) or  BeeUnitBuff(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat() and BeeUnitHealth(\"focus\",\"%\")>80 and BeeUnitMana(\"player\",\"%\",0)>60 and BeeStringFind(\"月火术\", tbl) and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"愤怒\");\n    return; \nend    \nif InRangeT and BeeUnitHealth(\"focustarget\",\"%\")<98 and BeeIsRun(\"月火术\",\"focustarget\") and BeeSpellCD(\"月火术\",\"focustarget\")<1 and BeeUnitBuff(\"月火术\",\"focustarget\")<1 and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"月火术\",\"focustarget\");\n    return;\nend\nif BeeGetShapeshiftId()==0 and BeeUnitAffectingCombat() and not form and autoshift==1 and BeeIsRun(\"树人形态\",\"nogoal\") then\n    BeeRun(\"树人形态\",\"nogoal\");\n    return;\nend   \n\n--autoloot\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"远程拾取器\",\"nogoal\") and autoloot==1 and not UnitCanAssist(\"player\",\"mouseover\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"Loot\");\nend\n\n\nif IsEquippedItem(\"祖达萨的失窃遗物\") and not IsStealthed() and BeeStringFind(\"赞达拉的祝福\",tlzd) and BeePlayerBuffTime(\"赞达拉的祝福\")<10 and BeeIsRun(\"祖达萨的失窃遗物\",\"focus\") and not BeeGetShapeshiftFormInfo(5) then\n    BeeRun(\"祖达萨的失窃遗物\",\"focus\");\n    return;\nend\n\nif IsEquippedItem(\"祖达萨的失窃遗物\") and not IsStealthed() and BeeStringFind(\"赞达拉的祝福\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeIsRun(\"祖达萨的失窃遗物\",\"player\") and not BeeGetShapeshiftFormInfo(5) then\n    BeeRun(\"祖达萨的失窃遗物\",\"player\");\n    return;\nend\n\nlocal ZDLHD = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"祖达萨的失窃遗物\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif ZDLHD and IsEquippedItem(\"祖达萨的失窃遗物\") and BeeIsRun(\"祖达萨的失窃遗物\",ZDLHD) and BeeUnitAffectingCombat(unit) and not BeeUnitCastSpellName(\"player\") and BeeUnitBuffCount(\"赞达拉的祝福\",\"player\")>3 then \n    BeeRun(\"祖达萨的失窃遗物\",ZDLHD);\n    return; \nend    \n\n\n--gadgets\nif not UnitInBattleground(\"player\") and BeeIsRun(\"德鲁伊和牧师雕像组\") and BeeUnitAffectingCombat()  and  BeeUnitBuff(\"激活\",\"player\")>5  then \n    BeeRun(\"德鲁伊和牧师雕像组\");\n    BeeUnitCastSpellDelay(\"德鲁伊和牧师雕像组\",1,\"player\");\n    return; \nend\n\nif  BeeUnitAffectingCombat() and BeeUnitHealth(\"player\",\"%\")<90 and BeeSpellCD(\"上层精灵的灵魂镜\")<1 then \n    BeeRun(\"上层精灵的灵魂镜\");\n    BeeUnitCastSpellDelay(\"上层精灵的灵魂镜\",1,\"player\");\n    return; \nend\n\nprint(BeeIsRun(\"乌索克之力\",\"nogoal\"))\n\n--birds aoe\nif Nopower and GetEclipseDirection()==\"moon\" and BeeIsRun(\"沟通星界\",\"nogoal\") then \n    BeeRun(\"沟通星界\",\"nogoal\") \nend\n\nif UnitPower(\"player\", SPELL_POWER_ECLIPSE)>0 and GetEclipseDirection()==\"sun\" and BeeIsRun(\"沟通星界\",\"nogoal\") then \n    BeeRun(\"沟通星界\",\"nogoal\") \nend\n\nif Nopower and UnitPower(\"player\", SPELL_POWER_ECLIPSE)<=0 and UnitPower(\"player\", SPELL_POWER_ECLIPSE)>-20 and GetEclipseDirection()==\"moon\" and GetSpellCooldown(\"星涌术\")>3 and BeeIsRun(\"沟通星界\",\"nogoal\") then \n    BeeRun(\"沟通星界\",\"nogoal\") \nend\n\n--rangecheck\nlocal inRange = 0\nlocal unit = \"party1\"\nif UnitExists(unit) and UnitIsVisible(unit) and UnitIsFriend(unit) then\n    inRange = IsSpellInRange(\"Heal\",unit)\nend\nif inRange==1 then\n    Print(\"party1 is in healing range!\")\nelse\n    --Print(\"Cannot heal party1\")\nend\n\n--[[\nif InRangeT==1 and UnitName(\"focus\") and UnitName(\"target\") and UnitGUID(\"target\")==UnitGUID(\"focus\") and not UnitIsDeadOrGhost(\"player\") and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and GCD==0 then\n    BeeRun(\"targetswitch\") \n    return;\nend\n]]--\n\n--[[\n    local ZRZL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"自然之力\",unit) and BeeUnitHealth(unit,\"%\")<70 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZRZL and BeeIsRun(\"自然之力\",ZRZL) and BeeUnitAffectingCombat() and GetSpellCharges(\"自然之力\")>2 and GCD==0 then \n        BeeRun(\"自然之力\",ZRZL);\n        return; \n    end    \n    local ZRZL2 = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"自然之力\",unit) and BeeUnitHealth(unit,\"%\")<60 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZRZL2 and BeeIsRun(\"自然之力\",ZRZL2) and BeeUnitAffectingCombat() and GetSpellCharges(\"自然之力\")>1 then \n        BeeRun(\"自然之力\",ZRZL2);\n        return; \n    end    \n    local ZRZL3 = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"自然之力\",unit) and BeeUnitHealth(unit,\"%\")<50 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if ZRZL3 and BeeIsRun(\"自然之力\",ZRZL3) and BeeUnitAffectingCombat() then \n        BeeRun(\"自然之力\",ZRZL3);\n        return; \n    end    \n]]--",
				}, -- [6]
				{
					["GUID"] = 8,
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal zy = BeeUnitClassBase()\n--and BeeStringFind(\"潜行者,死亡骑士,圣骑士,猎人\",zy)\n\n--全形态自然迅捷\nif BeeStringFind(\"掠食者的迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\nif not IsStealthed() and BeeStringFind(\"掠食者的迅捷\",tlzd) and BeePlayerBuffTime(\"掠食者的迅捷\")<2 and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.99 and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"自然迅捷\",\"nogoal\") and not BeeStringFind(\"掠食者的迅捷\",tlzd) then\n    BeeRun(\"自然迅捷\",\"nogoal\");\n    return;\nend\n\nif BeeStringFind(\"自然迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\n--must dispell\nif not Name and BeeStringFind(\"元素诅咒,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\");\n    return;\nend\n\n--Powershift\nif not Name and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻,震荡射击,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,燃烧,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,公正圣印,诱捕,群体缠绕\",\"熊形态\") then\n    return;\nend\n\nif Name and BeeStringFind(\"冰霜新星,冰冻术,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) then\n    BeeRun(\"Powershift\");\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(5) or BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\")) or BeeStringFind(\"飓风\",BeeUnitCastSpellName(\"player\")) then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"恶毒角斗士的顽强勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震\",\"恶毒角斗士的顽强勋章\",false) then \n    return;\nend\n\nif not Name and BeeUnitBuffInfo(\"player\",2,\"Curse,Poison\",0)>=1 and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\") ; \nend\n\n--manual\n\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\n\nif BeeIsRun(\"野性印记\",\"player\") and  BeePlayerBuffTime(\"野性印记\")<120 and not Name and BeeUnitMana()>45 then\n    BeeRun(\"野性印记\",\"player\")\n    return;\nend\n\n---combat survive\n\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\");\nend\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"树皮术\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"生命之魂\") then\n    BeeRun(\"生命之魂\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"神效治疗药水\") then\n    BeeRun(\"神效治疗药水\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"生存本能\",\"nogoal\") then\n    BeeRun(\"生存本能\",\"nogoal\");\n    return;\nend\n\nif BeeIsRun(\"乌索克之力\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeGetShapeshiftFormInfo(1) then\n    BeeRun(\"乌索克之力\",\"nogoal\");\n    return;\nend\n\nif BeeIsRun(\"野性之心\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() then\n    BeeRun(\"野性之心\",\"nogoal\");\n    return;\nend\n\nif BeeIsRun(\"生命之血\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() then\n    BeeRun(\"生命之血\",\"nogoal\");\n    return;\nend\n\nif BeeRangeR()<9 and BeeIsRun(\"惊魂咆哮\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and BeeUnitPlayerControlled(\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,\",tbl) then\n    BeeRun(\"惊魂咆哮\",\"nogoal\");\n    return;\nend\n\n---debuff\nif not name and BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵之火\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\") \n    return;\nend\n\n---triggers bear\n\nif BeeGetShapeshiftFormInfo(1) then \n    \n    if BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻\",\"狂奔怒吼\") then\n        return;\n    end\n    \n    if IsEquippedItem(\"恶毒角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"恶毒角斗士的征服徽章\")  then\n        BeeRun(\"恶毒角斗士的征服徽章\");\n        return;\n    end\n    \n    if BeeUnitCastSpellName() and GetSpellCooldown(80964)>0 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    local Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    if not Wudi and BeeRangeR()<35 and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"精灵之火\") then BeeRun(\"精灵之火\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if not Wudi and BeeRangeR()<35 and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"精灵之火\") then BeeRun(\"精灵之火\");\n            return;\n        end\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.90 and BeeIsRun(\"回春术\",\"player\") and  BeeStringFind(\"野性之心\",tlzd) and not BeeStringFind(\"回春术\",tlzd)  then\n        BeeRun(\"回春术\",\"player\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.85 and BeeIsRun(\"狂暴回复\",\"nogoal\") and BeeUnitMana()>60 then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")>0.70 and BeeIsRun(\"野蛮防御\",\"nogoal\") and BeeUnitMana()>60 and not BeeStringFind(\"野蛮防御\",tlzd) then\n        BeeRun(\"野蛮防御\" , \"nogoal\");\n        return;\n    end\n    \n    if BeeIsRun(\"狂暴\",\"nogoal\") and BeeStringFind(\"化身：乌索克之子\",tlzd) and BeeUnitAffectingCombat() then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and BeeIsRun(\"痛击\",\"nogoal\") then\n        BeeRun(\"痛击\",\"nogoal\") ;\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and BeeIsRun(\"横扫\",\"nogoal\") then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end\n    \n    if BeeRangeR()<8 and BeeUnitAffectingCombat() and BeeIsRun(\"裂伤\") then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    \n    if BeeIsRun(\"激怒\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.70 then\n        BeeRun(\"激怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and BeeIsRun(\"狂暴\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and UnitHealth(\"target\")/UnitHealthMax(\"target\")>0.20 then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if  BeeUnitAffectingCombat() and BeeIsRun(\"重殴\") and BeeUnitMana()>40 and BeeStringFind(\"野蛮防御\",tlzd) then\n        BeeRun(\"重殴\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end\n    \nend\n\n---Triggers Cat\nif BeeRangeR()<30 and UnitIsEnemy(\"player\",\"target\") and IsStealthed(\"player\") and not UnitIsDead(\"target\") and BeeGetShapeshiftFormInfo(3)  and BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeUnitMana()>95 then\n    BeeRun(\"野蛮咆哮\")\n    return;\nend\n\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") then    \n    \n    if IsEquippedItem(\"恶毒角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"恶毒角斗士的征服徽章\")  then\n        BeeRun(\"恶毒角斗士的征服徽章\");\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeUnitHealth(\"target\",nil,0)<60000 and BeeGetComboPoints()==5 and BeeUnitMana()>50 then\n        BeeRun(\"凶猛撕咬\") \n        return;\n    elseif BeeTargetDeBuffTime(\"割裂\")<3 and BeeGetComboPoints()==5 and BeeIsRun(\"割裂\") then \n        BeeRun(\"割裂\")\n        return;\n    elseif BeeGetComboPoints()==5 and BeeIsRun(\"凶猛撕咬\") then \n        BeeRun(\"凶猛撕咬\")\n        return;\n    end\n    --[[    \n    if BeeIsRun(\"化身\",\"nogoal\") and BeeUnitAffectingCombat() then\n        BeeRun(\"化身\",\"nogoal\")\n        return;\n    end\n    ]]--\n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<30 and BeePlayerBuffTime(\"狂暴\")<0 then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"狂暴\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"自然的守护\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() then\n        BeeRun(\"自然的守护\",\"nogoal\")\n        return;\n    end\n    \n    if BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeIsRun(\"野蛮咆哮\") and BeeUnitAffectingCombat() and BeeGetComboPoints()<3 and BeeStringFind(\"塞纳留斯的梦境\",tlzd) then\n        BeeRun(\"野蛮咆哮\")\n        return;\n    end\n    \n    if BeeRangeR()>10 and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeIsRun(\"潜行\") and BeeUnitAffectingCombat() then\n        BeeRun(\"潜行\");\n        return;\n    end\n    \n    if BeeStringFind(\"奔踏\",tlzd) and BeePlayerBuffTime(\"奔踏\")<1 and BeeGetComboPoints()<5 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    if BeeStringFind(\"化身：丛林之王\",tlzd) and BeeGetComboPoints()<5 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeUnitCastSpellName() and GetSpellCooldown(80965)>0 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end\n    \n    if BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") and BeeUnitMana()<40 then\n        BeeRun(\"精灵之火\") \n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeUnitHealth(\"target\",nil,0)<33000 and BeeTargetDeBuffTime(\"斜掠\")>0 and BeeGetComboPoints()>2 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeeUnitMana()>45 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"裂伤\")\n        return;\n    end\n    \n    if BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeeUnitMana()>40 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"撕碎\")\n        BeeUnitCastSpellDelay(\"撕碎\",1,\"target\");\n        return;\n    end\n    \nend\n\n---healer job\n\nif not Name and BeePlayerBuffTime(\"喝水\")<1 then\n    \n    local YXYJP = BeePartyScript('BeeRange(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end\n    \n    local YXYJ = BeeRaidScript('BeeRange(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat(unit) and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end\n    \nend",
					["Name"] = "狂熊",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [7]
				{
					["GUID"] = 9,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "autoseek",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "--[[\nif UnitName(\"target\") and ((BeeRangeR(\"target\")<=25 and BeeRangeR(\"target\")>=10) or not BeeUnitIsFollow()) then\n    FollowUnit(\"target\");\n    return true;\nend\n\n--rareshunting\n-- 哈瓦克 被放逐的伊松\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal targetf = \"哈瓦克\"\nif BeeUnitAffectingCombat() then\n    BeeRun(\"littlebird\");\n    return; \nend\n\nif UnitName(\"target\")==targetf and BeeIsRun(\"月火术\") and not BeeStringFind(\"月火术\",tbl) then\n    BeeRun(\"月火术\")\n    PlaySound(\"LEVELUPSOUND\", \"master\");\n    return;\nend\n\nif UnitName(\"target\")==nil then\n    BeeRun(\"/targetenemy\")\n    return;\nend\n\nif not (UnitName(\"target\")==targetf) then\n    BeeRun(\"/cleartarget\")\n    return;\nend\n]]--\n\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend",
				}, -- [8]
				{
					["GUID"] = 10,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "家猫",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal zy = BeeUnitClassBase()\nlocal behind = BehindCheck()\nlocal BZ = 1 --auto catform\nlocal PX = 1 --auto roar\nlocal MHZN = 1 --tiger fury\nlocal ympx = 1 --roar\nlocal clzw = BeeStringFind(\"化身：丛林之王\",tlzd)\nlocal GCD = GetSpellCooldown(\"回春术\")\n--and BeeStringFind(\"潜行者,死亡骑士,圣骑士,猎人\",zy)\n\n--全形态自然迅捷\nif BeeStringFind(\"掠食者的迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\nif not IsStealthed() and BeeStringFind(\"掠食者的迅捷\",tlzd) and BeePlayerBuffTime(\"掠食者的迅捷\")<2 and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.99 and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"自然迅捷\",\"nogoal\") and not BeeStringFind(\"掠食者的迅捷\",tlzd) then\n    BeeRun(\"自然迅捷\",\"nogoal\");\n    return;\nend\n\nif BeeStringFind(\"自然迅捷\",tlzd) and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗之触\",\"player\") then\n    BeeRun(\"HealingTouchA\");\n    return;\nend\n\n--must dispell\nif not Name and BeeStringFind(\"元素诅咒,瘫痪药膏,减速药膏\",tlzd) and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\");\n    return;\nend\n\nif not IsMounted(\"player\") and not IsStealthed() and not BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<95 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not ningjing then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\nif not IsMounted(\"player\") and BeeRangeR()>10 and not IsStealthed() and not BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeIsRun(\"塞纳里奥结界\",\"player\") and not ningjing then\n    BeeRun(\"塞纳里奥结界\",\"player\")\n    return;\nend\n\nif not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<1 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeeGetComboPoints()<4 and BeePlayerBuffTime(\"自然的守护\")<0 and BeePlayerBuffTime(\"猛虎之怒\")<0 and not BeeGetShapeshiftFormInfo(1) and not clzw then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\n\n--Powershift\nif not Name and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻,震荡射击,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,燃烧,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,公正圣印,诱捕,群体缠绕\",\"猎豹形态\") and GCD==0 then\n    return;\nend\n\nif Name and BeeStringFind(\"冰霜新星,冰冻术,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) and GCD==0 then\n    BeeRun(\"Powershift\");\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(2) or BeeGetShapeshiftFormInfo(5) or SpellIsTargeting() or UnitChannelInfo(\"player\") then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"恶毒角斗士的顽强勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震\",\"恶毒角斗士的顽强勋章\",false) then \n    return;\nend\n\nif not Name and BeeUnitBuffInfo(\"player\",2,\"Curse,Poison\",0)>=1 and BeeIsRun(\"净化腐蚀\",\"player\") then\n    BeeRun(\"净化腐蚀\",\"player\") ; \nend\n\n--manual\n\nif BeeCastSpellFast() then\n    return true;\nend\n\n--buff\nif not Name and BeeIsRun(\"狂乱水晶\",\"player\") and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"狂乱水晶\",\"player\")\n    return;\nend\n\nif BeeIsRun(\"野性印记\",\"player\")  and  BeePlayerBuffTime(\"野性印记\")<600 and not Name or not BeeStringFind(\"野性印记\",tlzd) and not Name then\n    BeeRun(\"野性印记\",\"player\")\n    BeeUnitCastSpellDelay(\"野性印记\",1,\"player\");\n    return;\nend\n\nif not Name and BeeIsRun(\"炼金师的合剂\",\"player\") and BeePlayerBuffTime(\"增强敏捷\")<600 and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"炼金师的合剂\",\"player\")\n    return;\nend\n\n---combat survive\n\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\");\nend\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\n\nif not Name and UnitInBattleground(\"player\") and BeeIsRun(\"猎豹形态\") and BeeUnitBuff(\"野性印记\",\"player\")>120 and not BeeUnitCastSpellName(\"player\") and  BeeUnitBuff(\"回春术\",\"player\")>1 and BeeUnitBuffInfo(\"target\",2,\"Curse,Poison\",0)<1 then\n    BeeRun(\"猎豹形态\");\nend\n\nif not Name and BZ==1 and BeeIsRun(\"猎豹形态\") and not BeeUnitCastSpellName(\"player\") and BeeUnitBuff(\"回春术\",\"player\")>1 then\n    BeeRun(\"猎豹形态\");\nend\n\nif BeeGetShapeshiftFormInfo(1) and BeeStringFind(\"狂奔怒吼\",tlzd) and BeeIsRun(\"猎豹形态\") then\n    BeeRun(\"猎豹形态\",\"player\");\n    return;\nend\n\nif IsEquippedItem(\"恶毒角斗士的精确围腰\") and BeeIsRun(\"恶毒角斗士的精确围腰\") and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(\"恶毒角斗士的精确围腰\",\"player\");\n    return;\nend\n\nif not IsStealthed() and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\n\nif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"树皮术\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.40 and BeeUnitAffectingCombat() and BeeIsRun(\"生命之魂\") then\n    BeeRun(\"生命之魂\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"神效治疗药水\") then\n    BeeRun(\"神效治疗药水\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"生存本能\",\"nogoal\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕,蛮力猛击\",tbl) then\n    BeeRun(\"生存本能\",\"nogoal\");\n    return;\nend\n\nif BeeRangeR()<10 and BeeUnitTargetIsPlayer() and BeeStringFind(\"暗影之舞,鲁莽\", tbl) and BeeIsRun(\"生存本能\",\"nogoal\") and BeeUnitAffectingCombat() and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕,蛮力猛击\",tbl) then\n    BeeRun(\"生存本能\",\"nogoal\");\n    return; \nend\n\nif BeeRangeR()<10 and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"野性之心\",\"nogoal\") and BeeUnitAffectingCombat() and BeeSpellCD(\"塞纳里奥结界\")>3 and BeeSpellCD(\"生存本能\")>3 and BeePlayerBuffTime(\"塞纳里奥结界\")<0 and BeePlayerBuffTime(\"生存本能\")<0 then\n    BeeRun(\"野性之心\",\"nogoal\");\n    return; \nend\n\nif BeeIsRun(\"暴虐角斗士的龙皮手套\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() then\n    BeeRun(\"暴虐角斗士的龙皮手套\",\"nogoal\");\n    return;\nend\n\n---debuff\nif not BeeGetShapeshiftFormInfo(3) and BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") then\n    BeeRun(\"精灵之火\") \n    return;\nend\n\n---triggers bear\n\nif BeeGetShapeshiftFormInfo(1) and GCD==0 then \n    \n    if BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,冰冻\",\"狂奔怒吼\") then\n        return;\n    end\n    \n    if BeeUnitCastSpellName() and GetSpellCooldown(80964)>0 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    local Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeIsRun(\"裂伤\") then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    \n    if BeeIsRun(\"激怒\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.75 then\n        BeeRun(\"激怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"乌索克之力\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.65 then\n        BeeRun(\"乌索克之力\",\"nogoal\")\n        return;\n    end\n    \n    if BeeUnitAffectingCombat() and BeeIsRun(\"狂暴\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and UnitHealth(\"target\")/UnitHealthMax(\"target\")>0.20 then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.70 and BeeIsRun(\"狂暴回复\",\"nogoal\") and BeeUnitMana()>30 then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end\n    \n    if  BeeIsRun(\"痛击\",\"nogoal\") and BeeUnitAffectingCombat() then\n        BeeRun(\"痛击\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeStringFind(\"痛击\",tbl) and BeeIsRun(\"横扫\",\"nogoal\") then\n        BeeRun(\"横扫\",\"nogoal\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"重殴\") and BeeUnitMana()>80 then\n        BeeRun(\"重殴\") ;\n        return;\n    end\n    \n    if  BeeIsRun(\"割伤\") and BeeTargetDeBuffTime(\"割伤\")<5 or BeeIsRun(\"割伤\") and BeeTargetDeBuffCount(\"割伤\")<3 then\n        BeeRun(\"割伤\") ;\n        return;\n    end\n    \nend\n\n---Triggers Cat\nif BeeRangeR()<30 and BeeUnitCanAttack() and IsStealthed(\"player\") and not UnitIsDead(\"target\") and BeeGetShapeshiftFormInfo(3)  and BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeUnitMana()>95 and ympx==1 and GCD==0 then\n    BeeRun(\"野蛮咆哮\")\n    return;\nend\n\nif BeeGetShapeshiftFormInfo(3) and not IsStealthed(\"player\") and GCD==0 then    \n    \n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<30 and BeePlayerBuffTime(\"狂暴\")<0 and BeeStringFind(\"化身：丛林之王\",tlzd) then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<30 and BeePlayerBuffTime(\"狂暴\")<0 and BeeSpellCD(\"化身\")>28 then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"猛虎之怒\") and BeeUnitMana()<15 and BeePlayerBuffTime(\"狂暴\")<0 and MHZN==1 then\n        BeeRun(\"猛虎之怒\",\"nogoal\")\n        return;\n    end\n    \n    if IsEquippedItem(\"暴虐角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"暴虐角斗士的征服徽章\") and BeeStringFind(\"化身：丛林之王\",tlzd) then\n        BeeRun(\"暴虐角斗士的征服徽章\");\n        return;\n    end\n    \n    if IsEquippedItem(\"暴虐角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"暴虐角斗士的征服徽章\") and BeeStringFind(\"猛虎之怒\",tlzd) then\n        BeeRun(\"暴虐角斗士的征服徽章\");\n        return;\n    end\n    \n    if BeeIsRun(\"狂暴\",\"nogoal\") and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeUnitAffectingCombat() and BeeUnitMana()>65 then\n        BeeRun(\"狂暴\",\"nogoal\")\n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 and BeeTargetDeBuffTime(\"割裂\")>5 then\n        BeeRun(\"凶猛撕咬\") \n        return;\n    end\n    \n    if BeeTargetDeBuffTime(\"割裂\")<3 and BeeGetComboPoints()==5 and BeeIsRun(\"割裂\") then \n        BeeRun(\"割裂\")\n        return;\n    end \n    \n    if BeePlayerBuffTime(\"野蛮咆哮\")<1 and BeeIsRun(\"野蛮咆哮\") and BeeUnitAffectingCombat() and BeeGetComboPoints()<3 and BeeTargetDeBuffTime(\"割裂\")>6 and PX==1 and UnitHealth(\"player\")/UnitHealthMax(\"player\")>0.80 and BeeSpellCD(\"塞纳里奥结界\")<10 then\n        BeeRun(\"野蛮咆哮\")\n        return;\n    end\n    \n    if BeeRangeR()>10 and BeeStringFind(\"化身：丛林之王\",tlzd) and BeeIsRun(\"潜行\") and BeeUnitAffectingCombat() then\n        BeeRun(\"潜行\");\n        return;\n    end\n    \n    if BeeStringFind(\"奔踏\",tlzd) and BeePlayerBuffTime(\"奔踏\")<1 and BeeGetComboPoints()<5 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    if IsEquippedItem(\"暴虐角斗士的龙皮手套\") and BeeStringFind(\"化身：丛林之王\", tlzd) and BeeIsRun(\"暴虐角斗士的龙皮手套\",\"nogoal\") and BeeUnitAffectingCombat() and BeePlayerBuffTime(\"化身：丛林之王\")>15 then\n        BeeRun(\"暴虐角斗士的龙皮手套\",\"nogoal\");\n        return; \n    end\n    \n    if BeeStringFind(\"化身：丛林之王\",tlzd) and BeeGetComboPoints()<5 and BeeUnitMana()>45 and BeeUnitAffectingCombat() then\n        BeeRun(\"毁灭\");\n        return;\n    end\n    \n    --施法打断\n    --目标打断\n    if not Wudi and BeeStringFind(\"变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    --治疗打断\n    if not Wudi and BeeStringFind(\"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波\",BeeUnitCastSpellName(\"target\")) then\n        if BeeIsRun(\"迎头痛击\") then BeeRun(\"迎头痛击\");\n            return;\n        end\n    end\n    \n    if BeeUnitCastSpellName() and BeeSpellCD(\"迎头痛击\")>1 and BeeSpellCD(\"迎头痛击\")<13 and BeeIsRun(\"蛮力猛击\") and not (UnitClassification(\"target\") == \"worldboss\") then\n        BeeRun(\"蛮力猛击\");\n        return;\n    end\n    \n    if BeeRangeR()<10 and BeeIsRun(\"蛮力猛击\") and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"生存本能\")<0 and BeePlayerBuffTime(\"树皮术\")<0 and BeePlayerBuffTime(\"回春术\")>0 then\n        BeeRun(\"蛮力猛击\");\n        return; \n    end\n    \n    if BeeIsRun(\"斜掠\") and BeeUnitBuff(\"斜掠\",\"target\",2)<0 then\n        BeeRun(\"斜掠\")\n        return;\n    end\n    \n    if BeeRangeR()<35 and BeeIsRun(\"精灵之火\") and not BeeStringFind(\"精灵虫群\",tbl) and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl) and BeeUnitAffectingCombat() and not IsStealthed(\"player\") and BeeUnitMana()<40 then\n        BeeRun(\"精灵之火\") \n        return;\n    end\n    \n    if BeeIsRun(\"凶猛撕咬\") and BeeUnitHealth(\"target\",nil,0)<33000 and BeeTargetDeBuffTime(\"斜掠\")>0 and BeeGetComboPoints()>2 and BeeUnitMana()>50 and BeeTargetDeBuffTime(\"割裂\")>1 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    \n    if BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeeUnitMana()>45 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"裂伤\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 then\n        BeeRun(\"裂伤\")\n        return;\n    end\n    \n    if BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeeUnitMana()>40 and  BeeTargetDeBuffTime(\"斜掠\")>2 or BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 and BeePlayerBuffTime(\"节能施法\")>0 and BeeUnitMana()>40 then\n        BeeRun(\"撕碎\")\n        return;\n    end\n    \nend\n\n---healer job\n\nif not Name and BeePlayerBuffTime(\"喝水\")<1 then\n    \n    local YXYJP = BeePartyScript('BeeRange(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end\n    \n    local YXYJ = BeeRaidScript('BeeRange(unit)<=30 and BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\n    if YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end\n    \n    if BeeUnitMana(\"player\",\"%\",0)<70 and BeeIsRun(\"激活\",\"player\") and BeeUnitAffectingCombat(unit) and BeeSpellCD(\"激活\")<1 then\n        BeeRun(\"激活\",\"player\");\n        return;\n    end\n    \nend",
				}, -- [9]
				{
					["GUID"] = 11,
					["Name"] = "小树",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal yhs = 1 -- 月火\nlocal yaodai1=\"风炎束腰\"\nlocal yaodai2=\"风炎束腰\"\nlocal luaunlock = 1\nlocal autoshift=1\nlocal qsmouse=1\nlocal shroom=0\nlocal manapotion = 0 --1: 神效法力,  2:炼金师回春\nlocal ningjing = BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\"))\nlocal GCD=GetSpellCooldown(\"回春术\")\nlocal InRangeT = IsSpellInRange(\"月火术\",\"target\")\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal MeleeRange\nif IsSpellInRange(\"裂伤\",\"target\")==nil or IsSpellInRange(\"裂伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"裂伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n--Must Dispell\nif not Name and not IsStealthed() and BeeStringFind(\"精灵之火,精灵虫群,虚空风暴,炎爆术,活体炸弹,瘫痪药膏,减速药膏,燃烧,猎人印记,寒冰炸弹,元素诅咒\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") and not UnitChannelInfo(\"player\") and GCD==0 then\n    BeeRun(\"自然之愈\",\"player\");\n    return;\nend\n--Powershift\nif Name and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) then\n    BeeRun(\"Powershift\");\n    return;\nend\nif not Name and not UnitChannelInfo(\"player\") and not BeeUnitCastSpellName(\"player\") and BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,蛛网,寒冰结界,迟滞,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕\",\"猎豹形态\") then\n    return;\nend\nif BeeIsRun(\"惊魂咆哮\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风\",tbl) and not UnitChannelInfo(\"player\") and not IsStealthed() and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and ActionRange then\n    BeeRun(\"惊魂咆哮\",\"nogoal\");\n    return;\nend\nif SpellIsTargeting() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"旅行形态\") then\n    BeeRun(\"旅行形态\")\n    return;\nend\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(3) or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\nif not Name and BeePlayerBuffTime(\"喝水\")<1 and not UnitChannelInfo(\"player\") and GCD==0 and BeeUnitBuff(\"生命绽放\",\"focus\")<0 and BeeUnitAffectingCombat(\"focus\") and IsSpellInRange(\"生命绽放\",\"focus\") then  \n    BeeRun(\"生命绽放\",\"focus\");\n    return;\nend\nif not BeeGetShapeshiftFormInfo(1) and not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.70 and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<1 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and GCD==0 then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"骄矜角斗士的残酷勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,制裁之拳,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",\"骄矜角斗士的残酷勋章\",false) then \n    return;\nend\n\n--buff\nif not Name and BeeIsRun(\"狂乱水晶\",\"player\") and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"狂乱水晶\",\"player\")\n    return;\nend\nif not IsFalling() and BeeIsRun(\"野性印记\",\"player\")  and  BeePlayerBuffTime(\"野性印记\")<600 and not Name and GCD==0 or not IsFalling() and not BeeStringFind(\"野性印记\",tlzd) and not Name and GCD==0 then\n    BeeRun(\"野性印记\",\"player\")\n    return;\nend\nif not Name and BeeIsRun(\"炼金师的合剂\",\"player\") and BeePlayerBuffTime(\"增强智力\")<600 and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"炼金师的合剂\",\"player\")\n    return;\nend\n\n--rezmouse\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"复生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and BeeUnitAffectingCombat() then \n    BeeRun(\"复生\",\"mouseover\");\nend\nif BeeRangeR(\"mouseover\")<=40 and UnitIsDead(\"mouseover\") and BeeIsRun(\"起死回生\",\"mouseover\") and not Name and BeePlayerBuffTime(\"喝水\")<1 and not BeeUnitAffectingCombat() then \n    BeeRun(\"起死回生\",\"mouseover\");\nend\n\n--autofocus&targetfocus\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\nif BeeUnitAffectingCombat() and UnitName(\"target\")==nil or UnitIsDead(\"target\") and BeeUnitAffectingCombat() then \n    BeeRun(\"/target focus\");\nend\nif UnitName(\"focus\") and UnitCanAssist(\"player\",\"focus\") and IsSpellInRange(\"回春术\",\"focus\")==0 then\n    BeeRun(\"/clearfocus\") \n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\n\n---combat survive\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(2) and BeeIsRun(\"旅行形态\") and not BeeStringFind(\"地精滑翔器\",tlzd) and GCD==0 then\n    BeeRun(\"旅行形态\")\n    return;\nend\nif IsFalling() and IsEquippedItem(\"吉康，赤精之仁\") and BeeIsRun(\"吉康，赤精之仁\") and BeeUnitAffectingCombat() and not UnitChannelInfo(\"player\") then\n    BeeRun(\"/use 15\");\n    return;\nend\nif IsEquippedItem(yaodai1) and BeeIsRun(yaodai1,\"nogoal\") and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(\"/use 6\");\n    return;\nend\nif not IsStealthed() and BeeGetShapeshiftFormInfo(2) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(2) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")<1 and BeeIsRun(\"树皮术\") and not UnitChannelInfo(\"player\") then\n    BeeRun(\"树皮术\");\n    return;\nelseif BeeUnitBuffsSpells(\"player\",\"军团烈焰,偷袭,肾击,制裁之锤,深度冻结,刺骨之寒,震荡波\",\"树皮术\") then\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif  UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"炼金师的回春水\") and manapotion==2 then\n    BeeRun(\"炼金师的回春水\");\n    return;\nend\nif BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and IsSpellInRange(\"群体缠绕\",\"target\") and not BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"群体缠绕\",\"target\") and not BeeUnitCastSpellName(\"player\") and GCD==0 and not BeeStringFind(\"圣盾术,寒冰屏障,旋风,根基图腾效果,光环掌握,暗影斗篷,纠缠根须,威慑\",tbl) then\n    BeeRun(\"群体缠绕\",\"target\")\n    return;\nend\nif not BeeGetShapeshiftFormInfo(3) and not IsStealthed() and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<75 and not BeeStringFind(\"影遁\" , tlzd) and BeePlayerBuffTime(\"铁木树皮\")<0 and BeeIsRun(\"铁木树皮\",\"player\") and BeeSpellCD(\"树皮术\")>3 and BeePlayerBuffTime(\"树皮术\")<0 then\n    BeeRun(\"铁木树皮\",\"player\")\n    return;\nend\nif not Name and BeeIsRun(\"神效法力药水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() and manapotion==1 then\n    BeeRun(\"神效法力药水\")\n    return;\nend\nif not Name and BeeIsRun(\"炼金师的回春水\") and BeeUnitMana(\"player\",\"%\",0)<3 and BeeUnitAffectingCombat() and manapotion==2 then\n    BeeRun(\"炼金师的回春水\")\n    return;\nend\n\n---triggers bear\nif BeeGetShapeshiftFormInfo(1) and BeeUnitAffectingCombat() and GCD==0 then    \n    if BeeIsRun(\"裂伤\") then\n        BeeRun(\"裂伤\");\n        return;\n    end\n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"狂暴回复\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end    \n    if  BeeIsRun(\"痛击\") and BeeTargetDeBuffTime(\"痛击\")<5 then\n        BeeRun(\"痛击\") ;\n        return;\n    end    \nend\n\n---Triggers Cat\nif BeeGetShapeshiftFormInfo(2) and not IsStealthed(\"player\") and BeeUnitAffectingCombat() and GCD==0 then    \n    if BeeStringFind(\"精灵之火,猎人印记,精灵虫群,虚空风暴,炎爆术,活体炸弹,寒冰炸弹,毒蛇钉刺,瘫痪药膏,燃烧,献祭,元素诅咒,末日降临,腐蚀术\",tlzd) and BeeIsRun(\"自然之愈\",\"player\") then\n        BeeRun(\"自然之愈\",\"player\");\n        return;\n    end    \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 then\n        BeeRun(\"凶猛撕咬\") return;\n    end\n    if BeeGetComboPoints()<5 and  BeeIsRun(\"撕碎\") then\n        BeeRun(\"撕碎\");\n        return;\n    end    \nend\n\nlocal n,YXCZ = BeeGroupCountScript('BeeIsRun(\"野性成长\",unit) and BeeRangeR(unit)<40',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \nif not Name and n>2 and BeeIsRun(\"野性成长\",YXCZ) and BeeUnitAffectingCombat() and not UnitChannelInfo(\"player\") and GCD==0 then \n    BeeRun(\"野性成长\",YXCZ);\n    return; \nend\nlocal TMSP = BeeGroupMinScript('BeeIsRun(\"铁木树皮\",unit) and BeeUnitHealth(unit,\"%\")<60 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and IsSpellInRange(\"回春术\",unit)',\"BeeUnitHealth(unit)\",grouptype)\nif TMSP and not Name and BeeIsRun(\"铁木树皮\",TMSP) and BeeUnitAffectingCombat() then \n    BeeRun(\"铁木树皮\",TMSP);\n    return; \nend\n---healer job\nlocal DXJ = BeeGroupMaxScript('UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeUnitHealth(unit,\"%\")<50 and BeeRangeR(unit)<40',\"BeeUnitHealth(unit,nil,1)\",grouptype)\nif not Name and DXJ and not IsFalling() and not IsStealthed() and not UnitChannelInfo(\"player\") and BeeIsRun(\"治疗之触\",DXJ) and BeeIsRun(\"自然迅捷\",\"nogoal\") and BeeUnitAffectingCombat() then\n    BeeRun(\"自然迅捷\",\"nogoal\")\n    return;\nend\nif BeePlayerBuffTime(\"自然迅捷\")>-1 then\n    BeeRun(\"治疗之触\",DXJ)\n    return;\nend\nif BeeIsRun(\"治疗之触\",\"focus\") and BeeUnitBuff(\"修缮贤哲\",\"player\")<5 and BeeUnitBuffCount(\"修缮贤哲\",\"player\")>4  then\n    BeeRun(\"治疗之触\",\"focus\");\n    return; \nend\nif not Name and BeeIsRun(\"治疗之触\",\"focus\") and BeeUnitBuffCount(\"修缮贤哲\",\"player\")>4 and BeeUnitHealth(\"focus\",\"%\")<85 and BeeUnitAffectingCombat() then\n    BeeRun(\"治疗之触\",\"focus\");\n    return; \nend\nif not Name and BeePlayerBuffTime(\"喝水\")<1 and not UnitChannelInfo(\"player\") and GCD==0 then     \n    local YXYJP = BeePartyScript('BeeIsRun(\"野性印记\",unit) and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeRangeR(unit)<40')\n    if YXYJP and BeeIsRun(\"野性印记\",YXYJP) and BeeUnitBuff(\"野性印记\",YXYJP)<120 and not BeeUnitAffectingCombat() and BeeUnitMana()>30 and GCD==0 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end        \n    if BeeUnitBuffInfo(\"target\",2,\"Magic,Curse,Poison\",0)>=1 and BeeIsRun(\"自然之愈\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and BeeRangeR()<40 then\n        BeeRun(\"自然之愈\",\"target\" ) ; \n    end    \n    if BeeUnitBuffInfo(\"mouseover\",2,\"Magic,Curse,Poison\",0)>=1 and BeeIsRun(\"自然之愈\",\"mouseover\") and BeeUnitHealth(\"mouseover\",\"%\")>40 and qsmouse==1 then\n        BeeRun(\"自然之愈\",\"mouseover\" ) ; \n    end     \n    --remove rage\n    if BeeIsRun(\"安抚\",\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack() and InRangeT and isPurgeable() then\n        BeeRun(\"安抚\",\"target\");\n        return; \n    end        \n    local XJ = BeeGroupMinScript('BeeIsRun(\"迅捷治愈\",unit) and BeeUnitBuff(\"回春术\",unit)>0 and BeeUnitHealth(unit,\"%\")<75 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and IsSpellInRange(\"回春术\",unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if XJ and BeeIsRun(\"迅捷治愈\",XJ) and BeeUnitAffectingCombat() then \n        BeeRun(\"迅捷治愈\",XJ);\n        return; \n    end    \n    local YH = BeeGroupMinScript('BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<85 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeRangeR(unit)<40',\"BeeUnitHealth(unit)\",grouptype)\n    if YH and BeeIsRun(\"愈合\",YH) and BeeUnitBuff(\"节能施法\", player)>1 and GetUnitSpeed(\"player\")==0 then\n        BeeRun(\"愈合\",YH);\n        return; \n    end     \n    local HC = BeeGroupMinScript('BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitBuff(\"回春术\",unit)<1 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and IsSpellInRange(\"回春术\",unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if HC and BeeIsRun(\"回春术\",HC) then\n        BeeRun(\"回春术\",HC);\n        return; \n    end    \n    if BeeIsRun(\"回春术\",\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")<1 and BeeUnitHealth(\"focus\",\"%\")<90 and IsSpellInRange(\"回春术\",\"focus\") then \n        BeeRun(\"回春术\",\"focus\");\n        return; \n    end    \n    if BeeIsRun(\"回春术\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")<1 and BeeUnitHealth(\"target\",\"%\")<90 and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") and IsSpellInRange(\"回春术\",\"target\") then \n        BeeRun(\"回春术\",\"target\");\n        return; \n    end    \n    if BeeIsRun(\"愈合\",\"target\") and BeeUnitBuff(\"回春术\",\"target\")>0 and BeeUnitHealth(\"target\",\"%\")<80 and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"target\") and not UnitIsDeadOrGhost(\"target\") and GetUnitSpeed(\"player\")==0 and IsSpellInRange(\"愈合\",\"target\") then \n        BeeRun(\"愈合\",\"target\");\n        return; \n    end\n    if BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"愈合\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<75 and BeeUnitAffectingCombat(\"focus\") and GetUnitSpeed(\"player\")==0 and IsSpellInRange(\"愈合\",\"focus\") then \n        BeeRun(\"愈合\",\"focus\");\n        return; \n    end    \n    if BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"治疗之触\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<85 and BeeUnitAffectingCombat(\"focus\") and BeeUnitBuff(\"回春术\",\"focus\")>0 and BeeStringFind(\"丛林之魂\",tlzd) and GetUnitSpeed(\"player\")==0 and IsSpellInRange(\"治疗之触\",\"focus\") then \n        BeeRun(\"治疗之触\",\"focus\");\n        return; \n    end    \n    local YHP = BeeGroupMinScript('BeeIsRun(\"愈合\",unit) and BeeUnitHealth(unit,\"%\")<70 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and IsSpellInRange(\"回春术\",unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if YHP and BeeIsRun(\"愈合\",YHP) and BeeUnitHealth(\"focus\",\"%\")>60 and BeeUnitAffectingCombat() and GetUnitSpeed(\"player\")==0 then\n        BeeRun(\"愈合\",YHP);\n        return; \n    end          \n    if not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeIsRun(\"源生\",\"nogoal\") and BeeUnitBuff(\"回春术\",\"player\")>8 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and BeeSpellCD(\"迅捷治愈\")>0 and BeeSpellCD(\"自然迅捷\")>0 then\n        BeeRun(\"源生\",\"nogoal\");\n        return;\n    end\n    if not IsStealthed() and UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.60 and BeeIsRun(\"源生\",\"nogoal\") and BeeUnitBuff(\"回春术\",\"focus\")>8 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and BeeRangeR(\"focus\")<60 and BeeSpellCD(\"迅捷治愈\")>0 and BeeSpellCD(\"自然迅捷\")>0 then\n        BeeRun(\"源生\",\"nogoal\");\n        return;\n    end\n    \n    --offensive\n    if BeeUnitBuff(\"月火术\",\"target\",2)<0 and BeeUnitAffectingCombat() and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,\",tbl) and not BeeUnitPlayerControlled() and yhs==1 and InRangeT then\n        BeeRun(\"月火术\") \n        return;\n    end        \n    if ActionRange and BeeIsRun(\"上层精灵的灵魂镜\",\"nogoal\") and BeeUnitAffectingCombat() then\n        BeeRun(\"上层精灵的灵魂镜\",\"nogoal\") ; \n    end\n    if UnitCreatureType(\"target\")==\"小动物\" and BeeIsRun(\"潘达利亚排箫\") and not BeeUnitAffectingCombat() and not Name and MeleeRange then\n        BeeRun(\"潘达利亚排箫\") ; \n    end\nend",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["CD"] = 0,
				}, -- [10]
				{
					["GUID"] = 12,
					["Description"] = "當滿足條件時自動施放",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal yaodai1=\"骄矜角斗士的残酷腰带\"\nlocal yaodai2=\"风炎束腰\"\nlocal yhs = 1 -- 月火\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock=1\nlocal autoshift=1\nlocal AA=1\nlocal taifeng=0\nlocal zy = BeeUnitClassBase()\nlocal automark=1 --mark symboals\nlocal autobal=1 --autobalance\nlocal hoverheal=1\nlocal qsmouse=1\nlocal autoloot=0\nlocal manapotion=0 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春\nlocal ningjing = BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\"))\nlocal GCD=GetSpellCooldown(\"回春术\")\nlocal SunState=2\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握,暗影斗篷\",BeeUnitBuffList(\"target\"))\nlocal Nopower = (not BeeStringFind(\"超凡之盟\",tlzd) and not BeeStringFind(\"日之巅\",tlzd) and not BeeStringFind(\"月之巅\",tlzd))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流,亚煞极之触,强化亚煞极之触\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"月火术\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"月火术\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"月火术\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"裂伤\",\"target\")==nil or IsSpellInRange(\"裂伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"裂伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\n--Must Dispell\nif BeeGetShapeshiftFormInfo(4) and not IsStealthed() and BeeStringFind(\"浩劫,瘫痪药膏,减速药膏,元素诅咒\",tlzd) and BeeIsRun(\"净化腐蚀\",\"player\") and not UnitChannelInfo(\"player\") and GCD==0 then\n    BeeRun(\"净化腐蚀\",\"player\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<50 and not IsStealthed() and BeeIsRun(\"自然迅捷\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitChannelInfo(\"player\") then\n    BeeRun(\"自然迅捷\",\"nogoal\")\n    return;\nend\nif BeePlayerBuffTime(\"自然迅捷\")>-1 and BeeUnitHealth(\"player\",\"%\")<50 and BeeRun(\"治疗之触\",\"player\") then\n    BeeRun(\"治疗之触\",\"player\")\n    return;\nend\nlocal DXJ = BeeGroupMaxScript('UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeUnitHealth(unit,\"%\")<50 and BeeRangeR(unit)<40',\"BeeUnitHealth(unit,nil,1)\",grouptype)\nif DXJ and not IsStealthed() and BeeIsRun(\"自然迅捷\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitChannelInfo(\"player\") then\n    BeeRun(\"自然迅捷\",\"nogoal\")\n    return;\nend\nif BeePlayerBuffTime(\"自然迅捷\")>-1 and BeeIsRun(\"治疗之触\",DXJ) then\n    BeeRun(\"治疗之触\",DXJ)\n    return;\nend\n\n--Powershift\nif Name and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) and GCD==0 then\n    BeeRun(\"PowershiftA\");\n    return;\nend\nif BeeGetShapeshiftFormInfo(4) and BeeIsRun(\"狂奔怒吼\",\"nogoal\") and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",tlzd) and GCD==0 then\n    BeeRun(\"狂奔怒吼\",\"nogoal\");\n    return;\nend\nif ActionRange and not IsStealthed() and BeeIsRun(\"惊魂咆哮\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风\",tbl) and not UnitChannelInfo(\"player\") and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and GCD==0 then\n    BeeRun(\"惊魂咆哮\",\"nogoal\");\n    return;\nend\nif ActionRange and not IsStealthed() and BeeIsRun(\"台风\",\"nogoal\") and BeeSpellCD(\"惊魂咆哮\")>0 and BeeSpellCD(\"惊魂咆哮\")<28 and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风,纠缠根须\",tbl) and not UnitChannelInfo(\"player\") and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and GCD==0 and taifeng==2 then\n    BeeRun(\"台风\",\"nogoal\");\n    return;\nend\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\nif SpellIsTargeting() and HasActiveTotem() and GetTotemInfo(3) and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"野性印记\")\n    return;\nend\nif SpellIsTargeting() and GetTotemInfo(1) and not GetTotemInfo(2) and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\nif SpellIsTargeting() and HasActiveTotem() and GetTotemInfo(2) and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"野性印记\")\n    return;\nend\n\n\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") and AA==1 or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif UnitName(\"target\")==nil and UnitName(\"focus\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") and AA==1 or UnitName(\"focus\") and UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") then\n    BeeRun(\"/target focus\") \n    return;\nend\nif UnitName(\"focus\")==nil and UnitName(\"target\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat()  and not UnitIsDeadOrGhost(\"target\") and not UnitCanAssist(\"player\",\"focus\") and InRangeT==1 then\n    BeeRun(\"/focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and (InRangeF==0 or UnitIsDeadOrGhost(\"focus\")) then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() and not BeeUnitPlayerControlled(\"focustarget\")then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\n\n--打断\nif BeeGetShapeshiftFormInfo(4) and InRangeT and BeeUnitAffectingCombat() and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) then\n    if BeeIsRun(\"日光术\") then \n        if BeeUnitCastSpellName(\"player\") then\n            BeeRun(\"/stopcasting\");\n        end        \n        BeeRun(\"日光术\");\n        return;\n    end\nend\nif BeeStringFind(\"影遁\" , tlzd) and BeeIsRun(\"旅行形态\") then\n    BeeRun(\"旅行形态\")\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or BeeGetShapeshiftFormInfo(3) or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"骄矜角斗士的残酷勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",\"骄矜角斗士的残酷勋章\",false) then \n    return;\nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\nif BeeGetShapeshiftFormInfo(4) and BeeUnitHealth(\"mouseover\",\"%\")<90 and BeeIsRun(\"回春术\",\"mouseover\") and IsSpellInRange(\"回春术\",\"mouseover\") and BeeUnitBuff(\"回春术\",\"mouseover\")<1 and BeeUnitAffectingCombat() and hoverheal==1 then\n    BeeRun(\"回春术\",\"mouseover\" ) ; \nend \nif BeeGetShapeshiftFormInfo(4) and BeeUnitBuffInfo(\"target\",2,\"Curse,Poison\",0)>=1 and BeeIsRun(\"净化腐蚀\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and IsSpellInRange(\"净化腐蚀\",\"target\") then\n    BeeRun(\"净化腐蚀\",\"target\" ) ; \nend    \nif BeeGetShapeshiftFormInfo(4) and BeeUnitBuffInfo(\"mouseover\",2,\"Curse,Poison\",0)>=1 and BeeIsRun(\"净化腐蚀\",\"mouseover\") and BeeUnitHealth(\"mouseover\",\"%\")>40 and qsmouse==1 and IsSpellInRange(\"净化腐蚀\",\"mouseover\") then\n    BeeRun(\"净化腐蚀\",\"mouseover\" ) ; \nend\n\n\nif not IsFalling() and not Name and autoshift==1 and BeeIsRun(\"枭兽形态\",\"nogoal\") and GCD==0 then\n    BeeRun(\"枭兽形态\",\"nogoal\");\n    return;\nend\n---combat survive\nif BeeGetShapeshiftFormInfo(4) and not IsFalling() and not IsStealthed() and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.90 and BeeIsRun(\"回春术\",\"player\") and BeeUnitBuff(\"回春术\",\"player\")<3 and not BeeStringFind(\"急奔,狂奔怒吼\",tlzd) and GCD==0 then\n    BeeRun(\"回春术\",\"player\");\n    return;\nend\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(2) and BeeIsRun(\"旅行形态\") and not BeeStringFind(\"地精滑翔器\",tlzd) and GCD==0 then\n    BeeRun(\"旅行形态\")\n    return;\nend\nif IsFalling() and IsEquippedItem(\"心火，玉珑之息\") and BeeIsRun(\"心火，玉珑之息\") and BeeUnitAffectingCombat() and not UnitChannelInfo(\"player\") then\n    BeeRun(\"/use 15\");\n    return;\nend\nif IsEquippedItem(yaodai1) and BeeIsRun(yaodai1) and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(yaodai1);\n    return;\nend\nif IsEquippedItem(yaodai2) and BeeIsRun(yaodai2) and BeeStringFind(\"旅行形态\",tlzd) then\n    BeeRun(yaodai2);\n    return;\nend\nif not IsStealthed() and BeeGetShapeshiftFormInfo(2) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\nif BeeStringFind(\"影遁\", tlzd) and BeeGetShapeshiftFormInfo(2) and BeeIsRun(\"潜行\") then\n    BeeRun(\"潜行\");\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeSpellCD(\"树皮术\")<1 and BeeIsRun(\"树皮术\") and not UnitChannelInfo(\"player\") and GCD==0 then\n    BeeRun(\"树皮术\");\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"炼金师的回春水\") and manapotion==3 then\n    BeeRun(\"炼金师的回春水\");\n    return;\nend\nif MeleeRange and BeeUnitTargetIsPlayer() and BeeIsRun(\"树皮术\") and BeeUnitAffectingCombat() and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕,蛮力猛击\",tbl) then\n    BeeRun(\"树皮术\");\n    return; \nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"野性之心\",\"nogoal\") and BeeUnitAffectingCombat()  and GCD==0 then\n    BeeRun(\"野性之心\",\"nogoal\");\n    EuiAlertRun(\"野性之心\",1,0.1,0.1)\n    return; \nend\n\n--buff\nif (not Name or BeeGetShapeshiftId()==3) and BeeIsRun(\"狂乱水晶\",\"player\") and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"狂乱水晶\",\"player\")\n    return;\nend\nif not IsFalling() and (not Name or BeeGetShapeshiftId()==3) and BeeIsRun(\"野性印记\",\"player\") and BeePlayerBuffTime(\"野性印记\")<600 or not BeeStringFind(\"野性印记\",tlzd) and (not Name or BeeGetShapeshiftId()==5) and GCD==0 then\n    BeeRun(\"野性印记\",\"player\")\n    BeeUnitCastSpellDelay(\"野性印记\",1,\"player\");\n    return;\nend\nif (not Name or BeeGetShapeshiftId()==3) and BeeIsRun(\"炼金师的合剂\",\"player\") and BeePlayerBuffTime(\"增强智力\")<600 and BeePlayerBuffTime(\"癫狂视觉\")<60 and not BeeStringFind(\"秋叶合剂,暖阳合剂,春华合剂\",tlzd) then\n    BeeRun(\"炼金师的合剂\",\"player\")\n    return;\nend\n\n--rezmouse\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"复生\",\"mouseover\") and BeePlayerBuffTime(\"喝水\")<1 and BeeUnitAffectingCombat() and BeeRangeR(\"mouseover\")<=40 then \n    BeeRun(\"复生\",\"mouseover\");\nend\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"起死回生\",\"mouseover\") and BeePlayerBuffTime(\"喝水\")<1 and not BeeUnitAffectingCombat() and BeeRangeR(\"mouseover\")<=40 then \n    BeeRun(\"起死回生\",\"mouseover\");\nend\nif CheckInteractDistance(\"target\", 4)==1 and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and GCD==0 and GetSpellCooldown(\"日光术\")>0 and BeeSpellCD(\"日光术\")<58 and taifeng==1 then\n    if BeeIsRun(\"台风\",\"nogoal\") then BeeRun(\"台风\",\"nogoal\");\n        return;\n    end\nend\nif BeeUnitAffectingCombat() and BeeIsRun(\"自然之力\") and GetSpellCharges(\"自然之力\")>1 and BeeTargetDeBuffTime(\"台风\")>4 and GCD==0 and InRangeT then \n    BeeRun(\"自然之力\");\n    return;\nend\nif BeeUnitAffectingCombat() and BeeIsRun(\"自然之力\") and GetSpellCharges(\"自然之力\")>1 and BeeStringFind(\"日光术\",tbl) and InRangeT then \n    BeeRun(\"自然之力\");\n    return;\nend\nif BeeIsRun(\"自然之力\") and GetSpellCharges(\"自然之力\")>0 and BeeStringFind(\"超凡之盟\",tlzd) and GCD==0 and InRangeT then \n    BeeRun(\"自然之力\");\n    return;\nend\n\n\n--单体输出\nif GetUnitSpeed(\"player\")>0 and GCD==0 and BeeUnitAffectingCombat() and BeeGetShapeshiftFormInfo(4) then    \n    if BeeIsRun(\"星辰坠落\") and BeePlayerBuffTime(\"星辰坠落\")<1 and GetSpellCharges(\"星辰坠落\")>0 then \n        BeeRun(\"星辰坠落\");\n        return;\n    end\n    if BeeIsRun(\"自然之力\") and GetSpellCharges(\"自然之力\")>2 and InRangeT then \n        BeeRun(\"自然之力\");\n        return;\n    end\n    if UnitPower(\"player\", SPELL_POWER_ECLIPSE)<1 and GetSpellInfo(\"月火术\")==\"月火术\" and InRangeT then \n        BeeRun(\"月火术\");\n        return;\n    end\n    if UnitPower(\"player\", SPELL_POWER_ECLIPSE)>-1 and GetSpellInfo(\"月火术\")==\"阳炎术\" and InRangeT then \n        BeeRun(\"月火术\");\n        return;\n    end\nend\n\nif GCD==0 and BeeUnitAffectingCombat() and BeeGetShapeshiftFormInfo(4) then   \n    if BeeIsRun(\"星辰坠落\") and BeePlayerBuffTime(\"星辰坠落\")<1 and GetSpellCharges(\"星辰坠落\")>2  then \n        BeeRun(\"星辰坠落\");\n        return;\n    end\n    if GetSpellInfo(\"月火术\")==\"月火术\" and BeePlayerBuffTime(\"月之巅\")>0 and InRangeT then \n        BeeRun(\"月火术\");\n        return;\n    end \n    if GetSpellInfo(\"月火术\")==\"阳炎术\" and BeePlayerBuffTime(\"日之巅\")>0 and InRangeT then \n        BeeRun(\"月火术\");\n        return;\n    end\n    if UnitPower(\"player\", SPELL_POWER_ECLIPSE)<1 and GetSpellInfo(\"月火术\")==\"月火术\" and BeeTargetDeBuffTime(\"月火术\")<20 and InRangeT then \n        BeeRun(\"月火术\");\n        return;\n    end\n    if UnitPower(\"player\", SPELL_POWER_ECLIPSE)>-1 and GetSpellInfo(\"月火术\")==\"阳炎术\" and BeeTargetDeBuffTime(\"阳炎术\")<13 and InRangeT then \n        BeeRun(\"月火术\");\n        return;\n    end\n    if (UnitPower(\"player\", SPELL_POWER_ECLIPSE)>50 or UnitPower(\"player\", SPELL_POWER_ECLIPSE)<-50) and BeeIsRun(\"星涌术\") and InRangeT and GetSpellCharges(\"星涌术\")>1 then \n        BeeRun(\"星涌术\");\n        return;\n    end\n    if BeeIsRun(\"超凡之盟\",\"nogoal\") and (UnitPower(\"player\", SPELL_POWER_ECLIPSE)>50 or UnitPower(\"player\", SPELL_POWER_ECLIPSE)<-50) then\n        BeeRun(\"超凡之盟\",\"nogoal\")\n        EuiAlertRun(\"超凡之盟\",0.1,1,0.1)\n        return;\n    end     \n    if BeeIsRun(\"安抚\",\"target\") and BeeUnitCanAttack() and InRangeT and isPurgeable() then\n        BeeRun(\"安抚\",\"target\");\n        return; \n    end\n    if BeeIsRun(\"自然之力\") and GetSpellCharges(\"自然之力\")>2 and InRangeT then \n        BeeRun(\"自然之力\");     \n        return;\n    end\n    if BeeIsRun(\"星火术\",\"target\") and UnitPower(\"player\", SPELL_POWER_ECLIPSE)<20 and InRangeT then \n        BeeRun(\"星火术\");\n        return;\n    end \n    if BeeIsRun(\"愤怒\",\"target\") and UnitPower(\"player\", SPELL_POWER_ECLIPSE)>-20 and InRangeT then \n        BeeRun(\"愤怒\");\n        return;\n    end\nend\n\n---healer job\nif BeeGetShapeshiftFormInfo(5) and BeePlayerBuffTime(\"喝水\")<1 and not UnitChannelInfo(\"player\") and GCD==0 then            \n    local YXYJP = BeePartyScript('BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeRangeR(unit)<40')\n    if not IsFalling() and YXYJP and BeeIsRun(\"野性印记\",YXYJP) and not BeeUnitAffectingCombat() and BeeUnitMana()>30 then \n        BeeRun(\"野性印记\",YXYJP);\n        return; \n    end    \n    local YXYJ = BeeRaidScript('BeeIsRun(\"野性印记\",unit) and BeeUnitBuff(\"野性印记\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeRangeR(unit)<40')\n    if not IsFalling() and YXYJ and BeeIsRun(\"野性印记\",YXYJ) and not BeeUnitAffectingCombat() and BeeUnitMana()>85  then \n        BeeRun(\"野性印记\",YXYJ);\n        return; \n    end    \n    local HC = BeeGroupMinScript('BeeIsRun(\"回春术\",unit) and BeeUnitHealth(unit,\"%\")<90 and BeeUnitBuff(\"回春术\",unit)<1 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and IsSpellInRange(\"回春术\",unit)',\"BeeUnitHealth(unit)\",grouptype)\n    if HC and BeeIsRun(\"回春术\",HC) then\n        BeeRun(\"回春术\",HC);\n        return; \n    end    \nend\n\n---Triggers Cat\nif BeeGetShapeshiftFormInfo(2) and not IsStealthed(\"player\") and BeeUnitAffectingCombat() and GCD==0 then   \n    if BeeIsRun(\"凶猛撕咬\") and BeeGetComboPoints()==5 then\n        BeeRun(\"凶猛撕咬\") return;\n    end    \n    if BeeIsRun(\"撕碎\") and BeeGetComboPoints()<5 then\n        BeeRun(\"撕碎\")\n        return;\n    end    \nend\n\n---triggers bear\nif BeeGetShapeshiftFormInfo(1) and BeeUnitAffectingCombat() and GCD==0 then             \n    if BeeIsRun(\"裂伤\") and GetSpellCooldown(33878)<=0 then\n        BeeRun(\"裂伤\");\n        return;\n    end   \n    if UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeIsRun(\"狂暴回复\") then\n        BeeRun(\"狂暴回复\" , \"nogoal\");\n        return;\n    end   \n    if  not BeeStringFind(\"痛击\",tbl) and BeeIsRun(\"痛击\",\"nogoal\")  then\n        BeeRun(\"痛击\",\"nogoal\") ;\n        return;\n    end   \nend\n\nif BeeIsRun(\"水润珠宝\",\"nogoal\") and IsSwimming() then\n    BeeRun(\"水润珠宝\",\"nogoal\") ; \nend\nif ActionRange and BeeIsRun(\"上层精灵的灵魂镜\",\"nogoal\") and BeeGetShapeshiftFormInfo(5) and BeeUnitAffectingCombat() then\n    BeeRun(\"上层精灵的灵魂镜\",\"nogoal\") ; \nend\nif MeleeRange and UnitCreatureType(\"target\")==\"小动物\" and BeeIsRun(\"潘达利亚排箫\") and BeeGetShapeshiftFormInfo(5) and not BeeUnitAffectingCombat() then\n    BeeRun(\"潘达利亚排箫\") ; \nend\n\nif UnitName(\"focus\")==nil and GetRaidTargetIndex(\"target\")==nil and BeeUnitCanAttack(\"target\") and IsInGroup() and not IsInRaid() and not BeeUnitAffectingCombat() then \n    SetRaidTarget(\"target\", 5)\n    return;\nend\n\n--autoloot\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"远程拾取器\",\"nogoal\") and autoloot==1 and not UnitCanAssist(\"player\",\"mouseover\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"Loot\");\nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "小鸟",
				}, -- [11]
				{
					["GUID"] = 13,
					["Name"] = "Loot",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "--autoloot\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"远程拾取器\",\"nogoal\") and not UnitCanAssist(\"player\",\"mouseover\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"Loot\");\nend",
				}, -- [12]
			},
			["Variable"] = {
			},
			["Name"] = "Roger",
		}, -- [1]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Name"] = "防骑",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "--没任何圣印的时候自动补真理圣印\nif BeeIsRun(\"命令圣印\",\"nogoal\") then\n    BeeRun(\"命令圣印\",\"nogoal\");\n    return;\nend",
				}, -- [1]
				{
					["GUID"] = 2,
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal fbl = BeeUnitBuffList(\"focus\")\n\n--autofocus\nlocal numRaid = GetNumGroupMembers()\nlocal numParty = GetNumSubgroupMembers()\n\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\n\n--targetfocus\nif BeeUnitAffectingCombat() and UnitName(\"target\")==nil or UnitIsDead(\"target\") then \n    BeeRun(\"/target focus\");\nend\n\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or BeeStringFind(\"统御意志\",BeeUnitCastSpellName(\"player\")) or BeeStringFind(\"苦修\",BeeUnitCastSpellName(\"player\")) then\n    return;\nend\n\n---Trinker\nif BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,闷棍,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术\",\"自利\",false) then \n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.15 and BeeUnitAffectingCombat() and BeeIsRun(\"圣盾术\",\"player\") then\n    BeeRun(\"圣盾术\",\"player\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"神圣震击\",\"player\") then\n    BeeRun(\"神圣震击\",\"player\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeHolyPower(\"player\")>0 and BeeIsRun(\"荣耀圣令\",\"player\") then\n    BeeRun(\"荣耀圣令\",\"player\");\n    return;\nend\n\nif BeeStringFind(\"精灵之火,精灵虫群,虚空风暴,炎爆术,活体炸弹,瘫痪药膏,减速药膏,燃烧,猎人印记,寒冰炸弹\",tlzd) and BeeIsRun(\"圣佑术\",\"player\") then\n    BeeRun(\"圣佑术\",\"player\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"圣光闪现\",\"player\") then\n    BeeRun(\"圣光闪现\",\"player\");\n    return;\nend\n\nif BeeRangeR(\"focus\")<40 and UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.80 and BeeHolyPower(\"player\")>0 and BeeIsRun(\"荣耀圣令\",\"focus\") then\n    BeeRun(\"荣耀圣令\",\"focus\");\n    return;\nend\n\nif BeeRangeR(\"focus\")<40 and UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.80 and BeeUnitAffectingCombat(\"focus\") and BeeIsRun(\"圣光闪现\",\"focus\") then\n    BeeRun(\"圣光闪现\",\"focus\");\n    return;\nend\n\n--stance\nif not Name and BeeIsRun(\"命令圣印\",\"nogoal\") then\n    BeeRun(\"命令圣印\",\"nogoal\");\n    return;\nend\n\n--offensive\nif Name and BeeRangeR()<30 and BeeUnitAffectingCombat() and BeeIsRun(\"审判\") then\n    BeeRun(\"审判\");\n    return;\nend\n\nif BeeRangeR()<8 and BeeUnitAffectingCombat() and BeeIsRun(\"十字军打击\") then\n    BeeRun(\"十字军打击\");\n    return;\nend\n\nif BeeRangeR()<40 and BeeUnitAffectingCombat() and BeeIsRun(\"神圣震击\") and BeeHolyPower(\"player\")<3 and BeeUnitHealth(\"player\",\"%\")>80 and not UnitCanAssist(\"player\",\"target\") then\n    BeeRun(\"神圣震击\");\n    return;\nend\n\n--healer job\ngrouptype=\"\"\nif IsInRaid() then\n    grouptype=\"raid\"\nelse\n    grouptype=\"party\"\nend\n\nlocal WZZFP = BeePartyScript('BeeRangeR(unit)<40 and BeeIsRun(\"王者祝福\",unit) and BeeUnitBuff(\"王者祝福\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\nif WZZFP and BeeIsRun(\"王者祝福\",WZZFP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 then \n    BeeRun(\"王者祝福\",WZZFP);\n    return; \nend\n\nif not BeeStringFind(\"圣光道标\",fbl) and not BeeUnitAffectingCombat(\"focus\") and BeeIsRun(\"圣光道标\",\"focus\") then\n    BeeRun(\"圣光道标\",\"focus\");\n    return;\nend\n\nlocal SL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"圣疗\",unit) and BeeUnitHealth(unit,\"%\")<15 and BeeUnitAffectingCombat(unit) and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif SL and BeeIsRun(\"圣疗\",SL) and BeeUnitAffectingCombat(unit) then \n    BeeRun(\"圣疗\",SL);\n    return; \nend\n\nlocal n,SGPZ = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"圣光普照\",unit)',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \nif n >2 and BeeIsRun(\"圣光普照\",Unit) and BeeSpellCD(\"圣光普照\")<1 and BeeUnitAffectingCombat(unit) then \n    BeeRun(\"圣光普照\",SGPZ);\n    return; \nend\n\nlocal RYSL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"荣耀圣令\",unit) and BeeHolyPower(\"player\")>1 and BeeUnitHealth(unit,\"%\")<70 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif RYSL and BeeIsRun(\"荣耀圣令\",RYSL) and BeeUnitAffectingCombat(unit) then \n    BeeRun(\"荣耀圣令\",RYSL);\n    return; \nend\n\nlocal SGSX = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"圣光闪现\",unit) and BeeUnitHealth(unit,\"%\")<80 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif SGSX and BeeIsRun(\"圣光闪现\",SGSX) and BeeUnitAffectingCombat(unit) then \n    BeeRun(\"圣光闪现\",SGSX);\n    return; \nend\n\n--offensive\nif BeeRangeR()<30 and BeeUnitAffectingCombat() and BeeIsRun(\"愤怒之锤\")  then\n    BeeRun(\"愤怒之锤\");\n    return;\nend",
					["Name"] = "奶骑",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [2]
			},
			["Variable"] = {
			},
			["Name"] = "Pally",
		}, -- [2]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Name"] = "debug",
					["Script"] = "print(BeeStringFind(\"Incarnation\",BeeUnitBuffList(\"player\")))\n\nprint(BeeUnitBuffCount(\"化身:丛林之王\", \"player\"))\nprint(BeeUnitBuff(\"Incarnation\", \"player\"))\nprint(BeePlayerBuffTime(\"化身:丛林之王\"))\nprint(BeePlayerBuffCount(\"化身:丛林之王\"))\nprint(BeeSpellCD(\"化身:丛林之王\"))\nprint(BeeGCD(\"62552\"))\nprint(GetSpellCooldown(62552)) \nprint(GetSpellInfo(62552))\nprint(UnitBuff(\"player\",\"Incarnation\"))\nprint(UnitAura(\"player\",114908))",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [1]
				{
					["GUID"] = 2,
					["Name"] = "test",
					["Script"] = "--print(DestroyTotem(1))\n--print(HasActiveTotem())\n--TurnOrActionStart()\n--TurnOrActionStop()\n--print(BeeKey(\"/gu Game Of Thorns 第三季第8集已刷\"))\n--print(CameraOrSelectOrMoveStart())\n--CastSpellByName(\"野性蘑菇\")\n--/run SetBinding(\"X\", \"CAMERAORSELECTORMOVE\") SaveBindings(GetCurrentBindingSet())\n--local t = GetSpellInfo(\"共生术\")\n--print(BeeUnitBuff(\"野性蘑菇\", \"player\"))\n--print(SpellIsTargeting())\n--BeeRun(\"飓风\",\"nogoal\",\"0|0|1\")\n--WowBeeHelper_OnMacro(string.format(\"%s#%s\",mouse,tspell),5)\n--local mouse = \"0|0|1\"\n--local tspell = \"/cast 飓风\"\n--WowBeeHelper_OnMacro(string.format(\"%s#%s\",mouse,tspell),5)\n--WowBeeHelper_OnMacro(\"/cast 飓风\")\n--print(BeeIsRun(\"/cast 102355\"))\n--print(GetSpellInfo(\"自然之力\"))\n--print((t==\"冰封之韧\"))\n--print(GetSpellCharges(\"自然之力\"))\n--print(IsCurrentSpell(\"自然之力\"))\n--SpellTargetUnit(\"player\")\n--print(BeeRangeR())\n--print(UnitInRange(\"target\"))\n--local tblf = BeeUnitBuffList(\"focus\")\n--print(BeeUnitAffectingCombat())\n--print(BeeSpellCD(\"自然之力\"))\n--print(BeeUnitBuff(114908, \"player\"))\n--BeeMouse(0|0|1,\"飓风\");\n--print(BeeHolyPower(\"player\"))\n--print(IsEnemy(\"target\"))\n--local zy = BeeUnitClassBase()\n--print(not IsMounted())\n--print(BeeStringFind(\"野性蘑菇\",tblf))\n--print(BeePlayerBuffTime(\"铁木树皮\")<0)\n--ningjing=BeeStringFind(\"宁静\",BeeUnitCastSpellName(\"player\"))\n--print(not BeeUnitCastSpellName(\"player\"))\n--print(BeeIsRun(\"清洁术\",\"player\"))\n--print(BeeRun(\"共生术\",\"player\"))\n--print(BeeIsRun(\"自然的守护\",\"nogoal\"))\n--print(BeeRun(\"野性蘑菇\",\"nogoal\"))\n--[[\nif BeeIsRun(\"野性蘑菇\",\"nogoal\") then \n    BeeRun(\"野性蘑菇\",\"nogoal\");\n    return;\nend\n]]--\n--[[if not behindCheck then\n    behindCheck = CreateFrame(\"Frame\")\nend\n\nlocal frame = behindCheck\nframe:RegisterEvent(\"UI_ERROR_MESSAGE\")\nframe:SetScript(\"OnEvent\", function(self, event, ...)\n        local msg = select(1, ...)\n        if (msg:find(\"背后\") ~= nil) or (msg:find(\"太远\") ~= nil) or (msg:find(\"错误\") ~= nil) then\n            behind=false\n        else\n            behind=true\n        end\nend)\n\n\nprint(LosCheck())\n]]--\n--local behind = BehindCheck()\n--print(behind)\n--print(BeeSpellCD(\"迎头痛击\"))\n--[[\nlocal y,n,s,_ for i=1,40 do n,_,_,s=UnitAura(\"target\",i)\n    print(s)\n    if s==\"\" then \n        print(n..\" can purge!\") \n        y=1 \n    end \nend \n\nif y~=1 then \n    print(\"No purgeable buffs.\")\nend]]--\n--[[\nlocal kl={UnitBuff(\"player\",\"狂乱\")}\nif UnitBuff(\"player\",\"狂乱\") and kl[4]>2 then\n    print(\"yeh\")\nend\n]]--\n--print(checkFall())\n\n--[[local test=BeeRaidScript(\"BeeUnitHealth(unit)>1000\")\nprint(BeeGetVariable(\"BeeRaidInfo_Unit\"))\n--10 yard range check\nlocal ActionRange = CheckInteractDistance(\"target\", 3)\nprint(ActionRange)\n]]--\n--grouptype=\"raid\"\n--print(BeeGroupMinScript('BeeUnitHealth(unit,\"%\")100',\"BeeUnitHealth(unit)\",grouptype))\n\nprint(IsSpellInRange(\"回春术\",\"focus\"))",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["CD"] = 2,
				}, -- [2]
				{
					["GUID"] = 3,
					["Script"] = "BeeRun(\"announce\");",
					["Description"] = "當滿足條件時自動施放",
					["CD"] = 10,
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "announce",
				}, -- [3]
				{
					["GUID"] = 4,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "symtest",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "function InformTargetSymLink() \n    local t = { \n        --Death Knight \n        s250 = \"113072\", \n        s251 = \"113516\", \n        s252 = \"113516\", \n        \n        --Hunter \n        s253 = \"113073\", \n        s254 = \"113073\", \n        s255 = \"113073\", \n        \n        --Mage \n        s62 = \"113074\", \n        s63 = \"113074\", \n        s64 = \"113074\", \n        \n        --Monk \n        s268 = \"113306\", \n        s270 = \"113275\", \n        s269 = \"127361\", \n        \n        --Paladin \n        s65 = \"113269\", \n        s66 = \"113075\", \n        s67 = \"122287\", \n        \n        --Priest \n        s256 = \"113506\", \n        s257 = \"113506\", \n        s258 = \"113278\", \n        \n        --Rogue \n        s259 = \"113613\", \n        s260 = \"113613\", \n        s261 = \"113613\", \n        \n        --Shaman \n        s262 = \"113286\", \n        s263 = \"113286\", \n        s264 = \"113289\", \n        \n        --Warlock \n        s265 = \"113295\", \n        s266 = \"113295\", \n        s267 = \"113295\", \n        \n        --Warrior \n        s71 = \"122294\", \n        s72 = \"122294\", \n        s73 = \"122286\" \n    } \n    local spellLink = GetSpellLink(122294);\n    SendChatMessage(\"我已共生你,你将获得技能-\" .. spellLink ..\".\",\"whisper\",nil,UnitName(\"target\")); \nend ",
				}, -- [4]
				{
					["GUID"] = 5,
					["Name"] = "paste",
					["Script"] = "\n--offensive\nif BeeRangeR()<40 and BeeIsRun(\"月火术\") and not BeeStringFind(\"月火术\",tbl) and BeeUnitAffectingCombat() and not BeeStringFind(\"法术反射,圣盾术,寒冰屏障,\",tbl) then\n    BeeRun(\"月火术\") \n    return;\nend\n\nif BeeRangeR()<40 and BeeIsRun(\"愤怒\") and BeeUnitHealth(\"player\",\"%\")>85 and BeeUnitMana(\"player\",\"%\",0)>60 and BeeUnitBuffCount(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat(unit) and BeeStringFind(\"月火术\", tbl) or  BeeUnitBuff(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat(unit) and BeeUnitHealth(\"focus\",\"%\")>80 and BeeUnitMana(\"player\",\"%\",0)>60 and BeeStringFind(\"月火术\", tbl) then \n    BeeRun(\"愤怒\");\n    BeeUnitCastSpellDelay(\"愤怒\",3,\"target\");\n    return; \nend\n\nif BeeRangeR()<40 and BeeIsRun(\"星火术\") and BeeUnitHealth(\"player\",\"%\")>85 and BeeUnitMana(\"player\",\"%\",0)>30 and  BeeUnitMana(\"player\",\"%\",0)<60 and BeeUnitBuffCount(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat(unit) or  BeeUnitBuff(\"生命绽放\",\"focus\")>2 and BeeUnitAffectingCombat(unit) and BeeUnitMana(\"player\",\"%\",0)>30 and  BeeUnitMana(\"player\",\"%\",0)<60 and BeeUnitHealth(\"player\",\"%\")>85 then \n    BeeRun(\"星火术\");\n    BeeUnitCastSpellDelay(\"星火术\",4,\"target\");\n    return; \nend\n\nif BeeUnitHealth(\"focustarget\",\"%\")<98 and BeeIsRun(\"月火术\",\"focustarget\") and BeeSpellCD(\"月火术\",\"focustarget\")<1 and BeeUnitBuff(\"月火术\",\"focustarget\")<1\nthen BeeRun(\"月火术\",\"focustarget\");\nend\n\n--gadgets\nif  BeeIsRun(\"德鲁伊和牧师雕像组\") and BeeUnitAffectingCombat()  and  BeeUnitBuff(\"激活\",\"player\")>5  then \n    BeeRun(\"德鲁伊和牧师雕像组\");\n    BeeUnitCastSpellDelay(\"德鲁伊和牧师雕像组\",1,\"player\");\n    return; \nend\n\nif  BeeUnitAffectingCombat() and BeeUnitHealth(\"player\",\"%\")<90 and BeeSpellCD(\"上层精灵的灵魂镜\")<1 then \n    BeeRun(\"上层精灵的灵魂镜\");\n    BeeUnitCastSpellDelay(\"上层精灵的灵魂镜\",1,\"player\");\n    return; \nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [5]
				{
					["GUID"] = 6,
					["Name"] = "temp",
					["Script"] = "print(BeeIsRun(\"黑暗灵魂：学识\",\"nogoal\"))\nprint(BeeIsRun(\"黑暗灵魂\",\"nogoal\"))\nprint(GetSpellInfo(\"黑暗灵魂\"))\nprint(BeeGetShapeshiftId())",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [6]
				{
					["GUID"] = 7,
					["Script"] = "--[[local fadeframe = CreateFrame(\"FRAME\",\"Bufffadeframe\");\nfadeframe:RegisterEvent(\"UNIT_AURA\");\nlocal function eventHandler(self, event, ...)    \n    local switch=1       \n    if BeePlayerBuffTime(\"相生\")<0 and switch==1 then\n        print(\"相生消失了\");\n        EuiAlertRun(\"相生消失了\",0.1,1,0.1)\n        switch=0\n    end  \nend\nfadeframe:SetScript(\"OnEvent\", eventHandler);\n\nif IsFalling() and not BeeGetShapeshiftFormInfo(1) and not BeeGetShapeshiftFormInfo(3) and BeeIsRun(\"迅捷飞行形态\") then\n    BeeRun(\"迅捷飞行形态\")\n    return;\nend\nprint(BeeRangeR())\n]]--\nprint(GetLocale())",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "test2",
				}, -- [7]
				{
					["Enabled"] = true,
					["Name"] = "AH",
					["Description"] = "當滿足條件時自動施放",
					["CD"] = 0.5,
					["GUID"] = 8,
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "BeeRun(\"/click TSMAuctioningPostButton\")",
				}, -- [8]
			},
			["Variable"] = {
			},
			["Name"] = "debug",
		}, -- [3]
		{
			["Items"] = {
				{
					["GUID"] = 2,
					["Name"] = "DispAtk",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal fbl = BeeUnitBuffList(\"focus\")\nlocal luaunlock=1\nlocal AA=1\nlocal AO=0\n--autofocus\nlocal zy = BeeUnitClassBase()\nlocal numRaid = GetNumGroupMembers()\nlocal numParty = GetNumSubgroupMembers()\nlocal GCD=GetSpellCooldown(\"恢复\")\nlocal InRangeT = IsSpellInRange(\"暗言术：痛\",\"target\")\nlocal InRangeTF = IsSpellInRange(\"暗言术：痛\",\"focustarget\")\nlocal InRangeTS = IsSpellInRange(\"惩击\",\"target\")\nlocal InRangeTSF = IsSpellInRange(\"惩击\",\"focustarget\")\nlocal InRangeH = IsSpellInRange(\"苦修\",\"focus\")\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,暗影斗篷\",BeeUnitBuffList(\"target\"))\ngrouptype=\"\"\nif IsInRaid() then\n    grouptype=\"raid\"\nelse\n    grouptype=\"party\"\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\n\n--targetfocus\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and AA==1 and BeeUnitCanAttack(\"focustarget\") or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focustarget\") and AA==1 then\n    BeeRun(\"/target focus\") \n    return;\nend\nif BeeUnitAffectingCombat() and UnitName(\"target\")==nil or UnitIsDead(\"target\") and BeeUnitAffectingCombat() and UnitName(\"focustarget\")==nil then \n    BeeRun(\"/target focus\");\nend\nif UnitName(\"focus\") and UnitCanAssist(\"player\",\"focus\") and IsSpellInRange(\"苦修\",\"focus\")==0 then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\n\nif SpellIsTargeting() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or BeeStringFind(\"统御意志\",BeeUnitCastSpellName(\"player\")) or BeeStringFind(\"苦修\",BeeUnitCastSpellName(\"player\")) or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeePlayerBuffTime(\"喝水\")>1 or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\nif BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,燃烧,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,眩晕,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) and BeeIsRun(\"逃命专家\",\"nogoal\") and BeeSpellCD(\"渐隐术\")>0 then\n    BeeRun(\"逃命专家\",\"nogoal\");\n    return;\nend\n\nif BeeIsRun(\"暗言术：灭\") and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") \nthen BeeRun(\"暗言术：灭\");\nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\nif BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,燃烧,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,眩晕,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) and BeeIsRun(\"渐隐术\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"渐隐术\",\"nogoal\");\n    return;\nend\n\n--buff\nif not BeeStringFind(\"心灵之火\",tlzd) and not BeeStringFind(\"心灵意志\",tlzd) and BeeIsRun(\"心灵之火\",\"player\") and GCD==0 then\n    BeeRun(\"心灵之火\",\"player\");\n    return;\nend\n\nif not BeeStringFind(\"防护恐惧结界\",tlzd) and BeeIsRun(\"防护恐惧结界\",\"player\") and GCD==0 then\n    BeeRun(\"防护恐惧结界\",\"player\");\n    return;\nend\n\nif not BeeStringFind(\"真言术：韧\",tlzd) and BeeIsRun(\"真言术：韧\",\"player\") and GCD==0 then\n    BeeRun(\"真言术：韧\",\"player\");\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"恶毒角斗士的冥想勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"恶毒角斗士的冥想勋章\",false) then \n    return;\nend\n\n--Must Dispell\nif BeeStringFind(\"精灵之火,精灵虫群,虚空风暴,炎爆术,活体炸弹,燃烧,猎人印记,寒冰炸弹\",tlzd) and BeeIsRun(\"纯净术\",\"player\") then\n    BeeRun(\"纯净术\",\"player\");\n    return;\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nend\n\nif InRangeTS and not Wudi and BeeStringFind(\"嗜血,真言术：盾,野性印记,真言术：韧,奥术智慧,黑暗意图,王者祝福,力量祝福,永恒之火,奥术光辉,神圣洞察,时间扭曲,寒冰护体,保护之手,灵魂治愈,生命绽放,无私治愈,帝王传承\",tbl) and BeeIsRun(\"驱散魔法\") and GCD==0 then\n    BeeRun(\"驱散魔法\");\n    return;\nend\n\nif ActionRange and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人\",zy) and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not IsStealthed() and BeePlayerBuffTime(\"幽灵伪装\")<0 and BeeIsRun(\"幽灵伪装\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"幽灵伪装\",\"nogoal\")\n    return;\nend\n\nif BeeTargetTargetIsPlayer() and not IsStealthed() and BeePlayerBuffTime(\"幽灵伪装\")<0 and BeeIsRun(\"幽灵伪装\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") and BeeUnitHealth(\"player\",\"%\")<70 and GCD==0 then\n    BeeRun(\"幽灵伪装\",\"nogoal\");\n    return;\nend\n\nif not BeeStringFind(\"真言术：盾\",tlzd) and BeeUnitAffectingCombat() and BeeIsRun(\"真言术：盾\",\"player\") and BeeUnitHealth(\"player\",\"%\")<95 and GCD==0 then\n    BeeRun(\"真言术：盾\",\"player\");\n    return;\nend\n\nlocal n,BLS = BeeGroupCountScript('BeeRangeR(unit)<40 and BeeIsRun(\"瀑流\",unit)',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \nif n >2 and BeeIsRun(\"瀑流\",BLS) and BeeUnitAffectingCombat() then \n    BeeRun(\"瀑流\",BLS);\n    return; \nend\n\nif not BeeStringFind(\"恢复\",tlzd) and BeeUnitAffectingCombat() and BeeIsRun(\"恢复\",\"player\") and BeeUnitHealth(\"player\",\"%\")<95 and GCD==0 then\n    BeeRun(\"恢复\",\"player\");\n    return;\nend\n\nif BeeUnitAffectingCombat() and BeeIsRun(\"心灵专注\",\"nogoal\") and BeeUnitHealth(\"player\",\"%\")<60 then\n    BeeRun(\"心灵专注\",\"nogoal\");\n    return;\nend\n\nif IsSpellInRange(\"苦修\",\"focus\") and not BeeStringFind(\"真言术：盾\",fbl) and BeeUnitAffectingCombat() and BeeIsRun(\"真言术：盾\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<95 and GCD==0 then\n    BeeRun(\"真言术：盾\",\"focus\");\n    return;\nend\n\nif IsSpellInRange(\"苦修\",\"focus\") and BeeStringFind(\"虚弱灵魂\",fbl) and BeeUnitAffectingCombat() and BeeIsRun(\"苦修\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<75 and GCD==0 then\n    BeeRun(\"苦修\",\"focus\");\n    return;\nend\n\nif IsSpellInRange(\"苦修\",\"focus\") and BeeStringFind(\"虚弱灵魂\",fbl) and not BeeStringFind(\"真言术：盾\",fbl) and BeeIsRun(\"愈合祷言\",\"focus\") and GCD==0 then\n    BeeRun(\"愈合祷言\",\"focus\");\n    return; \nend\n\nif IsSpellInRange(\"苦修\",\"focus\") and not BeeStringFind(\"恢复\",fbl) and BeeUnitAffectingCombat() and BeeIsRun(\"恢复\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<90 and GCD==0 then\n    BeeRun(\"恢复\",\"focus\");\n    return;\nend\n\nif BeeUnitAffectingCombat() and BeeIsRun(\"心灵专注\",\"nogoal\") and BeeUnitHealth(\"focus\",\"%\")<50 then\n    BeeRun(\"心灵专注\",\"nogoal\");\n    return;\nend\n\nif BeeUnitAffectingCombat() and BeeIsRun(\"痛苦压制\",\"nogoal\") and BeeUnitHealth(\"player\",\"%\")<60 then\n    BeeRun(\"痛苦压制\",\"player\");\n    EuiAlertRun(\"痛苦压制\",0.1,1,0.1)\n    return;\nend\n\nif ActionRange and not Wudi and BeeIsRun(\"心灵尖啸\",\"nogoal\") and not IsStealthed() and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and BeeUnitPlayerControlled(\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,暗影斗篷\",tbl) and not UnitInVehicle(\"target\") and GCD==0 then\n    BeeRun(\"心灵尖啸\",\"nogoal\");\n    return;\nend\n\nif InRangeTS and BeeIsRun(\"神圣之火\") and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\")\nthen BeeRun(\"神圣之火\");\nend\n\nif InRangeT and not Wudi and not BeeStringFind(\"暗言术：痛\",tbl) and BeeUnitAffectingCombat() and BeeIsRun(\"暗言术：痛\") and GCD==0 then\n    BeeRun(\"暗言术：痛\");\n    return;\nend\n\n--healer job\nlocal KSZL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"快速治疗\",unit) and BeeUnitHealth(unit,\"%\")<85 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif KSZL and BeeIsRun(\"快速治疗\",KSZL) and BeeUnitBuff(\"光明涌动\", player)>1 and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"快速治疗\",KSZL);\n    return; \nend\n\nif InRangeT and BeeIsRun(\"暗影魔\",\"nogoal\") and BeeUnitAffectingCombat()  and BeeUnitMana(\"player\",\"%\",0)<75 and GCD==0 then BeeRun(\"暗影魔\");\nend\n\nif IsSpellInRange(\"苦修\",\"target\") and BeeUnitBuffInfo(\"target\",2,\"Magic,Disease\",0)>=1 and BeeIsRun(\"纯净术\",\"target\") and BeeUnitHealth(\"target\",\"%\")>40 and GCD==0 then\n    BeeRun(\"纯净术\",\"target\" ) ; \nend\n\nif IsSpellInRange(\"苦修\",\"mouseover\") and BeeUnitBuffInfo(\"mouseover\",2,\"Magic,Disease\",0)>=1 and BeeIsRun(\"纯净术\",\"mouseover\") and GCD==0 then\n    BeeRun(\"纯净术\",\"mouseover\" ) ; \nend\n\nlocal KX = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"苦修\",unit) and BeeUnitHealth(unit,\"%\")<70 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif KX and BeeIsRun(\"苦修\",KX) and GCD==0 then\n    BeeRun(\"苦修\",KX);\n    return; \nend\n\nlocal ZYD = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"真言术：盾\",unit) and BeeUnitHealth(unit,\"%\")<80 and BeeUnitBuff(\"真言术：盾\",unit)<0 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeUnitAffectingCombat(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif ZYD and BeeIsRun(\"真言术：盾\",ZYD) and GCD==0 then\n    BeeRun(\"真言术：盾\",ZYD);\n    return; \nend\n\nlocal ZYRP = BeePartyScript('BeeRangeR(unit)<40 and BeeIsRun(\"真言术：韧\",unit) and BeeUnitBuff(\"真言术：韧\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\nif ZYRP and BeeIsRun(\"真言术：韧\",ZYRP) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>30 and GCD==0 then \n    BeeRun(\"真言术：韧\",ZYRP);\n    return; \nend\n\nlocal ZYR = BeeRaidScript('BeeRangeR(unit)<40 and BeeIsRun(\"真言术：韧\",unit) and BeeUnitBuff(\"真言术：韧\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)')\nif ZYR and BeeIsRun(\"真言术：韧\",ZYR) and not BeeUnitAffectingCombat(unit) and BeeUnitMana()>85 and GCD==0 then \n    BeeRun(\"真言术：韧\",ZYR);\n    return; \nend\n\nif InRangeH and BeeUnitPlayerControlled(\"focus\") and BeeIsRun(\"快速治疗\",\"focus\") and BeeUnitHealth(\"focus\",\"%\")<80 and BeeStringFind(\"虚弱灵魂\",fbl) and BeeUnitAffectingCombat(\"focus\") and UnitCanAssist(\"player\",\"focus\") and not UnitIsDeadOrGhost(\"focus\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then \n    BeeRun(\"快速治疗\",\"focus\");\n    return; \nend\n\nlocal n,YHDY = BeeGroupCountScript('BeeRangeR(unit)<39 and BeeIsRun(\"愈合祷言\",\"nogoal\")',\"BeeUnitHealth(unit,'%')<90 and not UnitIsDeadOrGhost(unit)\",grouptype) \nif n >2 and BeeIsRun(\"愈合祷言\",\"nogoal\") and BeeSpellCD(\"愈合祷言\")<1 and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") and GCD==0 then \n    BeeRun(\"愈合祷言\",YHDY);\n    return; \nend\n\nlocal HF = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"恢复\",unit) and BeeUnitBuff(\"恢复\",unit)<0 and BeeUnitHealth(unit,\"%\")<90 and BeeStringFind(\"虚弱灵魂\",BeeUnitBuffList(unit)) and not BeeStringFind(\"真言术：盾\",BeeUnitBuffList(unit)) and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif HF and BeeIsRun(\"恢复\",HF) and GCD==0 then\n    BeeRun(\"恢复\",HF);\n    return; \nend\n\nlocal HFX = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"恢复\",unit) and BeeUnitBuff(\"恢复\",unit)<0 and BeeUnitHealth(unit,\"%\")<90 and BeeUnitHealth(unit,\"%\")>50 and not BeeStringFind(\"真言术：盾\",BeeUnitBuffList(unit)) and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif HFX and BeeIsRun(\"恢复\",HFX) and GCD==0 then\n    BeeRun(\"恢复\",HFX);\n    return; \nend\n\nlocal ZL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"快速治疗\",unit) and BeeUnitHealth(unit,\"%\")<75 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeUnitAffectingCombat(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif ZL and BeeIsRun(\"快速治疗\",ZL) and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"快速治疗\",ZL);\n    return; \nend\n\nlocal MZL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"治疗术\",unit) and BeeUnitHealth(unit,\"%\")<70 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and not BeeUnitAffectingCombat(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif MZL and BeeIsRun(\"治疗术\",MZL) and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"治疗术\",MZL);\n    return; \nend\n\nlocal PETZL = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"快速治疗\",unit) and BeeUnitHealth(unit,\"%\")<50 and UnitCanAssist(\"player\",unit) and BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\nif PETZL and BeeIsRun(\"快速治疗\",PETZL) and BeeUnitMana(\"player\",\"%\",0)>80 and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"快速治疗\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n    return; \nend\n\nlocal PETMZL = BeePartyPetScript('BeeRangeR(unit)<40 and BeeIsRun(\"治疗术\",unit) and BeeUnitHealth(unit,\"%\")<60 and UnitCanAssist(\"player\",unit) and not BeeUnitAffectingCombat(unit) and not UnitIsDeadOrGhost(unit)')\nif PETMZL and BeeIsRun(\"治疗术\",PETMZL) and BeeUnitMana(\"player\",\"%\",0)>80 and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"治疗术\",BeeGetVariable(\"BeePartyPetInfo_Unit\"));\n    return; \nend\n\nif BeeIsRun(\"天使长\",\"nogoal\") and BeeUnitBuffCount(\"福音传播\",\"player\")>4 and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") or  BeeIsRun(\"天使长\",\"nogoal\") and BeeUnitBuff(\"福音传播\",\"focus\")<5 and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"天使长\",\"nogoal\");\n    return; \nend\n\n--offensive\nif InRangeTS and not Wudi and isPurgeable() and BeeIsRun(\"驱散魔法\") and BeeUnitAffectingCombat() and BeeUnitCanAttack() and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"驱散魔法\");\n    return; \nend\n\nif InRangeTSF and BeeIsRun(\"神圣之火\",\"focustarget\") and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\")\nthen BeeRun(\"神圣之火\",\"focustarget\");\nend\n\nif InRangeTF and BeeIsRun(\"暗影魔\",\"focustarget\") and BeeUnitAffectingCombat()  and BeeUnitMana(\"player\",\"%\",0)<75 and GCD==0 then BeeRun(\"暗影魔\",\"focustarget\");\nend\n\nif InRangeTF and not Wudi and BeeUnitBuff(\"暗言术：痛\",\"focustarget\")<0 and BeeUnitHealth(\"focustarget\",\"%\")<98 and BeeIsRun(\"暗言术：痛\",\"focustarget\") and BeeSpellCD(\"暗言术：痛\",\"focustarget\")<1 and BeeUnitAffectingCombat() and AO==1 and not BeeUnitCastSpellName(\"player\") and GCD==0\nthen BeeRun(\"暗言术：痛\",\"focustarget\");\nend\n\nif InRangeTF and not Wudi and BeeIsRun(\"苦修\",\"focustarget\") and BeeSpellCD(\"苦修\",\"focustarget\")<1 and BeeUnitCanAttack(\"focustarget\") and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") and AO==1 and GCD==0\nthen BeeRun(\"苦修\",\"focustarget\");\nend\n\nif InRangeTSF and BeeIsRun(\"惩击\",\"focustarget\") and BeeUnitBuff(\"暗言术：痛\",\"focustarget\")>0 and BeeUnitAffectingCombat() and BeeUnitHealth(\"focus\",\"%\")>80 and BeeUnitHealth(\"player\",\"%\")>80 and BeeUnitMana(\"player\",\"%\",0)>70 and not BeeUnitCastSpellName(\"player\") and not BeeIsRun(\"暗言术：灭\",\"focustarget\") and AO==1 and GCD==0\nthen BeeRun(\"惩击\",\"focustarget\");\nend\n\nif IsSpellInRange(\"苦修\",\"mouseover\") and UnitIsDead(\"mouseover\") and BeeIsRun(\"复活术\",\"mouseover\") and BeePlayerBuffTime(\"喝水\")<1 and not BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") and GCD==0 then \n    BeeRun(\"复活术\",\"mouseover\");\nend\n\n--autoloot\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"远程拾取器\",\"nogoal\") and autoloot==1 and not UnitCanAssist(\"player\",\"mouseover\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"Loot\");\nend",
				}, -- [1]
			},
			["Variable"] = {
			},
			["Name"] = "Preist",
		}, -- [4]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Name"] = "Locks",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock = 1\nlocal qsmouse=1\nlocal autoloot=1\nlocal zy = BeeUnitClassBase()\nlocal manapotion = 4 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命\nlocal GCD=GetSpellCooldown(\"腐蚀术\")\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"暗影箭\",\"target\")\nlocal InRangeTS = IsSpellInRange(\"恐惧\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"月火术\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"灵魂石\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"缴械\",\"target\")==nil or IsSpellInRange(\"缴械\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"缴械\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\nif BeeUnitAffectingCombat() and BeeUnitCastSpellName(\"player\")==\"献祭\" and BeeStringFind(\"献祭\", tbl) then\n    BeeRun(\"/stopcasting\")\nend\n\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\n---Trinker 暴虐角斗士的冥想勋章\nif IsEquippedItem(\"遗赠的联盟徽记\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"遗赠的联盟徽记\",false) then \n    return;\nend\nif BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,燃烧,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,眩晕,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) and BeeIsRun(\"逃命专家\",\"nogoal\") then\n    BeeRun(\"逃命专家\",\"nogoal\");\n    return;\nend\n\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and UnitIsEnemy(\"player\",\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif InRangeT==1 and UnitName(\"focus\")==nil and UnitName(\"target\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat()  and not UnitIsDeadOrGhost(\"target\") and not UnitCanAssist(\"player\",\"focus\") then\n    BeeRun(\"/focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and (InRangeF==0 or UnitIsDeadOrGhost(\"focus\")) then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\n\nif BeeIsRun(\"灵魂石\",\"player\") and not BeeStringFind(\"灵魂石\",tlzd) and not BeeUnitAffectingCombat() and GCD==0 then\n    BeeRun(\"灵魂石\",\"player\")\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") and BeeSpellCD(\"黑暗再生\")>0 and BeeSpellCD(\"黑暗再生\")<118 then\n    BeeRun(\"治疗石\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<70 and BeeIsRun(\"黑暗再生\",\"nogoal\") then    \n    BeeRun(\"黑暗再生\",\"nogoal\");    \n    return;\nend; \nif InRangeT and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeePlayerBuffTime(\"暮光结界\")<0 and BeeStringFind(\"圣骑士,术士,牧师\",zy) and BeeIsRun(\"暮光结界\",\"player\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"暮光结界\",\"player\")\n    return;\nend\n\n--pet\nif InRangeTS and BeeIsRun(\"受难\",\"target\") and BeeUnitAffectingCombat() and not BeeUnitPlayerControlled(\"target\") and BeeTargetTargetIsPlayer() then\n    BeeRun(\"受难\",\"target\");\n    return; \nend\nif BeeRangeR(\"pet\")<45 and BeeUnitHealth(\"pet\",\"%\")<80 and BeeIsRun(\"生命通道\",\"pet\") and not UnitIsDeadOrGhost(\"pet\") and GCD==0 then    \n    BeeRun(\"生命通道\",\"pet\");    \n    return;\nend; \nif MeleeRange and BeeIsRun(\"缴械\") and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人,法师,术士\",zy) and BeeUnitAffectingCombat() and BeeUnitPlayerControlled(\"target\") then \n    BeeRun(\"缴械\");\n    return;\nend\n\n--offensive\nif BeeIsRun(\"血性狂怒\",\"nogoal\") and BeeUnitAffectingCombat() then \n    BeeRun(\"血性狂怒\",\"nogoal\");\n    return;\nend\nif IsSpellInRange(\"暗影箭\",\"focustarget\") and UnitName(\"focustarget\")~=nil and BeeIsRun(\"浩劫\",\"focustarget\") and not UnitIsDeadOrGhost(\"player\") and not UnitIsDeadOrGhost(\"focustarget\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and UnitIsEnemy(\"player\",\"focustarget\") then\n    BeeRun(\"浩劫\",\"focustarget\") \n    return;\nend\nif IsSpellInRange(\"暗影箭\",\"focus\") and UnitName(\"focus\")~=nil and BeeIsRun(\"浩劫\",\"focus\") and not UnitIsDeadOrGhost(\"player\") and not UnitIsDeadOrGhost(\"focus\") and BeeUnitAffectingCombat() and UnitIsEnemy(\"player\",\"focus\") then\n    BeeRun(\"浩劫\",\"focus\") \n    return;\nend\nif InRangeT and BeeIsRun(\"燃烧\") and GetSpellCharges(\"燃烧\")>1 and BeeUnitAffectingCombat() then \n    BeeRun(\"燃烧\");\n    return;\nend\nif InRangeT and BeeIsRun(\"燃烧\") and BeeUnitHealth(\"target\",\"%\")<20 and BeeUnitAffectingCombat() then \n    BeeRun(\"燃烧\");\n    return;\nend\nif InRangeT and GetUnitSpeed(\"player\")>0 and BeeIsRun(\"燃烧\") and GetSpellCharges(\"燃烧\")>0 and BeeUnitAffectingCombat() then \n    BeeRun(\"燃烧\");\n    return;\nend\nif GetUnitSpeed(\"player\")>0 and InRangeT and BeeIsRun(\"虚弱诅咒\") and BeeTargetDeBuffTime(\"虚弱诅咒\")<1 and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人,法师,术士\",zy) and BeeUnitAffectingCombat() then \n    BeeRun(\"虚弱诅咒\");\n    return;\nend\nif InRangeT and BeeUnitAffectingCombat() and BeeUnitBuff(\"献祭\",\"target\",2)<3 and BeeIsRun(\"腐蚀术\") and GCD==0 then\n    BeeRun(\"腐蚀术\");\n    return;\nend\nif InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"暗影箭\") and GCD==0 then\n    BeeRun(\"暗影箭\");\n    return;\nend\n\nif BeeSpellCD(\"暗影之怒\")<1 and BeeSpellCD(\"暗影之怒\")>0 then\n    EuiAlertRun(\"暗影之怒好了\",0.1,1,0.1)\n    return;\nend\n\nif BeeIsRun(\"无尽呼吸\",\"nogoal\") and BeeUnitBuff(\"无尽呼吸\",\"player\")<60 and IsSwimming() then\n    BeeRun(\"无尽呼吸\",\"nogoal\") ; \nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [1]
				{
					["GUID"] = 2,
					["Description"] = "當滿足條件時自動施放",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal pbl = BeeUnitBuffList(\"pet\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock = 1\nlocal qsmouse=1\nlocal autoloot=1\nlocal name=BeeStringFind(\"恶魔变形\",tlzd) or BeeStringFind(\"邪神\",tlzd)\nlocal zy = BeeUnitClassBase()\nlocal manapotion = 4 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命\nlocal GCD=GetSpellCooldown(\"腐蚀术\")\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"腐蚀术\",\"target\")\nlocal InRangeTS = IsSpellInRange(\"恐惧\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"腐蚀术\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"腐蚀术\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"缴械\",\"target\")==nil or IsSpellInRange(\"缴械\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"缴械\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\n---Trinker 暴虐角斗士的冥想勋章\nif IsEquippedItem(\"遗赠的联盟徽记\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",\"遗赠的联盟徽记\",false) and BeeSpellCD(\"无拘意志\")>0 and BeeSpellCD(\"无拘意志\")<58 then \n    return;\nend\nif BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",tlzd) and BeeIsRun(\"无拘意志\",\"nogoal\") then\n    BeeRun(\"无拘意志\",\"nogoal\");\n    return;\nend\nif BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,燃烧,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,眩晕,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) and BeeIsRun(\"逃命专家\",\"nogoal\") then\n    BeeRun(\"逃命专家\",\"nogoal\");\n    return;\nend\n\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and UnitIsEnemy(\"player\",\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif InRangeT==1 and UnitName(\"focus\")==nil and UnitName(\"target\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat()  and not UnitIsDeadOrGhost(\"target\") and not UnitCanAssist(\"player\",\"focus\") then\n    BeeRun(\"/focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and (InRangeF==0 or UnitIsDeadOrGhost(\"focus\")) then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif BeeIsRun(\"灵魂石\",\"player\") and not BeeStringFind(\"灵魂石\",tlzd) and not BeeUnitAffectingCombat() and GCD==0 then\n    BeeRun(\"灵魂石\",\"player\")\n    return;\nend\n\n--打断\nif not UnitIsDeadOrGhost(\"pet\") and InRangeTS and BeeUnitAffectingCombat() and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and BeeIsRun(\"巨斧投掷\") then\n    BeeRun(\"巨斧投掷\");\n    return; \nend\nif not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"巨斧投掷\") and BeeTargetTargetIsPlayer() and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风,利刃风暴\",tbl) and not BeeStringFind(\"愤怒风暴\",pbl) and not UnitInVehicle(\"target\") and ActionRange then\n    BeeRun(\"巨斧投掷\");\n    return;\nend\nif BeeIsRun(\"恐惧嚎叫\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风,利刃风暴,巨斧投掷\",tbl) and not UnitChannelInfo(\"player\") and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and ActionRange and GCD==0 then\n    BeeRun(\"恐惧嚎叫\",\"nogoal\");\n    return;\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<60 and BeeIsRun(\"黑暗再生\",\"nogoal\") then    \n    BeeRun(\"黑暗再生\",\"nogoal\");    \n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<60 and BeeIsRun(\"不灭决心\",\"nogoal\") and BeeUnitAffectingCombat() then    \n    BeeRun(\"不灭决心\",\"nogoal\");    \n    return;\nend\nif BeeStringFind(\"恶魔变形\",tlzd) and not BeeStringFind(\"黑暗灵魂：学识\",tlzd) and BeeIsRun(\"黑暗灵魂\",\"nogoal\",nil,1) and UnitPower(\"player\", 15)>400 and BeeUnitAffectingCombat() then \n    BeeRun(\"黑暗灵魂\",\"nogoal\");    \n    return;\nend\nif BeeStringFind(\"恶魔变形\",tlzd) and BeeIsRun(\"闪冻松脂球\",\"nogoal\") and BeeUnitAffectingCombat() then \n    BeeRun(\"闪冻松脂球\",\"nogoal\");    \n    return;\nend\nif BeeStringFind(\"邪神\",tlzd) and not BeeStringFind(\"黑暗灵魂：学识\",tlzd) and BeeUnitHealth(\"player\",\"%\")<60 and BeeIsRun(\"黑暗灵魂\",\"nogoal\",nil,1) and BeeUnitAffectingCombat() then \n    BeeRun(\"黑暗灵魂\",\"nogoal\");    \n    return;\nend\nif not name and BeeUnitHealth(\"player\",\"%\")<50 and BeeIsRun(\"邪神\",\"nogoal\") and BeeUnitAffectingCombat() then    \n    BeeRun(\"邪神\",\"nogoal\");    \n    return;\nend\nif UnitPower(\"player\", 15)>600 and not name and BeeIsRun(\"恶魔变形\",\"nogoal\") and GCD==0 then\n    BeeRun(\"恶魔变形\",\"nogoal\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<40 and BeeIsRun(\"恶魔掌控\",\"nogoal\") and GetSpellInfo(\"恶魔掌控\")==\"暗影壁垒\" and BeeStringFind(\"魔典：恶魔牺牲\",tlzd) then    \n    BeeRun(\"恶魔掌控\",\"nogoal\");    \n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<80 and not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"牺牲契约\",\"nogoal\") then\n    BeeRun(\"牺牲契约\",\"nogoal\")\n    return;\nend\nif GetSpellInfo(\"暮光结界\")==\"愤怒结界\" and not BeeStringFind(\"愤怒结界\",tlzd) and UnitPower(\"player\", 15)>250 and BeeUnitHealth(\"player\",\"%\")<80 and BeeIsRun(\"暮光结界\",\"nogoal\") and GCD==0 then\n    BeeRun(\"暮光结界\",\"nogoal\")\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<80 and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeeIsRun(\"死亡缠绕\") and InRangeTS and GCD==0 then\n    BeeRun(\"死亡缠绕\")\n    return;\nend\nif not UnitIsDeadOrGhost(\"pet\") and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeeIsRun(\"牺牲契约\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"牺牲契约\",\"nogoal\")\n    return;\nend\nif not BeeStringFind(\"邪神\",tlzd) and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeePlayerBuffTime(\"暮光结界\")<0 and BeeStringFind(\"圣骑士,术士,牧师\",zy) and BeeIsRun(\"暮光结界\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"暮光结界\",\"nogoal\")\n    return;\nend\nif UnitPower(\"player\", 15)>250 and not BeeStringFind(\"愤怒结界\",tlzd) and BeeStringFind(\"邪神\",tlzd) and InRangeT and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeeIsRun(\"暮光结界\",\"player\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"暮光结界\",\"player\")\n    return;\nend\nif BeeUnitMana(\"player\",\"%\")<50 and BeeIsRun(\"生命分流\",\"nogoal\") and GCD==0 then    \n    BeeRun(\"生命分流\",\"nogoal\");    \n    return;\nend\n--pet\nif BeeSpellCD(\"追杀\")>12 and BeeIsRun(\"愤怒风暴\",\"nogoal\") and BeeUnitAffectingCombat() then\n    BeeRun(\"愤怒风暴\",\"nogoal\");\n    return; \nend\nif InRangeTS and BeeIsRun(\"受难\",\"target\") and BeeUnitAffectingCombat() and not BeeUnitPlayerControlled(\"target\") and BeeTargetTargetIsPlayer() then\n    BeeRun(\"受难\",\"target\");\n    return; \nend\nif BeeRangeR(\"pet\")<45 and BeeUnitHealth(\"pet\",\"%\")<85 and BeeIsRun(\"生命通道\",\"pet\") and not UnitIsDeadOrGhost(\"pet\") and GCD==0 then    \n    BeeRun(\"生命通道\",\"pet\");    \n    return;\nend; \nif MeleeRange and BeeIsRun(\"缴械\") and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人,法师,术士\",zy) and BeeUnitAffectingCombat() and BeeUnitPlayerControlled(\"target\") then \n    BeeRun(\"缴械\");\n    return;\nend\n\n--offensive\nif GetUnitSpeed(\"player\")>0 and GCD==0 and BeeUnitAffectingCombat() then\n    if GetSpellInfo(\"古尔丹之手\")==\"古尔丹之手\" and InRangeT and BeeIsRun(\"古尔丹之手\") and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) then\n        BeeRun(\"古尔丹之手\");\n        return;\n    end\n    if GetSpellInfo(\"古尔丹之手\")==\"混乱波浪\" and BeeIsRun(\"古尔丹之手\",\"target\",nil,1) and UnitPower(\"player\", 15)>120 and InRangeT and BeeUnitAffectingCombat() and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) and GetSpellCharges(\"古尔丹之手\")>0 then\n        BeeRun(\"古尔丹之手\");\n        return;\n    end\n    if not name and InRangeT and BeeIsRun(\"虚弱诅咒\") and BeeTargetDeBuffTime(\"元素诅咒\")<1 and BeeTargetDeBuffTime(\"虚弱诅咒\")<1 and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人,法师,术士\",zy) and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) and BeeUnitPlayerControlled() then \n        BeeRun(\"虚弱诅咒\");\n        return;\n    end    \n    if IsSpellInRange(\"暗影箭\",\"target\") and BeeStringFind(\"邪神\",tlzd) and BeeIsRun(\"暗影箭\") then\n        BeeRun(\"暗影箭\");\n        return;\n    end    \n    if InRangeT and GetSpellInfo(\"腐蚀术\")==\"末日降临\" and BeeUnitBuff(\"末日降临\",\"target\",2)<10 and BeeIsRun(\"腐蚀术\") and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) then\n        BeeRun(\"腐蚀术\");\n        return;\n    end  \n    if InRangeT and GetSpellInfo(\"腐蚀术\")==\"腐蚀术\" and BeeUnitBuff(\"腐蚀术\",\"target\",2)<8 and BeeIsRun(\"腐蚀术\") then\n        BeeRun(\"腐蚀术\");\n        return;\n    end    \n    if InRangeT and GetSpellInfo(\"暗影箭\")==\"混乱之触\" and UnitPower(\"player\", 15)>60 and BeeIsRun(\"暗影箭\") then\n        BeeRun(\"暗影箭\");\n        return;\n    end\n    if GetSpellInfo(\"邪焰\")==\"邪焰\" and InRangeT and BeeIsRun(\"邪焰\") then \n        BeeRun(\"邪焰\");\n        return;\n    end    \nend\n\n--stand still\nif BeeIsRun(\"小鬼成群\",\"nogoal\") and BeeUnitAffectingCombat() and GCD==0 then \n    BeeRun(\"小鬼成群\",\"nogoal\");\n    return;\nend\nif GetSpellInfo(\"暗影箭\")==\"恶魔猛击\" and BeeIsRun(\"暗影箭\") and BeeUnitAffectingCombat() and GCD==0 and IsSpellInRange(\"暗影箭\") then\n    BeeRun(\"暗影箭\");\n    return;\nend\nif GetSpellInfo(\"古尔丹之手\")==\"古尔丹之手\" and InRangeT and BeeIsRun(\"古尔丹之手\") and not BeeStringFind(\"暗影烈焰\",tbl) and BeeUnitAffectingCombat() and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) and GCD==0 then\n    BeeRun(\"古尔丹之手\");\n    return;\nend\nif GetSpellInfo(\"古尔丹之手\")==\"混乱波浪\" and UnitPower(\"player\", 15)>120 and InRangeT and BeeUnitAffectingCombat() and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) and GetSpellCharges(\"古尔丹之手\")>0 and GCD==0 then\n    BeeRun(\"古尔丹之手\");\n    return;\nend\nif BeeStringFind(\"邪神\",tlzd) and UnitPower(\"player\", 15)>600 and not BeeStringFind(\"献祭光环\",tlzd) and BeeIsRun(\"地狱烈焰\",\"nogoal\") and BeeUnitAffectingCombat() and GCD==0 then\n    BeeRun(\"地狱烈焰\",\"nogoal\");\n    return;\nend\nif InRangeT and GetSpellInfo(\"腐蚀术\")==\"末日降临\" and BeeUnitBuff(\"末日降临\",\"target\",2)<10 and BeeIsRun(\"腐蚀术\") and BeeUnitAffectingCombat() and GCD==0 then\n    BeeRun(\"腐蚀术\");\n    return;\nend\nif GetSpellInfo(\"邪焰\")==\"邪焰\" and InRangeT and BeeUnitHealth(\"target\",nil)<52000 and BeeIsRun(\"邪焰\") and BeeUnitBuff(\"腐蚀术\",\"target\",2)>1 and GCD==0 and BeeUnitAffectingCombat() then \n    BeeRun(\"邪焰\");\n    return;\nend\nif name and UnitPower(\"player\", 15)>100 and InRangeT and BeeStringFind(\"熔火之心\",tlzd) and BeeUnitBuffCount(\"熔火之心\",\"player\")>0 and BeeIsRun(\"灵魂之火\") and BeeUnitAffectingCombat() and GCD==0 and GetUnitSpeed(\"player\")==0 then\n    BeeRun(\"灵魂之火\");\n    return;\nend\nif InRangeT and not BeeStringFind(\"恶魔变形\",tlzd) and BeeStringFind(\"熔火之心\",tlzd) and BeeUnitBuffCount(\"熔火之心\",\"player\")>2 and BeeIsRun(\"灵魂之火\") and BeeUnitAffectingCombat() and GCD==0 and GetUnitSpeed(\"player\")==0 then\n    BeeRun(\"灵魂之火\");\n    return;\nend\nif UnitPower(\"player\", 15)>100 and InRangeT and BeeStringFind(\"熔火之心\",tlzd) and BeeUnitHealth(\"target\",\"%\")<25 and BeeIsRun(\"灵魂之火\") and BeeUnitAffectingCombat() and GCD==0 and GetUnitSpeed(\"player\")==0 then\n    BeeRun(\"灵魂之火\");\n    return;\nend\nif InRangeT and GetSpellInfo(\"腐蚀术\")==\"腐蚀术\" and BeeUnitAffectingCombat() and BeeUnitBuff(\"腐蚀术\",\"target\",2)<10 and BeeIsRun(\"腐蚀术\") and GCD==0 then\n    BeeRun(\"腐蚀术\");\n    return;\nend\nif not name and InRangeT and BeeIsRun(\"元素诅咒\") and BeeTargetDeBuffTime(\"元素诅咒\")<1 and BeeTargetDeBuffTime(\"虚弱诅咒\")<1 and not BeeStringFind(\"暗影斗篷,反魔法护罩,寒冰屏障\",BeeUnitBuffList(\"target\")) and BeeUnitAffectingCombat() and GCD==0 then \n    BeeRun(\"元素诅咒\");\n    return;\nend\nif GetSpellInfo(\"暗影箭\")==\"混乱之触\" and UnitPower(\"player\", 15)>60 and InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"暗影箭\") and GCD==0 then\n    BeeRun(\"暗影箭\");\n    return;\nend\nif BeeStringFind(\"恶魔变形\",tlzd) and UnitPower(\"player\", 15)>400 and InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"邪焰\",\"nogoal\") and GCD==0 then\n    BeeRun(\"邪焰\",\"nogoal\");\n    return;\nend\nif InRangeT and BeeIsRun(\"吸取生命\") and BeeUnitBuff(\"腐蚀术\",\"target\",2)>1 and BeeUnitHealth(\"player\",\"%\")<80 and GCD==0 then \n    BeeRun(\"吸取生命\");\n    return;\nend\nif GetSpellInfo(\"暗影箭\")==\"暗影箭\" and InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"暗影箭\") and GCD==0 then\n    BeeRun(\"暗影箭\");\n    return;\nend\nif InRangeT and BeeIsRun(\"邪焰\",\"nogoal\") and BeeStringFind(\"邪神\",tlzd) and BeeUnitBuff(\"腐蚀术\",\"target\",2)>1 and UnitPower(\"player\", 15)>400 and GCD==0 then \n    BeeRun(\"邪焰\",\"nogoal\");\n    return;\nend\nif BeeStringFind(\"恶魔变形\",tlzd) and not BeeStringFind(\"邪神\",tlzd) and (not BeeUnitAffectingCombat() or UnitPower(\"player\", 15)<60) and UnitPower(\"player\", 15)<300 then\n    BeeRun(\"/cancelform\");\n    return;\nend\nif BeeIsRun(\"无尽呼吸\",\"nogoal\") and BeeUnitBuff(\"无尽呼吸\",\"player\")<60 and IsSwimming() then\n    BeeRun(\"无尽呼吸\",\"nogoal\") ; \nend\nlocal YXYJP = BeePartyScript('BeeIsRun(\"黑暗意图\",unit) and BeeUnitBuff(\"黑暗意图\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeRangeR(unit)<40')\nif not IsFalling() and YXYJP and BeeIsRun(\"黑暗意图\",YXYJP) and not BeeUnitAffectingCombat() and BeeUnitMana()>30 then \n    BeeRun(\"黑暗意图\",YXYJP);\n    return; \nend    \nlocal YXYJ = BeeRaidScript('BeeIsRun(\"黑暗意图\",unit) and BeeUnitBuff(\"黑暗意图\",unit)<120 and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit) and BeeRangeR(unit)<40')\nif not IsFalling() and YXYJ and BeeIsRun(\"黑暗意图\",YXYJ) and not BeeUnitAffectingCombat() and BeeUnitMana()>85  then \n    BeeRun(\"黑暗意图\",YXYJ);\n    return; \nend\nif UnitIsDeadOrGhost(\"pet\") and BeeStringFind(\"恶魔重生\",tlzd) and not BeeStringFind(\"魔典：恶魔牺牲\",tlzd) and UnitPower(\"player\", 15)>200 and BeeIsRun(\"召唤恶魔卫士\",\"nogoal\") then\n    BeeRun(\"召唤恶魔卫士\",\"nogoal\");\n    return; \nend\nif not name and UnitIsDeadOrGhost(\"pet\") and not BeeStringFind(\"魔典：恶魔牺牲\",tlzd) and BeeIsRun(\"召唤恶魔卫士\",\"nogoal\") then\n    BeeRun(\"召唤恶魔卫士\",\"nogoal\");\n    return; \nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "demon",
				}, -- [2]
				{
					["GUID"] = 3,
					["Description"] = "當滿足條件時自動施放",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock = 1\nlocal qsmouse=1\nlocal autoloot=1\nlocal zy = BeeUnitClassBase()\nlocal manapotion = 4 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命\nlocal GCD=GetSpellCooldown(\"腐蚀术\")\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\n\nlocal InRangeT = IsSpellInRange(\"暗影箭\",\"target\")\nlocal InRangeTS = IsSpellInRange(\"恐惧\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"暗影箭\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"暗影箭\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"缴械\",\"target\")==nil or IsSpellInRange(\"缴械\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"缴械\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif SpellIsTargeting() and not HasActiveTotem() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n---Trinker 暴虐角斗士的冥想勋章\nif IsEquippedItem(\"遗赠的联盟徽记\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",\"遗赠的联盟徽记\",false) and BeeSpellCD(\"无拘意志\")>0 and BeeSpellCD(\"无拘意志\")<58 then \n    return;\nend\nif BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",tlzd) and BeeIsRun(\"无拘意志\",\"nogoal\") then\n    BeeRun(\"无拘意志\",\"nogoal\");\n    return;\nend\nif BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,燃烧,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,眩晕,台风,诱捕,寒冰宝珠,群体缠绕\",tlzd) and BeeIsRun(\"逃命专家\",\"nogoal\") then\n    BeeRun(\"逃命专家\",\"nogoal\");\n    return;\nend\n\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and UnitIsEnemy(\"player\",\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif InRangeT==1 and UnitName(\"focus\")==nil and UnitName(\"target\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and not UnitCanAssist(\"player\",\"focus\") then\n    BeeRun(\"/focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and (InRangeF==0 or UnitIsDeadOrGhost(\"focus\")) then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif BeeIsRun(\"灵魂石\",\"player\") and not BeeStringFind(\"灵魂石\",tlzd) and not BeeUnitAffectingCombat() and GCD==0 then\n    BeeRun(\"灵魂石\",\"player\")\n    return;\nend\n--打断\nif InRangeT and BeeUnitAffectingCombat() and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and BeeIsRun(\"眼棱爆炸\") then\n    BeeRun(\"眼棱爆炸\");\n    return; \nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") and BeeSpellCD(\"黑暗再生\")>0 and BeeSpellCD(\"黑暗再生\")<118 then\n    BeeRun(\"治疗石\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<70 and BeeIsRun(\"黑暗再生\",\"nogoal\") and BeeSpellCD(\"牺牲契约\")>0 and BeeSpellCD(\"牺牲契约\")<58 then    \n    BeeRun(\"黑暗再生\",\"nogoal\");    \n    return;\nend; \nif BeeUnitHealth(\"player\",\"%\")<80 and not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"牺牲契约\",\"nogoal\") then\n    BeeRun(\"牺牲契约\",\"nogoal\")\n    return;\nend\nif not UnitIsDeadOrGhost(\"pet\") and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeeIsRun(\"牺牲契约\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"牺牲契约\",\"nogoal\")\n    return;\nend\nif InRangeT and BeeTargetTargetIsPlayer() and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and BeePlayerBuffTime(\"暮光结界\")<0 and BeeStringFind(\"圣骑士,术士,牧师\",zy) and BeeIsRun(\"暮光结界\",\"player\") and not BeeUnitCastSpellName(\"player\") and GCD==0 then\n    BeeRun(\"暮光结界\",\"player\")\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")>70 and BeeUnitMana(\"player\",\"%\")<50 and BeeIsRun(\"生命分流\",\"nogoal\") and GCD==0 then    \n    BeeRun(\"生命分流\",\"nogoal\");    \n    return;\nend\n--pet\nif InRangeTS and BeeIsRun(\"受难\",\"target\") and BeeUnitAffectingCombat() and not BeeUnitPlayerControlled(\"target\") and BeeTargetTargetIsPlayer() then\n    BeeRun(\"受难\",\"target\");\n    return; \nend\nif (UnitIsDeadOrGhost(\"pet\") or not UnitExists(\"pet\")) and UnitPower(\"player\", 7)>0 and BeeUnitAffectingCombat() then    \n    BeeRun(\"callseducer\");    \n    return;\nend;\nif BeeRangeR(\"pet\")<45 and BeeUnitHealth(\"pet\",\"%\")<40 and BeeIsRun(\"生命通道\",\"pet\") and not UnitIsDeadOrGhost(\"pet\") and UnitPower(\"player\", 7)>0 and BeePlayerBuffTime(\"灵魂燃烧\")>0 and GCD==0 then    \n    BeeRun(\"生命通道\",\"pet\");    \n    return;\nend;\nif BeeRangeR(\"pet\")<45 and UnitPower(\"player\", 7)>0 and BeePlayerBuffTime(\"灵魂燃烧\")<0 and BeeUnitHealth(\"pet\",\"%\")<40 and BeeIsRun(\"生命通道\",\"pet\") and BeeIsRun(\"灵魂燃烧\",\"nogoal\") and not UnitIsDeadOrGhost(\"pet\") and UnitPower(\"player\", 7)>0 and GCD==0 then    \n    BeeRun(\"灵魂燃烧\",\"nogoal\");    \n    return;\nend; \nif BeePlayerBuffTime(\"灵魂燃烧\")>0 and BeeUnitBuff(\"腐蚀之种\",\"target\",2)<0 and BeeIsRun(\"腐蚀之种\") and BeeUnitAffectingCombat() and InRangeT and GCD==0 then    \n    BeeRun(\"腐蚀之种\");    \n    return;\nend;\nif BeeRangeR(\"pet\")<45 and BeeUnitHealth(\"pet\",\"%\")<80 and BeeIsRun(\"生命通道\",\"pet\") and BeePlayerBuffTime(\"灵魂燃烧\")<0 and not UnitIsDeadOrGhost(\"pet\") and GCD==0 then    \n    BeeRun(\"生命通道\",\"pet\");    \n    return;\nend;\nif MeleeRange and BeeIsRun(\"缴械\") and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人,法师,术士\",zy) and BeeUnitAffectingCombat() and BeeUnitPlayerControlled(\"target\") then \n    BeeRun(\"缴械\");\n    return;\nend\n\n--offensive\nif GetUnitSpeed(\"player\")>0 and GCD==0 and BeeUnitAffectingCombat() then\n    if InRangeT and BeeIsRun(\"虚弱诅咒\") and BeeTargetDeBuffTime(\"元素诅咒\")<1 and BeeTargetDeBuffTime(\"虚弱诅咒\")<1 and BeeStringFind(\"圣骑士,战士,潜行者,死亡骑士,武僧,萨满祭司,德鲁伊,猎人,法师,术士\",zy) and BeeUnitPlayerControlled() then \n        BeeRun(\"虚弱诅咒\");\n        return;\n    end\n    if InRangeT and BeeUnitBuff(\"腐蚀术\",\"target\",2)<3 and BeeUnitBuff(\"献祭\",\"target\",2)<3 and BeeIsRun(\"腐蚀术\") then\n        BeeRun(\"腐蚀术\");\n        return;\n    end\n    if InRangeT and BeeUnitBuff(\"痛楚\",\"target\",2)<3 and BeeIsRun(\"痛楚\") then\n        BeeRun(\"痛楚\");\n        return;\n    end\n    if InRangeT and BeeIsRun(\"元素诅咒\") and BeeTargetDeBuffTime(\"元素诅咒\")<1 and BeeTargetDeBuffTime(\"虚弱诅咒\")<1 then \n        BeeRun(\"元素诅咒\");\n        return;\n    end\n    if InRangeT and BeeIsRun(\"暗影箭\") and BeeUnitBuff(\"痛楚\",\"target\",2)>1 and BeeUnitBuff(\"腐蚀术\",\"target\",2)>1 then\n        BeeRun(\"暗影箭\");\n        return;\n    end\nend\nif InRangeT and BeeUnitAffectingCombat() and BeeUnitBuff(\"痛楚\",\"target\",2)<5 and BeeIsRun(\"痛楚\") and GCD==0 then\n    BeeRun(\"痛楚\");\n    return;\nend\nif UnitPower(\"player\", 7)>3 and InRangeT and BeeUnitAffectingCombat() and BeeUnitBuff(\"鬼影缠身\",\"target\",2)<1 and BeeIsRun(\"鬼影缠身\") and GCD==0 then\n    BeeRun(\"鬼影缠身\");\n    return;\nend\nif InRangeT and BeeUnitAffectingCombat() and BeeUnitBuff(\"腐蚀术\",\"target\",2)<5 and BeeUnitBuff(\"献祭\",\"target\",2)<3 and BeeIsRun(\"腐蚀术\") and GCD==0 then\n    BeeRun(\"腐蚀术\");\n    return;\nend\nif BeeIsRun(\"痛楚\",\"focus\") and BeeUnitBuff(\"痛楚\",\"focus\",2,0) <5 and BeeUnitAffectingCombat() and InRangeF then \n    BeeRun(\"痛楚\",\"focus\");\n    return;\nend  \nif BeeIsRun(\"痛楚\",\"focustarget\") and BeeUnitBuff(\"痛楚\",\"focustarget\",2,0) <5 and BeeUnitAffectingCombat() and InRangeFT then \n    BeeRun(\"痛楚\",\"focustarget\");\n    return;\nend\nif InRangeT and BeeUnitAffectingCombat() and BeeUnitBuff(\"痛苦无常\",\"target\",2)<5 and BeeIsRun(\"痛苦无常\") and GCD==0 then\n    BeeRun(\"痛苦无常\");\n    return;\nend\nif BeeIsRun(\"腐蚀术\",\"focus\") and BeeUnitBuff(\"腐蚀术\",\"focus\",2,0) <4 and BeeUnitAffectingCombat() and InRangeF then \n    BeeRun(\"腐蚀术\",\"focus\");\n    return;\nend\nif BeeIsRun(\"腐蚀术\",\"focustarget\") and BeeUnitBuff(\"腐蚀术\",\"focustarget\",2,0) <4 and BeeUnitAffectingCombat() and InRangeFT then \n    BeeRun(\"腐蚀术\",\"focustarget\");\n    return;\nend\nif BeeIsRun(\"元素诅咒\",\"focus\") and BeeUnitBuff(\"元素诅咒\",\"focus\",2,0) <4 and BeeUnitAffectingCombat() and InRangeF then \n    BeeRun(\"元素诅咒\",\"focus\");\n    return;\nend\nif BeeIsRun(\"元素诅咒\",\"focustarget\") and BeeUnitBuff(\"元素诅咒\",\"focustarget\",2,0) <4 and BeeUnitAffectingCombat() and InRangeFT then \n    BeeRun(\"元素诅咒\",\"focustarget\");\n    return;\nend\nif InRangeT and BeeIsRun(\"元素诅咒\") and BeeTargetDeBuffTime(\"元素诅咒\")<1 and BeeTargetDeBuffTime(\"虚弱诅咒\")<1 and BeeUnitAffectingCombat() then \n    BeeRun(\"元素诅咒\");\n    return;\nend\nif BeeUnitHealth(\"target\",\"%\")<20 and InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"吸取灵魂\") and BeeUnitBuff(\"痛楚\",\"target\",2)>1 and BeeUnitBuff(\"腐蚀术\",\"target\",2)>1 and GCD==0 then\n    BeeRun(\"吸取灵魂\");\n    return;\nend\nif InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"暗影箭\") and BeeUnitBuff(\"痛楚\",\"target\",2)>1 and BeeUnitBuff(\"腐蚀术\",\"target\",2)>1 and GCD==0 then\n    BeeRun(\"暗影箭\");\n    return;\nend\nif BeeSpellCD(\"暗影之怒\")<1 and BeeSpellCD(\"暗影之怒\")>0 then\n    EuiAlertRun(\"暗影之怒好了\",0.1,1,0.1)\n    return;\nend\n\nif BeeIsRun(\"无尽呼吸\",\"nogoal\") and BeeUnitBuff(\"无尽呼吸\",\"player\")<60 and IsSwimming() then\n    BeeRun(\"无尽呼吸\",\"nogoal\") ; \nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "affliction",
				}, -- [3]
			},
			["Variable"] = {
			},
			["Name"] = "Warlock",
		}, -- [5]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Name"] = "Fire",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal fbl = BeeUnitBuffList(\"focus\")\n\n--autofocus\nlocal numRaid = GetNumGroupMembers()\nlocal numParty = GetNumSubgroupMembers()\n\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or BeeStringFind(\"统御意志\",BeeUnitCastSpellName(\"player\")) or BeeStringFind(\"苦修\",BeeUnitCastSpellName(\"player\")) then\n    return;\nend\n\n---Trinker\nif BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,闷棍,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术\",\"家传的联盟徽记\",false) then \n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"神圣震击\",\"player\") then\n    BeeRun(\"神圣震击\",\"player\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeHolyPower(\"player\")>0 and BeeIsRun(\"荣耀圣令\",\"player\") then\n    BeeRun(\"荣耀圣令\",\"player\");\n    return;\nend\n\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.80 and BeeUnitAffectingCombat() and BeeIsRun(\"圣光闪现\",\"player\") then\n    BeeRun(\"圣光闪现\",\"player\");\n    return;\nend\n\nif BeeRangeR(\"focus\")<40 and UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.80 and BeeHolyPower(\"player\")>0 and BeeIsRun(\"荣耀圣令\",\"focus\") then\n    BeeRun(\"荣耀圣令\",\"focus\");\n    return;\nend\n\nif BeeRangeR(\"focus\")<40 and UnitHealth(\"focus\")/UnitHealthMax(\"focus\")<0.80 and BeeUnitAffectingCombat(\"focus\") and BeeIsRun(\"圣光闪现\",\"focus\") then\n    BeeRun(\"圣光闪现\",\"focus\");\n    return;\nend\n\n--offensive\nif BeeRangeR()<30 and BeeUnitHealth(\"target\",\"%\")<30 and BeeUnitAffectingCombat() and BeeIsRun(\"火焰冲击\") then\n    BeeRun(\"火焰冲击\");\n    return;\nend\n\nif BeeRangeR()<40 and BeeUnitAffectingCombat() and BeeIsRun(\"霜火之箭\") then\n    BeeRun(\"霜火之箭\");\n    BeeUnitCastSpellDelay(\"霜火之箭\",1,\"target\");\n    return;\nend\n\nif BeeRangeR()<8 and BeeUnitAffectingCombat() and BeeIsRun(\"十字军打击\") then\n    BeeRun(\"十字军打击\");\n    return;\nend\n\nif BeeRangeR()<40 and BeeUnitAffectingCombat() and BeeIsRun(\"神圣震击\") and BeeHolyPower(\"player\")<3 and BeeUnitHealth(\"player\",\"%\")>80 and not UnitCanAssist(\"player\",\"target\") then\n    BeeRun(\"神圣震击\");\n    return;\nend\n\n--healer job\ngrouptype=\"\"\nif IsInRaid() then\n    grouptype=\"raid\"\nelse\n    grouptype=\"party\"\nend\n\nlocal RYSL = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"荣耀圣令\",unit) and BeeHolyPower(\"player\")>0 and BeeUnitHealth(unit,\"%\")<70 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif RYSL and BeeIsRun(\"荣耀圣令\",RYSL) and BeeUnitAffectingCombat(unit) then \n    BeeRun(\"荣耀圣令\",RYSL);\n    return; \nend\n\nlocal SGSX = BeeGroupMinScript('BeeRangeR(unit)<40 and BeeIsRun(\"圣光闪现\",unit) and BeeUnitHealth(unit,\"%\")<80 and BeeUnitAffectingCombat(unit)  and UnitCanAssist(\"player\",unit) and not UnitIsDeadOrGhost(unit)',\"BeeUnitHealth(unit)\",grouptype)\nif SGSX and BeeIsRun(\"圣光闪现\",SGSX) and BeeUnitAffectingCombat(unit) then \n    BeeRun(\"圣光闪现\",SGSX);\n    return; \nend",
				}, -- [1]
				{
					["GUID"] = 2,
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock = 1\nlocal autoshift=1\nlocal AA=1\nlocal zy = BeeUnitClassBase()\nlocal automark=1\nlocal qsmouse=1\nlocal autoloot=1\nlocal manapotion=4 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命, 5:青龙\nlocal GCD=GetSpellCooldown(\"寒冰箭\")\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握,暗影斗篷\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"霜火之箭\",\"target\")\nlocal InRangeTS = IsSpellInRange(\"火焰冲击\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"霜火之箭\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"霜火之箭\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"裂伤\",\"target\")==nil or IsSpellInRange(\"裂伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"裂伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\nif SpellIsTargeting() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") and AA==1 or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif UnitName(\"target\")==nil and UnitName(\"focus\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") and AA==1 or UnitName(\"focus\") and UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") then\n    BeeRun(\"/target focus\") \n    return;\nend\nif UnitName(\"focus\")==nil and UnitName(\"target\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat()  and not UnitIsDeadOrGhost(\"target\") and not UnitCanAssist(\"player\",\"focus\") and InRangeT==1 then\n    BeeRun(\"/focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and (InRangeF==0 or UnitIsDeadOrGhost(\"focus\")) then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif not IsMounted(\"player\") and IsFalling() and BeeIsRun(\"缓落术\",\"nogoal\") and not BeeStringFind(\"地精滑翔器,缓落术\",tlzd) and GCD==0 then\n    BeeRun(\"缓落术\",\"nogoal\")\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or IsFalling() or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") or BeePlayerBuffTime(\"喝水\")>1 then\n    return;\nend\n--Must Dispell\nif BeeStringFind(\"虚弱诅咒,元素诅咒,末日诅咒\",tlzd) and BeeIsRun(\"解除诅咒\",\"player\") and not UnitChannelInfo(\"player\") and GCD==0 then\n    BeeRun(\"解除诅咒\",\"player\");\n    return;\nend\nif BeeUnitBuffInfo(\"target\",2,\"Curse\",0)>=1 and BeeIsRun(\"解除诅咒\",\"target\") and BeeRangeR()<40 then\n    BeeRun(\"解除诅咒\",\"target\" ) ; \nend \nif BeeIsRun(\"闪现术\",\"nogoal\") and BeeStringFind(\"深度冻结,偷袭,割碎,肾击,窒息,蛮力猛击,制裁之锤,冰霜新星,冰冻术,寒冰锁链,险境求生,刺耳怒吼,蛛网,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕,冲锋\",tlzd) and GCD==0 then\n    BeeRun(\"闪现术\",\"nogoal\");\n    return;\nend\nif BeeIsRun(\"被遗忘者的意志\",\"nogoal\") and BeeStringFind(\"恐惧,迷魅,心灵尖啸,恐惧嚎叫,恐惧术,破胆怒吼,诱惑\",tlzd) and GCD==0 then\n    BeeRun(\"被遗忘者的意志\",\"nogoal\");\n    return;\nend\nif BeeIsRun(\"寒冰屏障\",\"nogoal\") and BeeStringFind(\"锁喉\",tlzd) then\n    BeeRun(\"寒冰屏障\",\"nogoal\");\n    return;\nend\nif BeeIsRun(\"寒冰护体\",\"player\") and BeePlayerBuffTime(\"寒冰护体\")<0 and GCD==0 and BeeSpellCD(\"寒冰护体\")<1 then\n    BeeRun(\"寒冰护体\",\"player\")\n    return;\nend\nif BeePlayerBuffTime(\"寒冰结界\")<0 and BeeIsRun(\"寒冰结界\",\"player\") and not UnitChannelInfo(\"player\") and GCD==0 and not BeeUnitCastSpellName(\"player\") then\n    BeeRun(\"寒冰结界\",\"player\")\n    return;\nend\nif BeeIsRun(\"霜甲术\",\"player\") and not BeeStringFind(\"熔岩护甲,霜甲术\",tlzd) and GCD==0 then\n    BeeRun(\"霜甲术\",\"player\")\n    return;\nend\nif BeeIsRun(\"奥术光辉\",\"player\") and not BeeStringFind(\"奥术光辉\",tlzd) and GCD==0 then\n    BeeRun(\"奥术光辉\",\"player\")\n    return;\nend\nif BeeSpellCD(\"寒冰屏障\")>10 and not BeeStringFind(\"寒冰屏障\",pbl) and BeeIsRun(\"急速冷却\",\"nogoal\") then\n    BeeRun(\"急速冷却\",\"nogoal\");\n    return;\nend\n--打断\nif InRangeT and BeeUnitAffectingCombat() and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) then\n    if BeeIsRun(\"法术反制\") then \n        if BeeUnitCastSpellName(\"player\") then\n            BeeRun(\"/stopcasting\");\n        end        \n        BeeRun(\"法术反制\");\n        return;\n    end\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeSpellCD(\"寒冰屏障\")<1 and BeeIsRun(\"寒冰屏障\") and not UnitChannelInfo(\"player\") and BeeTargetTargetIsPlayer() then\n    BeeRun(\"寒冰屏障\");\n    return;\nend\nif BeeIsRun(\"镜像\",\"nogoal\") and BeeStringFind(\"冰冷血脉\",tlzd) and GCD==0 then\n    BeeRun(\"镜像\",\"nogoal\");\n    return;\nend\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n---Trinker\nif IsEquippedItem(\"部落勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"部落勋章\",false) and BeeSpellCD(\"闪现术\")>1 and BeeSpellCD(\"闪现术\")<13 then \n    return;\nend\nif BeeStringFind(\"冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,迟滞,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,冰霜震击\",tlzd) and BeeIsRun(\"炽热疾速\",\"nogoal\") then\n    BeeRun(\"炽热疾速\",\"nogoal\");\n    return;\nend\nif BeeIsRun(\"冰霜新星\",\"nogoal\") and BeePlayerBuffTime(\"寒冰结界\")<0 and BeeSpellCD(\"冰冻术\")>1 and BeeTargetTargetIsPlayer() and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"寒冰结界\",tbl) and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风,冰冻术\",tbl) and not UnitChannelInfo(\"player\") and not IsStealthed() and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and ActionRange then\n    BeeRun(\"冰霜新星\",\"nogoal\");\n    return;\nend\nif BeeIsRun(\"深度冻结\") and IsSpellInRange(\"深度冻结\",\"target\") then \n    BeeRun(\"深度冻结\");\n    return;\nend\nif BeeIsRun(\"冰枪术\") and InRangeTS and BeeStringFind(\"寒冰指\",tlzd) then \n    BeeRun(\"冰枪术\");\n    return;\nend\nif ActionRange and BeeIsRun(\"冰锥术\",\"nogoal\") and BeeUnitAffectingCombat() and not UnitIsDeadOrGhost(\"target\") and BeeUnitCanAttack() and UnitIsEnemy(\"player\",\"target\") and not BeeStringFind(\"圣盾术,寒冰屏障,突袭,旋风,纠缠根须\",tbl) and not UnitChannelInfo(\"player\") and not IsMounted() and not BeeUnitCastSpellName(\"player\") and not UnitInVehicle(\"target\") and GCD==0 then\n    BeeRun(\"冰锥术\",\"nogoal\");\n    return;\nend\nif BeeIsRun(\"法术吸取\") and not Wudi and BeeStringFind(\"真言术：盾,野性印记,真言术：韧,黑暗意图,回春术,寒冰护体,生命绽放,恢复\",tbl) and GCD==0 and InRangeT and BeeUnitMana(\"player\",\"%\",0)>30 then\n    BeeRun(\"法术吸取\");\n    return;\nend\n--单体输出\nif GetUnitSpeed(\"player\")>0 and GCD==0 and BeeUnitAffectingCombat() then    \n    if BeeIsRun(\"火焰冲击\") and InRangeTS then \n        BeeRun(\"火焰冲击\");\n        return;\n    end\n    if BeeIsRun(\"冰枪术\") and InRangeTS then \n        BeeRun(\"冰枪术\");\n        return;\n    end\nend\nif (not UnitExists(\"pet\") or UnitIsDead(\"pet\")) and BeeIsRun(\"召唤水元素\",\"nogoal\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"召唤水元素\",\"nogoal\");\nend\nif GCD==0 and BeeUnitAffectingCombat() then  \n    if BeeIsRun(\"火焰冲击\") and InRangeTS then \n        BeeRun(\"火焰冲击\");\n        return;\n    end    \n    if BeeIsRun(\"寒冰箭\") and InRangeT then \n        BeeRun(\"寒冰箭\");\n        return;\n    end \nend\n\nif UnitName(\"focus\")==nil and GetRaidTargetIndex(\"target\")==nil and BeeUnitCanAttack(\"target\") and IsInGroup() and not IsInRaid() and not BeeUnitAffectingCombat() then \n    SetRaidTarget(\"target\", 5)\n    return;\nend\n\n--autoloot\nif UnitIsDead(\"mouseover\") and BeeIsRun(\"远程拾取器\",\"nogoal\") and autoloot==1 and not UnitCanAssist(\"player\",\"mouseover\") and not BeeUnitCastSpellName(\"player\") then \n    BeeRun(\"Loot\");\nend",
					["Name"] = "ice",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [2]
			},
			["Variable"] = {
			},
			["Name"] = "mage",
		}, -- [6]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Description"] = "當滿足條件時自動施放",
					["Script"] = "local plbl = BeeUnitBuffList(\"player\")\nlocal pbl = BeeUnitBuffList(\"pet\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal AA = 1 --autoassist\nlocal luaunlock=1\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",tbl)\nlocal kongzhi = BeeStringFind(\"驱散射击,冰冻陷阱\",tbl)\nlocal klcount = 2\nlocal zy = BeeUnitClassBase()\nlocal numRaid = GetNumGroupMembers()\nlocal numParty = GetNumSubgroupMembers()\nlocal GCD=GetSpellCooldown(\"蜘蛛毒刺\")\nlocal InRangeT = IsSpellInRange(\"蜘蛛毒刺\",\"target\")\nlocal InRangeTL = IsSpellInRange(\"猎人印记\",\"target\")\nlocal InRangeTF = IsSpellInRange(\"蜘蛛毒刺\",\"focustarget\")\nlocal InRangeTS = IsSpellInRange(\"宁神射击\",\"target\")\nlocal InRangeTSF = IsSpellInRange(\"宁神射击\",\"focustarget\")\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\ngrouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif SpellIsTargeting() and luaunlock==1 then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n--stop casting\nif IsMounted(\"player\")==1 or UnitBuff(\"player\",\"假死\") or UnitBuff(\"player\",\"伪装\") or SpellIsTargeting() or UnitChannelInfo(\"player\") or UnitBuff(\"player\",\"影遁\") or kongzhi or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) and not UnitIsDead(\"pet\") then \n    BeeRun(\"/focus pet\");\nend\n\n---manual cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n--trinker\nif IsEquippedItem(\"灾变角斗士的顽强勋章\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"灾变角斗士的顽强勋章\",false) then \n    return;\nend\n\n--打断\nif InRangeT and BeeUnitAffectingCombat() and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) then\n    if BeeIsRun(\"胁迫\") then \n        if BeeUnitCastSpellName(\"player\") then\n            BeeRun(\"/stopcasting\");\n        end        \n        BeeRun(\"胁迫\");\n        return;\n    end\nend\nif IsSpellInRange(\"蛛网裹体\",\"target\") and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) then\n    if BeeIsRun(\"蛛网裹体\") and BeeSpellCD(\"沉默射击\")>1 then BeeRun(\"蛛网裹体\");\n        return;\n    end\nend\nif InRangeTS and not Wudi and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and BeeSpellCD(\"沉默射击\")>3 and BeeSpellCD(\"沉默射击\")<20 and PetNotPassive() and not UnitIsDeadOrGhost(\"pet\") then\n    if BeeIsRun(\"粗鲁投掷\") then BeeRun(\"粗鲁投掷\");\n        return;\n    end\nend\n--[[\nif GetUnitSpeed(\"player\")==0 and BeeIsRun(\"召唤宠物 4\") and (UnitIsDeadOrGhost(\"pet\") or UnitName(\"pet\")==nil) and GCD==0 and not BeeUnitAffectingCombat() then    \n    BeeRun(\"/cast 召唤宠物 4\");    \n    return;\nend\n]]--\nif BeeRangeR(\"pet\")<40 and BeeStringFind(\"冰霜新星,冰冻术,冰冻,震荡射击,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,枯萎凋零,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,减速药膏,精神鞭挞,冰霜吐息,公正圣印,台风,诱捕,寒冰宝珠,群体缠绕,冰霜震击\",plbl)  and BeeIsRun(\"主人的召唤\",\"player\") and UnitExists(\"pet\") then\n    BeeRun(\"主人的召唤\",\"player\");\n    return;\nend\nif BeeStringFind(\"冰霜新星,冰冻术,冰冻,冻疮,断筋,寒冰锁链,寒冰陷阱,险境求生,霜火之箭,寒冰箭,刺耳怒吼,冰锥术,罪状负担,感染伤口,蛛网,寒冰结界,迟滞,纠缠根须,陷地,精神鞭挞,冰霜吐息,群体缠绕\",plbl) and BeeIsRun(\"逃脱\",\"nogoal\") then\n    BeeRun(\"逃脱\",\"nogoal\");\n    return;\nend\nif BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,冲锋\",plbl) and BeeIsRun(\"蛛网裹体\") then\n    BeeRun(\"蛛网裹体\");\n    return;\nend\nif InRangeTS and BeeIsRun(\"粗鲁投掷\") and BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,冲锋\",plbl) then\n    BeeRun(\"粗鲁投掷\") ; \nend\n\nif BeeStringFind(\"迅疾如风\",plbl) and BeeIsRun(\"假死\",\"nogoal\") then\n    BeeRun(\"假死\",\"nogoal\");\n    return;\nend\nif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.60 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\") then\n    BeeRun(\"治疗石\");\n    return;\nelseif UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.30 and BeeUnitAffectingCombat() and BeeIsRun(\"炼金师的回春水\") and manapotion==3 then\n    BeeRun(\"炼金师的回春水\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<65 and BeeIsRun(\"威慑\",\"nogoal\") and not BeeStringFind(\"威慑\",plbl) and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() then\n    BeeRun(\"威慑\",\"nogoal\");\n    return;\nend\n\n--自动烟雾弹(伪装)\nlocal acp = BeeUnitTargetCastSpell(\"伪装\",3,\"法师,术士,德鲁伊,萨满祭司,牧师\",\"变形术,寒冰箭,恐惧,灵魂之火,旋风,奥术飞弹,奥术冲击,混乱箭,火球术,烧尽,闪电箭,闪电链,惩击,精神控制,心灵爆震,妖术,熔岩爆裂\")\nif acp and BeeIsRun(\"伪装\",\"nogoal\") then\n    BeeRun(\"伪装\",\"nogoal\");\n    return;\nend\nlocal acp = BeeUnitTargetCastSpell(\"伪装\",3,\"法师,术士,德鲁伊,萨满祭司,牧师\",\"变形术,寒冰箭,恐惧,灵魂之火,旋风,奥术飞弹,奥术冲击,混乱箭,火球术,烧尽,闪电箭,闪电链,惩击,精神控制,心灵爆震,妖术,熔岩爆裂\")\nif acp and BeeIsRun(\"假死\",\"nogoal\") then\n    BeeRun(\"假死\",\"nogoal\");\n    return;\nend\nif BeeSpellCD(\"急速射击\")>10 and not BeeStringFind(\"急速射击\",plbl) and BeeIsRun(\"准备就绪\",\"nogoal\") then\n    BeeRun(\"准备就绪\",\"nogoal\");\n    return;\nend\nif BeeSpellCD(\"威慑\")>10 and not BeeStringFind(\"威慑\",plbl) and BeeIsRun(\"准备就绪\",\"nogoal\") then\n    BeeRun(\"准备就绪\",\"nogoal\");\n    return;\nend\nlocal kl={UnitBuff(\"player\",\"狂乱\")}\nif BeePlayerBuffTime(\"集中火力\")<0 and UnitBuff(\"player\",\"狂乱\") and kl[4]>klcount and BeeIsRun(\"集中火力\") and BeeUnitAffectingCombat() or BeeUnitBuff(\"狂乱\",\"pet\",2,1)<4 and BeeUnitBuff(\"狂乱\",\"pet\",2,1)>0 and BeeIsRun(\"集中火力\") and not UnitBuff(\"player\",\"伪装\") and not UnitIsDeadOrGhost(\"pet\") then BeeRun(\"集中火力\"); \n    return;    \nend;\nif InRangeTL and BeeStringFind(\"急速射击\",plbl) and BeeIsRun(\"狂野怒火\",\"nogoal\") and UnitExists(\"pet\") then\n    BeeRun(\"狂野怒火\",\"nogoal\");\n    return;\nend\nif InRangeT and BeeStringFind(\"急速射击\",plbl) and BeeIsRun(\"群兽奔腾\",\"nogoal\") then\n    BeeRun(\"群兽奔腾\",\"nogoal\");\n    return;\nend\nif InRangeT and BeeStringFind(\"急速射击\",plbl) and BeeIsRun(\"胁迫\",\"nogoal\") then\n    BeeRun(\"胁迫\",\"nogoal\");\n    return;\nend\nif not BeeUnitAffectingCombat() and not BeeStringFind(\"猎豹守护,豹群守护\" , plbl) and BeeIsRun(\"猎豹守护\") then BeeRun(\"猎豹守护\"); \n    return;    \nend;\nif not BeeStringFind(\"猎豹守护\" , plbl) and BeeStringFind(\"迅疾如风\" , plbl) and BeeIsRun(\"猎豹守护\") and BeeUnitAffectingCombat() then BeeRun(\"猎豹守护\"); \n    return;    \nend;\nif not BeeStringFind(\"雄鹰守护,猎豹守护,豹群守护\" , plbl) and BeeIsRun(\"雄鹰守护\") and BeeUnitAffectingCombat() then BeeRun(\"雄鹰守护\"); \n    return;    \nend;\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and AA==1 or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif BeeRangeR(\"pet\")<45 and BeeUnitHealth(\"pet\",\"%\")<90 and BeeIsRun(\"治疗宠物\",\"pet\") and not BeeStringFind(\"治疗宠物\" , pbl) and not UnitIsDeadOrGhost(\"pet\") then    \n    BeeRun(\"治疗宠物\",\"pet\");    \n    return;\nend; \nif InRangeTL and not Wudi and InRangeTL and BeeUnitAffectingCombat() and BeeIsRun(\"猎人印记\",\"target\") and BeeUnitBuff(\"猎人印记\",\"target\",2,2)<1\nthen    \n    BeeRun(\"猎人印记\",\"target\");\n    return;\nend\n\n--Rotation\nif not kongzhi then\n    if InRangeT and not Wudi and BeeIsRun(\"宁神射击\",\"target\") and BeeUnitAffectingCombat() and BeeStringFind(\"真言术：韧,野性印记,奥术光辉,王者祝福,帝王传承,力量祝福,大地之盾,自由之手,真言术：盾,回春术,恩赐,寒冬号角,黑暗意图,白虎传承,爆燃,反冲\",tbl) and BeeUnitPlayerControlled(\"target\") and BeeUnitMana(\"player\")>20 then\n        BeeRun(\"宁神射击\",\"target\");\n        return; \n    end    \n    if IsSpellInRange(\"杀戮射击\",\"target\") and BeeUnitAffectingCombat() and BeeIsRun(\"杀戮射击\") then    \n        BeeRun(\"杀戮射击\");\n        return;\n    end   \n    if BeeRangeR(\"focus\")<100 and BeeUnitAffectingCombat() and not UnitName(\"focus\")==nil and BeeIsRun(\"误导\",\"nogoal\") and not BeeUnitPlayerControlled(\"target\") and BeeTargetTargetIsPlayer()\n    then \n        BeeRun(\"mislead\");\n    end    \n    if InRangeT and BeeUnitAffectingCombat() and UnitBuff(\"player\",\"狩猎刺激\") and\n    BeeIsRun(\"奥术射击\") then    \n        BeeRun(\"奥术射击\");\n        return;\n    end    \n    if InRangeT and BeeUnitAffectingCombat() and BeeIsRun(\"飞刃\") and BeeUnitMana(\"player\")>15 then    \n        BeeRun(\"飞刃\");\n        return;\n    end    \n    if InRangeT and BeeUnitAffectingCombat() and BeeUnitMana(\"player\")>85 and\n    BeeIsRun(\"多重射击\") then    \n        BeeRun(\"多重射击\");\n        return;\n    end     \n    if BeeRangeR(\"pet\")<25 and BeeUnitAffectingCombat() and BeeIsRun(\"杀戮命令\") and BeeTargetDeBuffTime(\"毒蛇钉刺\")>0 and PetNotPassive() and not UnitIsDeadOrGhost(\"pet\") and UnitExists(\"pet\") then \n        BeeRun(\"杀戮命令\");     \n        return; \n    end;   \n    if InRangeT and BeeUnitAffectingCombat() and\n    BeeIsRun(\"震荡射击\") then    \n        BeeRun(\"震荡射击\");\n        return;\n    end  \n    if InRangeT and BeeUnitAffectingCombat() and BeeTargetDeBuffTime(\"毒蛇钉刺\")<0 and BeeIsRun(\"毒蛇钉刺\") then    \n        BeeRun(\"毒蛇钉刺\");\n        return;\n    end    \n    if InRangeT and BeeUnitAffectingCombat() and BeeTargetDeBuffTime(\"蜘蛛毒刺\")<0 and BeeIsRun(\"蜘蛛毒刺\") and BeeUnitPlayerControlled(\"target\") then    \n        BeeRun(\"蜘蛛毒刺\");\n        return;\n    end    \n    if InRangeT and BeeUnitAffectingCombat() and BeeUnitMana(\"player\")>35 and\n    BeeIsRun(\"奥术射击\") then    \n        BeeRun(\"奥术射击\");\n        return;\n    end    \n    if InRangeT and BeeUnitAffectingCombat() and BeeUnitMana(\"player\")<35 and\n    BeeIsRun(\"稳固射击\") then    \n        BeeRun(\"稳固射击\");\n        return;\n    end   \n    if InRangeT and not Wudi and BeeIsRun(\"宁神射击\",\"target\") and BeeUnitAffectingCombat() and isPurgeable() and BeeUnitMana(\"player\")>20 then\n        BeeRun(\"宁神射击\",\"target\");\n        return; \n    end   \nend\n\n--pet control\nif InRangeTS and BeeIsRun(\"低吼\",\"target\") and BeeUnitAffectingCombat() and not BeeUnitPlayerControlled(\"target\") and BeeTargetTargetIsPlayer() then\n    BeeRun(\"低吼\",\"target\");\n    return; \nend\nif BeeRangeR(\"pet\")<100 and BeeIsRun(\"狂野怒火\",\"nogoal\") and BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕,休眠,自然之握\",pbl) then\n    BeeRun(\"狂野怒火\",\"nogoal\") ; \n    return;\nend\nif BeeRangeR(\"pet\")<100 and BeeIsRun(\"狂野怒火\",\"nogoal\") and BeeUnitAffectingCombat() and BeePlayerBuffTime(\"集中火力\")>10 and BeeSpellCD(\"急速射击\")>60 then\n    BeeRun(\"狂野怒火\",\"nogoal\") ; \n    return;\nend\nif BeeIsRun(\"凤凰之心\",\"nogoal\") and BeeUnitAffectingCombat() and UnitIsDeadOrGhost(\"pet\") then\n    BeeRun(\"凤凰之心\",\"nogoal\");\n    return;\nend\nif BeeUnitAffectingCombat() and BeeUnitHealth(\"pet\",\"%\")<55 and not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"破釜沉舟\",\"nogoal\") then BeeRun(\"破釜沉舟\",\"nogoal\");\n    return;\nend\nif BeeUnitAffectingCombat() and not BeeStringFind(\"寒冰气息\",pbl) and not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"寒冰气息\",\"nogoal\") and BeeSpellCD(\"撕咬\")>0 then\n    BeeRun(\"寒冰气息\",\"nogoal\");\n    return;\nend\nif BeeUnitAffectingCombat() and BeeStringFind(\"急速射击\",plbl) and not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"疯乱\",\"nogoal\") then\n    BeeRun(\"疯乱\",\"nogoal\");\n    return;\nend\nif BeeUnitAffectingCombat() and BeeUnitHealth(\"pet\",\"%\")<95 and not UnitIsDeadOrGhost(\"pet\") and BeeIsRun(\"疯乱\",\"nogoal\") then\n    BeeRun(\"/petautocaston 疯乱\");\nelse\n    BeeRun(\"/petautocastoff 疯乱\");\n    return;\nend\nif not IsInRaid() and BeeUnitHealth(\"pet\",\"%\")>60 and not UnitIsDeadOrGhost(\"pet\") then\n    BeeRun(\"/petautocaston 低吼\");\nelse\n    BeeRun(\"/petautocastoff 低吼\");\n    return;\nend",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Name"] = "Bow",
				}, -- [1]
			},
			["Variable"] = {
			},
			["Name"] = "Hunter",
		}, -- [7]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Script"] = "--技能设置开关，设置1为开启，0为关闭\nlocal HF = 1 --血量低于70%自动恢复\nlocal SJ = 1 --肾击\nlocal AA = 1 --Autoassist\nlocal JHJQ = 1 --嫁祸\nlocal autosap=1\n--开关结束\n--函数设置\nlocal pbl = BeeUnitBuffList()\nlocal zy = BeeUnitClassBase()\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal targetlow = BeeUnitHealth(\"target\",\"%\",0)<25 and BeeUnitHealth(\"target\",nil,0)<100000\nlocal GCD=GetSpellCooldown(\"影袭\")\nlocal SunState=2\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"月火术\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"月火术\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"月火术\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"毁伤\",\"target\")==nil or IsSpellInRange(\"毁伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"毁伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n--函数设置结束\n\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif UnitName(\"focus\")==nil and GetRaidTargetIndex(\"target\")~=8 and BeeUnitCanAttack(\"target\") and IsInGroup() and not IsInRaid() and BeeUnitAffectingCombat() then \n    SetRaidTarget(\"target\", 8)\n    return;\nend\nif UnitName(\"focus\")==nil and GetRaidTargetIndex(\"target\")==nil and BeeUnitCanAttack(\"target\") and IsInGroup() and not IsInRaid() and not BeeUnitAffectingCombat() then \n    SetRaidTarget(\"target\", 5)\n    return;\nend\nif SpellIsTargeting() then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or SpellIsTargeting() or BeeStringFind(\"凿击,致盲\",tbl) then\n    return;\nend\n\nif BeeStringFind(\"消失\",pbl) and BeeIsRun(\"疾跑\",\"nogoal\") then\n    BeeRun(\"疾跑\",\"nogoal\")\n    return;\nend\nif BeeStringFind(\"消失\",pbl) and BeeIsRun(\"暗遁\",\"nogoal\") then\n    BeeRun(\"暗遁\",\"nogoal\")\n    return;\nend\nif BeeStringFind(\"消失\",pbl) and BeeIsRun(\"闪避\",\"nogoal\") and BeeSpellCD(\"伺机待发\")<10 then\n    BeeRun(\"闪避\",\"nogoal\")\n    return;\nend\nif BeeStringFind(\"消失\",pbl) then\n    BeeRun(\"/stopattack\");\n    return;\nend\nif BeeStringFind(\"消失\",pbl) and BeeStringFind(\"献祭,冰霜疫病,噬灵疫病,吸血鬼之触,暗言术：痛,腐蚀术,燃烧,毒蛇钉刺,月火术,阳炎术\",pbl) and BeeIsRun(\"暗影斗篷\",\"nogoal\") then\n    BeeRun(\"暗影斗篷\",\"nogoal\");\n    return;\nend\nif BeeUnitBuffsSpells(\"player\",\"冰霜新星,痛苦无常,献祭,噬灵疫病,吸血鬼之触,暗言术：痛,冰霜疫病,猎人印记\",\"暗影斗篷\") then\n    return;\nend\nif ActionRange and BeeUnitCanAttack() and BeeStringFind(\"潜行\",tbl) and BeeStringFind(\"潜行者,德鲁伊,萨满祭祀\",zy) and BeeIsRun(\"暗遁\",\"nogoal\") then\n    BeeRun(\"暗遁\",\"nogoal\");\n    return;\nend\nif BeeUnitCanAttack() and BeeGetComboPoints()<1 and BeeIsRun(\"死亡标记\") and IsSpellInRange(\"死亡标记\",\"target\") and BeeUnitAffectingCombat() then\n    BeeRun(\"死亡标记\");\n    return;\nend\nif BeeUnitCanAttack() and BeeStringFind(\"潜行者,德鲁伊,萨满祭祀\",zy) and BeeIsRun(\"仇杀\") and IsSpellInRange(\"仇杀\",\"target\") then\n    BeeRun(\"仇杀\");\n    return;\nend\nif BeeStringFind(\"仇杀\",tbl) and BeeIsRun(\"暗影之刃\",\"nogoal\") and BeeUnitAffectingCombat() then\n    BeeRun(\"暗影之刃\",\"nogoal\");\n    return;\nend\nif ActionRange and BeeUnitCanAttack() and BeeStringFind(\"潜行\",tbl) and not BeeStringFind(\"闷棍\",tbl) and BeeStringFind(\"潜行者,德鲁伊\",zy) and BeeIsRun(\"闷棍\") and not BeeUnitAffectingCombat() then\n    BeeRun(\"闷棍\");\n    return;\nend\nif ActionRange and BeeUnitCanAttack() and BeeIsRun(\"闷棍\") and not BeeStringFind(\"闷棍\",tbl) and not BeeUnitAffectingCombat(\"target\") and not BeeUnitAffectingCombat() and autosap==1 then\n    BeeRun(\"闷棍\");\n    return;\nend\nif BeeSpellCD(\"消失\")>10 and not BeeStringFind(\"消失\",pbl) and BeeIsRun(\"伺机待发\",\"nogoal\") then\n    BeeRun(\"伺机待发\",\"nogoal\");\n    return;\nend\n\n--poison\nif BeePlayerBuffTime(\"减速药膏\")<120 and IsStealthed() and not BeeUnitCastSpellName(\"player\") and not BeeUnitAffectingCombat() then\n    BeeRun(\"applypoisonM\")\n    return;\nend\nif BeePlayerBuffTime(\"致命药膏\")<120 and IsStealthed() and not BeeUnitCastSpellName(\"player\") and not BeeUnitAffectingCombat() then\n    BeeRun(\"applypoisonO\")\n    return;\nend\nif BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕,震荡射击\",\"速度爆发\") then\n    return;\nend\nif BeePlayerBuffTime(\"速度爆发\")<3 and BeePlayerBuffTime(\"速度爆发\")>0 and BeeIsRun(\"疾跑\",\"nogoal\") and BeeUnitAffectingCombat() then\n    BeeRun(\"疾跑\",\"nogoal\")\n    return;\nend\n--trink\nif BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"自利\",false) then \n    return;\nend\nif BeeUnitBuffsSpells(\"player\",\"冰霜新星,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕\",\"自利\",false) and not BeeIsRun(\"速度爆发\",\"nogoal\") and BeeUnitMana()>30 then \n    return;\nend\n\nif BeeUnitHealth(\"player\",\"%\",0)<80 and BeeStringFind(\"炎爆术,活体炸弹,割裂,出血,燃烧,毒蛇钉刺,寒冰炸弹,献祭,腐蚀术,暗言术：痛,月火术,冰霜疫病,血之疫病,冰霜新星,痛苦无常,噬灵疫病,吸血鬼之触,撕裂,重伤\", pbl) and BeePlayerBuffTime(\"佯攻\")<0 and BeeIsRun(\"佯攻\",\"nogoal\") and BeeUnitMana()>25 then\n    BeeRun(\"佯攻\",\"nogoal\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<70 and BeeIsRun(\"恢复\",\"nogoal\") and BeePlayerBuffTime(\"恢复\")<0 and BeeGetComboPoints()>1 and HF==1 then\n    BeeRun(\"恢复\",\"nogoal\");\n    return;\nend;\n\nif not IsStealthed() then\n    --自动打断部分\n    if MeleeRange and BeeUnitAffectingCombat() and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and not Wudi and BeeIsRun(\"脚踢\") then\n        BeeRun(\"脚踢\");\n        return;\n    end    \n    if MeleeRange and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and BeeIsRun(\"肾击\") and BeeGetComboPoints()>0 and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) and SJ==1 and BeeSpellCD(\"脚踢\")>1 and BeeSpellCD(\"脚踢\")<13 and BeeUnitMana()>25 then\n        BeeRun(\"肾击\");\n        return;\n    end  \n    if MeleeRange and BeeUnitAffectingCombat() and BeeUnitCastSpellName(\"target\") and not Wudi and BeeIsRun(\"凿击\") and BeeSpellCD(\"脚踢\")>1 and BeeSpellCD(\"脚踢\")<13 and BeeUnitMana()>45 then\n        BeeRun(\"凿击\");\n        return;\n    end\n    --拆卸部分\n    if MeleeRange and BeeUnitPlayerControlled() and BeeStringFind(\"潜行者,战士,死亡骑士,圣骑士,猎人\",zy) and BeeIsRun(\"拆卸\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) and BeeUnitMana()>25 then \n        BeeRun(\"拆卸\");\n        return;\n    end    \nend\n\n--自我保命部分\nif not IsStealthed() then\n    if BeeIsRun(\"潜行\") then\n        BeeRun(\"潜行\");\n    end\n    if BeeUnitHealth(\"player\",\"%\",0)<50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\",\"player\")  then    \n        BeeRun(\"治疗石\");\n    end\n    if GetUnitSpeed(\"player\")==0 and BeeIsRun(\"烟雾弹\",\"nogoal\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and not IsStealthed() and BeeSpellCD(\"闪避\")>0 and BeeSpellCD(\"闪避\")<110 then\n        BeeRun(\"烟雾弹\",\"nogoal\");\n        return;\n    end    \n    --自动烟雾弹\n    local acp = BeeUnitTargetCastSpell(\"烟雾弹\",3,\"法师,术士,德鲁伊,萨满祭司,牧师\",\"变形术,寒冰箭,恐惧,灵魂之火,旋风,奥术飞弹,奥术冲击,混乱箭,火球术,烧尽,闪电箭,闪电链,惩击,精神控制,心灵爆震,妖术,熔岩爆裂,星涌术\")\n    if acp and BeeSpellCD(\"烟雾弹\")==0 and BeeIsRun(\"烟雾弹\",\"nogoal\") then\n        BeeRun(\"烟雾弹\",\"nogoal\");\n        return;\n    end\n    if MeleeRange and isPurgeable() and BeeIsRun(\"毒刃\",\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack() then\n        BeeRun(\"毒刃\",\"target\");\n        return; \n    end\n    local ygjs = BeeUnitTargetCastSpell(\"佯攻\",3,\"法师,术士,德鲁伊,萨满祭司,牧师\",\"炎爆术,寒冰箭,奥术飞弹,奥术冲击,混乱箭,火球术,烧尽,闪电箭,闪电链,惩击,心灵爆震,妖术,熔岩爆裂,星涌术,苦修\")\n    if ygjs and BeePlayerBuffTime(\"佯攻\")<0 and BeeIsRun(\"佯攻\",\"nogoal\") and BeeUnitMana()>25 then\n        BeeRun(\"佯攻\",\"nogoal\");\n        return;\n    end\n    --自动闪避\n    if MeleeRange and BeeUnitHealth(\"player\",\"%\",0)<80 and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"闪避\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl)  then BeeRun(\"闪避\",\"nogoal\");\n        return;\n    end\n    if BeeStringFind(\"潜行者,圣骑士,猎人\",zy) and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"闪避\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl)  then BeeRun(\"闪避\",\"nogoal\");\n        return;\n    end\n    if MeleeRange and BeeUnitHealth(\"player\",\"%\",0)<90 and BeeUnitHealth(\"target\",\"%\",0)>30 and BeePlayerBuffTime(\"佯攻\")<0 and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"佯攻\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) and BeeUnitMana()>25 then BeeRun(\"佯攻\",\"nogoal\");\n        return;\n    end\n    if BeeUnitPlayerControlled(Unit) and BeeStringFind(\"潜行者,战士,死亡骑士,圣骑士,猎人\",zy) and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"备战就绪\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) then BeeRun(\"备战就绪\");\n        return;\n    end\n    if MeleeRange and IsEquippedItem(\"恶孽角斗士的征服徽章\") and BeeUnitAffectingCombat() and BeeIsRun(\"恶孽角斗士的征服徽章\",\"nogoal\") then BeeRun(\"恶孽角斗士的征服徽章\",\"nogoal\");\n        return;\n    end\nend\n\n--dmg rotation\nif ActionRange and IsSpellInRange(\"嫁祸诀窍\",\"focus\") and JHJQ==1 and IsStealthed() and BeeIsRun(\"嫁祸诀窍\",\"focus\") and not UnitIsDeadOrGhost(\"target\") then\n    BeeRun(\"嫁祸诀窍\",\"focus\") \n    return;\nend\n\nif BeeUnitAffectingCombat() and not BeeStringFind(\"消失\",pbl) then \n    if BeeGetComboPoints()>0 and BeeGetComboPoints()<3 and BeePlayerBuffTime(\"切割\")<1 and BeeUnitHealth(\"target\")>800000 and BeeIsRun(\"切割\",\"nogoal\") and BeeUnitMana()>25 then\n        BeeRun(\"切割\",\"nogoal\")\n        return;\n    end\n    if BeeStringFind(\"盲点\",pbl) then\n        BeeRun(\"影袭\");\n        return;\n    end\n    if BeeIsRun(\"影袭\") and BeeUnitHealth(\"target\",\"%\",0)<35 and BeeGetComboPoints()<5 and BeeUnitMana()>30 then\n        BeeRun(\"影袭\");\n        return;\n    end\n    if BeeIsRun(\"破甲\") and BeeUnitHealth(\"target\",\"%\",0)>35 and BeeGetComboPoints()==4 and BeeUnitMana()>25 then\n        BeeRun(\"破甲\");\n        return;\n    end\n    if BeeTargetDeBuffTime(\"割裂\")<1 and BeeGetComboPoints()>4 and BeeIsRun(\"割裂\") and BeeUnitMana()>25 then\n        BeeRun(\"割裂\");\n        return;\n    end\n    if BeeIsRun(\"刺骨\") and BeeGetComboPoints()>4 and BeeUnitMana()>35 then\n        BeeRun(\"刺骨\");\n        return;\n    end\n    if not MeleeRange and IsSpellInRange(\"致盲\",\"target\") and BeeUnitCastSpellName(\"target\") and not Wudi and BeeIsRun(\"致盲\") then\n        BeeRun(\"致盲\");\n        return;\n    end\n    if BeeIsRun(\"伏击\") and BeeUnitHealth(\"target\",\"%\",0)>35 and BeeGetComboPoints()==3 and BeeUnitMana()>60 and IsStealthed() then\n        BeeRun(\"伏击\");\n        return;\n    end\nend\n\n--输出部分\nif MeleeRange and BeeUnitAffectingCombat() and not IsStealthed() then            \n    if BeeIsRun(\"毁伤\") and BeeUnitHealth(\"target\",\"%\",0)>35 and BeeGetComboPoints()<5 and BeeUnitMana()>55 then\n        BeeRun(\"毁伤\");\n        return;\n    end\nend",
					["Name"] = "Agi",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Description"] = "當滿足條件時自動施放",
				}, -- [1]
				{
					["GUID"] = 2,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "Aoe",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "--技能设置开关，设置1为开启，0为关闭\nlocal HF = 1 --血量低于70%自动恢复\nlocal SJ = 1 --肾击\nlocal AA = 1 --Autoassist\nlocal JHJQ = 1 --嫁祸\nlocal autosap=1\n--开关结束\n--函数设置\nlocal pbl = BeeUnitBuffList()\nlocal zy = BeeUnitClassBase()\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal targetlow = BeeUnitHealth(\"target\",\"%\",0)<25 and BeeUnitHealth(\"target\",nil,0)<100000\nlocal GCD=GetSpellCooldown(\"影袭\")\nlocal SunState=2\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"月火术\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"月火术\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"月火术\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"毁伤\",\"target\")==nil or IsSpellInRange(\"毁伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"毁伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n--函数设置结束\n\n--autoassist\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif UnitName(\"focus\")==nil and GetRaidTargetIndex(\"target\")~=8 and BeeUnitCanAttack(\"target\") and IsInGroup() and not IsInRaid() and BeeUnitAffectingCombat() then \n    SetRaidTarget(\"target\", 8)\n    return;\nend\nif UnitName(\"focus\")==nil and GetRaidTargetIndex(\"target\")==nil and BeeUnitCanAttack(\"target\") and IsInGroup() and not IsInRaid() and not BeeUnitAffectingCombat() then \n    SetRaidTarget(\"target\", 5)\n    return;\nend\nif SpellIsTargeting() then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\n--在飞行中，不施法 \nif IsMounted(\"player\")==1 or SpellIsTargeting() or BeeStringFind(\"凿击,致盲\",tbl) then\n    return;\nend\n\nif BeeStringFind(\"消失\",pbl) and BeeIsRun(\"疾跑\",\"nogoal\") then\n    BeeRun(\"疾跑\",\"nogoal\")\n    return;\nend\nif BeeStringFind(\"消失\",pbl) and BeeIsRun(\"暗遁\",\"nogoal\") then\n    BeeRun(\"暗遁\",\"nogoal\")\n    return;\nend\nif BeeStringFind(\"消失\",pbl) and BeeIsRun(\"闪避\",\"nogoal\") and BeeSpellCD(\"伺机待发\")<10 then\n    BeeRun(\"闪避\",\"nogoal\")\n    return;\nend\nif BeeStringFind(\"消失\",pbl) then\n    BeeRun(\"/stopattack\");\n    return;\nend\nif BeeStringFind(\"消失\",pbl) and BeeStringFind(\"献祭,冰霜疫病,噬灵疫病,吸血鬼之触,暗言术：痛,腐蚀术,燃烧,毒蛇钉刺,月火术,阳炎术\",pbl) and BeeIsRun(\"暗影斗篷\",\"nogoal\") then\n    BeeRun(\"暗影斗篷\",\"nogoal\");\n    return;\nend\nif BeeUnitBuffsSpells(\"player\",\"冰霜新星,痛苦无常,献祭,噬灵疫病,吸血鬼之触,暗言术：痛,冰霜疫病,猎人印记\",\"暗影斗篷\") then\n    return;\nend\nif ActionRange and BeeUnitCanAttack() and BeeStringFind(\"潜行\",tbl) and BeeStringFind(\"潜行者,德鲁伊,萨满祭祀\",zy) and BeeIsRun(\"暗遁\",\"nogoal\") then\n    BeeRun(\"暗遁\",\"nogoal\");\n    return;\nend\nif BeeUnitCanAttack() and BeeGetComboPoints()<1 and BeeIsRun(\"死亡标记\") and IsSpellInRange(\"死亡标记\",\"target\") and BeeUnitAffectingCombat() then\n    BeeRun(\"死亡标记\");\n    return;\nend\nif BeeUnitCanAttack() and BeeStringFind(\"潜行者,德鲁伊,萨满祭祀\",zy) and BeeIsRun(\"仇杀\") and IsSpellInRange(\"仇杀\",\"target\") then\n    BeeRun(\"仇杀\");\n    return;\nend\nif ActionRange and BeeUnitCanAttack() and BeeStringFind(\"潜行\",tbl) and not BeeStringFind(\"闷棍\",tbl) and BeeStringFind(\"潜行者,德鲁伊\",zy) and BeeIsRun(\"闷棍\") and not BeeUnitAffectingCombat() then\n    BeeRun(\"闷棍\");\n    return;\nend\nif ActionRange and BeeUnitCanAttack() and BeeIsRun(\"闷棍\") and not BeeStringFind(\"闷棍\",tbl) and not BeeUnitAffectingCombat(\"target\") and not BeeUnitAffectingCombat() and autosap==1 then\n    BeeRun(\"闷棍\");\n    return;\nend\nif BeeSpellCD(\"消失\")>10 and not BeeStringFind(\"消失\",pbl) and BeeIsRun(\"伺机待发\",\"nogoal\") then\n    BeeRun(\"伺机待发\",\"nogoal\");\n    return;\nend\n\n--poison\nif BeePlayerBuffTime(\"减速药膏\")<120 and IsStealthed() and not BeeUnitCastSpellName(\"player\") and not BeeUnitAffectingCombat() then\n    BeeRun(\"applypoisonM\")\n    return;\nend\nif BeePlayerBuffTime(\"致命药膏\")<120 and IsStealthed() and not BeeUnitCastSpellName(\"player\") and not BeeUnitAffectingCombat() then\n    BeeRun(\"applypoisonO\")\n    return;\nend\nif BeeUnitBuffsSpells(\"player\",\"冰霜新星,冰冻术,断筋,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕,震荡射击\",\"速度爆发\") then\n    return;\nend\nif BeePlayerBuffTime(\"速度爆发\")<3 and BeePlayerBuffTime(\"速度爆发\")>0 and BeeIsRun(\"疾跑\",\"nogoal\") and BeeUnitAffectingCombat() then\n    BeeRun(\"疾跑\",\"nogoal\")\n    return;\nend\n--trink\nif BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光\",\"自利\",false) then \n    return;\nend\nif BeeUnitBuffsSpells(\"player\",\"冰霜新星,寒冰锁链,险境求生,刺耳怒吼,冰锥术,感染伤口,蛛网,寒冰结界,迟滞,霜火之箭,纠缠根须,陷地,冰霜吐息,诱捕,群体缠绕\",\"自利\",false) and not BeeIsRun(\"速度爆发\",\"nogoal\") and BeeUnitMana()>30 then \n    return;\nend\n\nif BeeUnitHealth(\"player\",\"%\",0)<80 and BeeStringFind(\"炎爆术,活体炸弹,割裂,出血,燃烧,毒蛇钉刺,寒冰炸弹,献祭,腐蚀术,暗言术：痛,月火术,冰霜疫病,血之疫病,冰霜新星,痛苦无常,噬灵疫病,吸血鬼之触,撕裂,重伤\", pbl) and BeePlayerBuffTime(\"佯攻\")<0 and BeeIsRun(\"佯攻\",\"nogoal\") and BeeUnitMana()>25 then\n    BeeRun(\"佯攻\",\"nogoal\");\n    return;\nend\nif BeeUnitHealth(\"player\",\"%\")<70 and BeeIsRun(\"恢复\",\"nogoal\") and BeePlayerBuffTime(\"恢复\")<0 and BeeGetComboPoints()>1 and HF==1 then\n    BeeRun(\"恢复\",\"nogoal\");\n    return;\nend;\n\nif not IsStealthed() then\n    --自动打断部分\n    if MeleeRange and BeeUnitAffectingCombat() and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and not Wudi and BeeIsRun(\"脚踢\") then\n        BeeRun(\"脚踢\");\n        return;\n    end    \n    if MeleeRange and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and BeeIsRun(\"肾击\") and BeeGetComboPoints()>0 and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) and SJ==1 and BeeSpellCD(\"脚踢\")>1 and BeeSpellCD(\"脚踢\")<13 and BeeUnitMana()>25 then\n        BeeRun(\"肾击\");\n        return;\n    end  \n    if MeleeRange and BeeUnitAffectingCombat() and BeeUnitCastSpellName(\"target\") and not Wudi and BeeIsRun(\"凿击\") and BeeSpellCD(\"脚踢\")>1 and BeeSpellCD(\"脚踢\")<13 and BeeUnitMana()>45 then\n        BeeRun(\"凿击\");\n        return;\n    end\n    --拆卸部分\n    if MeleeRange and BeeUnitPlayerControlled() and BeeStringFind(\"潜行者,战士,死亡骑士,圣骑士,猎人\",zy) and BeeIsRun(\"拆卸\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) and BeeUnitMana()>25 then \n        BeeRun(\"拆卸\");\n        return;\n    end    \nend\n\n--自我保命部分\nif not IsStealthed() then\n    if BeeIsRun(\"潜行\") then\n        BeeRun(\"潜行\");\n    end\n    if BeeUnitHealth(\"player\",\"%\",0)<50 and BeeUnitAffectingCombat() and BeeIsRun(\"治疗石\",\"player\")  then    \n        BeeRun(\"治疗石\");\n    end\n    if BeeIsRun(\"符文治疗药水\") and UnitHealth(\"player\")/UnitHealthMax(\"player\")<0.50 and BeeUnitAffectingCombat() and not IsStealthed() then\n        BeeRun(\"符文治疗药水\");\n        return;\n    end    \n    --自动烟雾弹\n    local acp = BeeUnitTargetCastSpell(\"烟雾弹\",3,\"法师,术士,德鲁伊,萨满祭司,牧师\",\"变形术,寒冰箭,恐惧,灵魂之火,旋风,奥术飞弹,奥术冲击,混乱箭,火球术,烧尽,闪电箭,闪电链,惩击,精神控制,心灵爆震,妖术,熔岩爆裂,星涌术\")\n    if acp and BeeSpellCD(\"烟雾弹\")==0 and BeeIsRun(\"烟雾弹\",\"nogoal\") then\n        BeeRun(\"烟雾弹\",\"nogoal\");\n        return;\n    end\n    if MeleeRange and isPurgeable() and BeeIsRun(\"毒刃\",\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack() then\n        BeeRun(\"毒刃\",\"target\");\n        return; \n    end\n    local ygjs = BeeUnitTargetCastSpell(\"佯攻\",3,\"法师,术士,德鲁伊,萨满祭司,牧师\",\"炎爆术,寒冰箭,奥术飞弹,奥术冲击,混乱箭,火球术,烧尽,闪电箭,闪电链,惩击,心灵爆震,妖术,熔岩爆裂,星涌术,苦修\")\n    if ygjs and BeePlayerBuffTime(\"佯攻\")<0 and BeeIsRun(\"佯攻\",\"nogoal\") and BeeUnitMana()>25 then\n        BeeRun(\"佯攻\",\"nogoal\");\n        return;\n    end\n    --自动闪避\n    if MeleeRange and BeeUnitHealth(\"player\",\"%\",0)<80 and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"闪避\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl)  then BeeRun(\"闪避\",\"nogoal\");\n        return;\n    end\n    if BeeStringFind(\"潜行者,圣骑士,猎人\",zy) and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"闪避\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl)  then BeeRun(\"闪避\",\"nogoal\");\n        return;\n    end\n    if MeleeRange and BeeUnitHealth(\"player\",\"%\",0)<90 and BeeUnitHealth(\"target\",\"%\",0)>30 and BeePlayerBuffTime(\"佯攻\")<0 and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"佯攻\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) and BeeUnitMana()>25 then BeeRun(\"佯攻\",\"nogoal\");\n        return;\n    end\n    if BeeUnitPlayerControlled(Unit) and BeeStringFind(\"潜行者,战士,死亡骑士,圣骑士,猎人\",zy) and BeeUnitAffectingCombat() and BeeTargetTargetIsPlayer() and BeeIsRun(\"备战就绪\",\"nogoal\") and not BeeStringFind(\"拆卸,缴械,心灵惊骇,偷袭,肾击,圣盾术,保护之手,旋风,震荡猛击,震荡波,拦截,冲锋击晕,制裁之锤,忏悔,恐惧,心灵尖啸,死亡缠绕,暗影之怒,深度冻结,破胆怒吼,眩晕\",tbl) then BeeRun(\"备战就绪\");\n        return;\n    end   \nend\n\n--dmg rotation\nif ActionRange and IsSpellInRange(\"嫁祸诀窍\",\"focus\") and JHJQ==1 and IsStealthed() and BeeIsRun(\"嫁祸诀窍\",\"focus\") and not UnitIsDeadOrGhost(\"target\") then\n    BeeRun(\"嫁祸诀窍\",\"focus\") \n    return;\nend\n\nif BeeUnitAffectingCombat() and not BeeStringFind(\"消失\",pbl) then \n    if BeeStringFind(\"盲点\",pbl) then\n        BeeRun(\"影袭\");\n        return;\n    end\n    if BeeIsRun(\"影袭\") and BeeUnitHealth(\"target\",\"%\",0)<35 and BeeGetComboPoints()<5 and BeeUnitMana()>30 then\n        BeeRun(\"影袭\");\n        return;\n    end\n    if BeeIsRun(\"破甲\") and BeeUnitHealth(\"target\",\"%\",0)>35 and BeeGetComboPoints()==4 and BeeUnitMana()>25 then\n        BeeRun(\"破甲\");\n        return;\n    end\n    if BeeUnitHealth(\"target\")>10000000 and BeeTargetDeBuffTime(\"割裂\")<1 and BeeGetComboPoints()>4 and BeeIsRun(\"割裂\") and BeeUnitMana()>25 then\n        BeeRun(\"割裂\");\n        return;\n    end\n    if BeeIsRun(\"猩红风暴\",\"nogoal\") and BeeGetComboPoints()>4 and BeeUnitMana()>35 then\n        BeeRun(\"猩红风暴\",\"nogoal\");\n        return;\n    end    \n    if not MeleeRange and IsSpellInRange(\"致盲\",\"target\") and BeeUnitCastSpellName(\"target\") and not Wudi and BeeIsRun(\"致盲\") then\n        BeeRun(\"致盲\");\n        return;\n    end\n    if BeeIsRun(\"伏击\") and BeeUnitHealth(\"target\",\"%\",0)>35 and BeeGetComboPoints()==3 and BeeUnitMana()>60 and IsStealthed() then\n        BeeRun(\"伏击\");\n        return;\n    end\nend\n\n--输出部分\nif MeleeRange and BeeUnitAffectingCombat() and not IsStealthed() then    \n    if BeeStringFind(\"圣骑士,牧师,德鲁伊,萨满祭司\",zy) and BeePlayerBuffTime(\"切割\")<1 and BeeSpellCD(\"肾击\")>6 and BeeUnitHealth(\"target\")>100000 and BeeIsRun(\"切割\",\"nogoal\") and BeeUnitMana()>25 then\n        BeeRun(\"切割\",\"nogoal\")\n        return;\n    end\n    if BeePlayerBuffTime(\"切割\")<1 and BeeSpellCD(\"肾击\")>6 and BeeUnitHealth(\"target\")>3000000 and BeeIsRun(\"切割\",\"nogoal\") and BeeUnitMana()>25 then\n        BeeRun(\"切割\",\"nogoal\")\n        return;\n    end        \n    if BeeIsRun(\"毁伤\") and BeeUnitHealth(\"target\",\"%\",0)>35 and BeeGetComboPoints()<5 and BeeUnitMana()>55 then\n        BeeRun(\"毁伤\");\n        return;\n    end\nend",
				}, -- [2]
			},
			["Variable"] = {
			},
			["Name"] = "Rogue",
		}, -- [8]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "Shaman",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock = 1\nlocal qsmouse=1\nlocal manapotion = 3 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春, 4:生命\nlocal GCD=GetSpellCooldown(\"闪电箭\")\nlocal InRangeT = IsSpellInRange(\"闪电箭\",\"target\")\ngrouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal MeleeRange\nif IsSpellInRange(\"裂伤\",\"target\")==nil or IsSpellInRange(\"裂伤\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"裂伤\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\n--Offensive\nif MeleeRange and BeeIsRun(\"根源打击\") and BeeUnitCanAttack(\"target\") and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") and GCD==0\nthen BeeRun(\"根源打击\");\nend\n\nif InRangeT and BeeIsRun(\"闪电箭\") and BeeUnitCanAttack(\"target\") and BeeUnitAffectingCombat() and not BeeUnitCastSpellName(\"player\") and GCD==0\nthen BeeRun(\"闪电箭\");\nend",
				}, -- [1]
			},
			["Variable"] = {
			},
			["Name"] = "Shaman",
		}, -- [9]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Description"] = "當滿足條件時自動施放",
					["Name"] = "Blood",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal AA=1\nlocal GCD=GetSpellCooldown(\"鲜血灵气\")\nlocal InRangeT=IsSpellInRange(\"绞袭\",\"target\")\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal MeleeRange\nif IsSpellInRange(\"灵界打击\",\"target\")==nil or IsSpellInRange(\"灵界打击\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"灵界打击\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\n--fast cast\nif BeeCastSpellFast() then\n    return true;\nend\n\n--autoassist\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") and AA==1 or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif UnitName(\"target\")==nil and UnitName(\"focus\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") and AA==1 or UnitName(\"focus\") and UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") then\n    BeeRun(\"/target focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and UnitIsDeadOrGhost(\"focus\") then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() and not BeeUnitPlayerControlled(\"focustarget\")then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif SpellIsTargeting() then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\nif IsMounted(\"player\")==1 then \n    if not BeeStringFind(\"冰霜之路\",tlzd) then \n        BeeRun(\"冰霜之路\");\n    end\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"天灾徽记\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",\"天灾徽记\",false) then \n    return;\nend\n\nif not IsEquippedItem(\"天灾徽记\") then\n    if BeeIsRun(\"冰封之韧\",\"nogoal\") and BeeStringFind(\"突袭,肾击,制裁之锤,深度冻结,偷袭,蛮力猛击,割碎,胁迫,风暴之锤\",tlzd) then\n        BeeRun(\"冰封之韧\",\"nogoal\" ) ; \n    end\n    if BeeIsRun(\"巫妖之躯\",\"nogoal\") and BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,恐惧术,死亡缠绕,心灵恐惧,迷魅\",tlzd) then\n        BeeRun(\"巫妖之躯\",\"nogoal\" ) ; \n    end\nend\n\nif BeeIsRun(\"冰封之韧\",\"nogoal\") and BeeStringFind(\"突袭,肾击,制裁之锤,深度冻结,偷袭,蛮力猛击,割碎,胁迫,风暴之锤\",tlzd) and BeeSpellCD(\"天灾徽记\")>0 and BeeSpellCD(\"天灾徽记\")<298 then\n    BeeRun(\"冰封之韧\",\"nogoal\" ) ; \nend\n\nif BeeIsRun(\"巫妖之躯\",\"nogoal\") and BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,恐惧术,死亡缠绕,心灵恐惧,迷魅\",tlzd) and BeeSpellCD(\"天灾徽记\")>0 and BeeSpellCD(\"天灾徽记\")<298 then\n    BeeRun(\"巫妖之躯\",\"nogoal\" ) ; \nend\n\nif BeeUnitAffectingCombat() and BeeIsRun(\"亡者复生\",\"nogoal\") and BeeUnitHealth(player,\"%\")<50 then BeeRun(\"Petheal\");\n    return;\nend\n\nif BeeIsRun(\"符文分流\",\"nogoal\") and BeeRune(\"鲜血符文\")>0 and BeeUnitHealth(player,\"%\")<80 then BeeRun(\"符文分流\",\"nogoal\");\n    return;\nend\n\nif BeeIsRun(\"冰封之韧\",\"nogoal\") and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<50 then BeeRun(\"冰封之韧\",\"nogoal\");\n    return;\nend\n\nif BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<70 and BeeIsRun(\"纳鲁的赐福\",\"nogoal\") then BeeRun(\"纳鲁的赐福\",\"nogoal\")\n    return;\nend\n\nif BeeUnitHealth(player,\"%\")<70 and BeeStringFind(\"巫妖之躯\",tlzd) and BeeIsRun(\"凋零缠绕\",\"player\") then BeeRun(\"凋零缠绕\",\"player\")\n    return;\nend\n\nif BeeUnitHealth(player,\"%\")<60 and UnitPower(\"player\", 6)>40 and not BeeStringFind(\"巫妖之躯\",tlzd) and BeeIsRun(\"巫妖之躯\",\"nogoal\") and BeeSpellCD(\"亡者复生\")>1 and BeeSpellCD(\"亡者复生\")<118 then BeeRun(\"巫妖之躯\",\"nogoal\")\n    return;\nend\n\nif MeleeRange and BeeUnitAffectingCombat() and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and not Wudi and BeeIsRun(\"心灵冰冻\") then\n    BeeRun(\"心灵冰冻\");\n    return;\nend\n\nif not MeleeRange and IsSpellInRange(\"绞袭\",\"target\") and BeeUnitAffectingCombat() and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and not Wudi and BeeIsRun(\"绞袭\") then\n    BeeRun(\"绞袭\");\n    return;\nend\n\nif IsSpellInRange(\"绞袭\",\"target\") and BeeUnitAffectingCombat() and not Wudi and BeeIsRun(\"绞袭\") and BeeSpellCD(\"死亡之握\")>23 and BeeSpellCD(\"死亡之握\")<25 then\n    BeeRun(\"绞袭\");\n    return;\nend\n\n--buff\nif BeeIsRun(\"寒冬号角\",\"nogoal\") and BeePlayerBuffTime(\"寒冬号角\")<120 then\n    BeeRun(\"寒冬号角\",\"nogoal\")\n    return;\nend\n\nif BeeUnitAffectingCombat() and GCD==0 then    \n    if BeeIsRun(\"冰冷触摸\",\"target\") and BeeTargetDeBuffTime(\"冰霜疫病\")<5 then BeeRun(\"冰冷触摸\",\"target\");\n        return;\n    end\n    if BeeIsRun(\"暗影打击\",\"target\") and BeeTargetDeBuffTime(\"血之疫病\")<5 then BeeRun(\"暗影打击\",\"target\");\n        return;\n    end\n    if BeeIsRun(\"灵界打击\",\"target\") and BeeStringFind(\"冰霜疫病\",tbl) then BeeRun(\"灵界打击\",\"target\");\n        return;\n    end\n    if MeleeRange and UnitPower(\"player\", 6)>30 then BeeRun(\"符文打击\",\"target\");\n        return;\n    end\n    if not MeleeRange and IsSpellInRange(\"绞袭\",\"target\") and BeeIsRun(\"凋零缠绕\",\"target\") and UnitPower(\"player\", 6)>50 then BeeRun(\"凋零缠绕\",\"target\");\n        return;\n    end\n    if BeeIsRun(\"鲜血打击\",\"target\") and BeeRune(\"鲜血符文\")>0 then BeeRun(\"鲜血打击\",\"target\");\n        return;\n    end\n    if BeeIsRun(\"暗影打击\",\"target\") and BeeRune(\"邪恶符文\")>1 then BeeRun(\"暗影打击\",\"target\");\n        return;\n    end   \n    if BeeIsRun(\"冰冷触摸\",\"target\") and BeeRune(\"冰霜符文\")>1 then BeeRun(\"冰冷触摸\",\"target\");\n        return;\n    end    \nend",
				}, -- [1]
				{
					["GUID"] = 2,
					["Name"] = "BloodAOE",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal AA=1\nlocal GCD=GetSpellCooldown(\"鲜血灵气\")\nlocal InRangeT=IsSpellInRange(\"绞袭\",\"target\")\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流\"\nlocal MeleeRange\nif IsSpellInRange(\"灵界打击\",\"target\")==nil or IsSpellInRange(\"灵界打击\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"灵界打击\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握\",BeeUnitBuffList(\"target\"))\n\n--符文强化\nif BeeCastSpellFast() then\n    return true;\nend\n\n--autoassist\nif BeeUnitAffectingCombat() and (UnitName(\"focus\")==nil or UnitIsDead(\"focus\")) then \n    BeeRun(\"/focus player\");\nend\nif UnitName(\"target\")==nil and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") and AA==1 or UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and UnitCanAssist(\"player\",\"focus\") and BeeUnitCanAttack(\"focustarget\") then\n    BeeRun(\"/target focustarget\") \n    return;\nend\nif UnitName(\"target\")==nil and UnitName(\"focus\") and not UnitIsDeadOrGhost(\"player\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") and AA==1 or UnitName(\"focus\") and UnitIsDeadOrGhost(\"target\") and BeeUnitAffectingCombat() and BeeUnitCanAttack(\"focus\") then\n    BeeRun(\"/target focus\") \n    return;\nend\nif UnitName(\"focus\") and not UnitCanAssist(\"player\",\"focus\") and UnitIsDeadOrGhost(\"focus\") then\n    BeeRun(\"/clearfocus\")\n    EuiAlertRun(\"失去焦点\",0.1,1,0.1)\n    return;\nend\nif UnitName(\"focus\") and GetRaidTargetIndex(\"focustarget\")==nil and BeeUnitCanAttack(\"focustarget\") and IsInGroup() and not IsInRaid() and not BeeUnitPlayerControlled(\"focustarget\")then \n    SetRaidTarget(\"focustarget\", 8)\n    return;\nend\nif SpellIsTargeting() then\n    CameraOrSelectOrMoveStart()\n    CameraOrSelectOrMoveStop()\n    return;\nend\n\nif IsMounted(\"player\")==1 then \n    if not BeeStringFind(\"冰霜之路\",tlzd) then \n        BeeRun(\"冰霜之路\");\n    end\n    return;\nend\n\n--在飞行中，不施法 Feral\nif IsMounted(\"player\")==1 or SpellIsTargeting() or UnitChannelInfo(\"player\") or BeeUnitCastSpellName(\"player\") or IsStealthed() or UnitInVehicle(\"player\") then\n    return;\nend\n\n---Trinker\nif IsEquippedItem(\"天灾徽记\") and  BeeUnitBuffsSpells(\"player\",\"恐惧,心灵尖啸,恐惧嚎叫,瘫痪,破胆怒吼,恐惧术,死亡缠绕,肾击,制裁之锤,深度冻结,偷袭,割碎,冰冻陷阱,窒息,蛮力猛击,心灵恐惧,冰霜之环,变形术,迷魅,妖术,震荡波,扫堂腿,金刚震,盲目之光,风暴之锤,严酷寒冬\",\"天灾徽记\",false) then \n    return;\nend\n\nif not IsEquippedItem(\"天灾徽记\") then\n    if BeeIsRun(\"冰封之韧\",\"nogoal\") and BeeStringFind(\"突袭,肾击,制裁之锤,深度冻结,偷袭,蛮力猛击,割碎,胁迫,风暴之锤\",tlzd) then\n        BeeRun(\"冰封之韧\",\"nogoal\" ) ; \n    end\n    if BeeIsRun(\"巫妖之躯\",\"nogoal\") and BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,恐惧术,死亡缠绕,心灵恐惧,迷魅\",tlzd) then\n        BeeRun(\"巫妖之躯\",\"nogoal\" ) ; \n    end\nend\n\nif BeeIsRun(\"冰封之韧\",\"nogoal\") and BeeStringFind(\"突袭,肾击,制裁之锤,深度冻结,偷袭,蛮力猛击,割碎,胁迫,风暴之锤\",tlzd) and BeeSpellCD(\"天灾徽记\")>0 and BeeSpellCD(\"天灾徽记\")<298 then\n    BeeRun(\"冰封之韧\",\"nogoal\" ) ; \nend\n\nif BeeIsRun(\"巫妖之躯\",\"nogoal\") and BeeStringFind(\"恐惧,心灵尖啸,恐惧嚎叫,恐惧术,死亡缠绕,心灵恐惧,迷魅\",tlzd) and BeeSpellCD(\"天灾徽记\")>0 and BeeSpellCD(\"天灾徽记\")<298 then\n    BeeRun(\"巫妖之躯\",\"nogoal\" ) ; \nend\n\nif BeeUnitAffectingCombat() and BeeIsRun(\"亡者复生\",\"nogoal\") and BeeUnitHealth(player,\"%\")<50 then BeeRun(\"Petheal\");\n    return;\nend\n\nif BeeIsRun(\"符文分流\",\"nogoal\") and BeeRune(\"鲜血符文\")>0 and BeeUnitHealth(player,\"%\")<80 then BeeRun(\"符文分流\",\"nogoal\");\n    return;\nend\n\nif BeeIsRun(\"冰封之韧\",\"nogoal\") and BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<50 then BeeRun(\"冰封之韧\",\"nogoal\");\n    return;\nend\n\nif BeeUnitAffectingCombat() and BeeUnitHealth(player,\"%\")<70 and BeeIsRun(\"纳鲁的赐福\",\"nogoal\") then BeeRun(\"纳鲁的赐福\",\"nogoal\")\n    return;\nend\n\nif BeeUnitHealth(player,\"%\")<70 and BeeStringFind(\"巫妖之躯\",tlzd) and BeeIsRun(\"凋零缠绕\",\"player\") then BeeRun(\"凋零缠绕\",\"player\")\n    return;\nend\n\nif BeeUnitHealth(player,\"%\")<60 and UnitPower(\"player\", 6)>40 and not BeeStringFind(\"巫妖之躯\",tlzd) and BeeIsRun(\"巫妖之躯\",\"nogoal\") and BeeSpellCD(\"亡者复生\")>1 and BeeSpellCD(\"亡者复生\")<118 then BeeRun(\"巫妖之躯\",\"nogoal\")\n    return;\nend\n\nif MeleeRange and BeeUnitAffectingCombat() and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and not Wudi and BeeIsRun(\"心灵冰冻\") then\n    BeeRun(\"心灵冰冻\");\n    return;\nend\n\nif not MeleeRange and IsSpellInRange(\"绞袭\",\"target\") and BeeUnitAffectingCombat() and BeeStringFind(interupt,BeeUnitCastSpellName(\"target\")) and not Wudi and BeeIsRun(\"绞袭\") then\n    BeeRun(\"绞袭\");\n    return;\nend\n\nif IsSpellInRange(\"绞袭\",\"target\") and BeeUnitAffectingCombat() and not Wudi and BeeIsRun(\"绞袭\") and BeeSpellCD(\"死亡之握\")>23 and BeeSpellCD(\"死亡之握\")<25 then\n    BeeRun(\"绞袭\");\n    return;\nend\n\n--buff\nif BeeIsRun(\"寒冬号角\",\"nogoal\")  and  BeePlayerBuffTime(\"寒冬号角\")<120 then\n    BeeRun(\"寒冬号角\",\"nogoal\")\n    return;\nend\n\nif BeeUnitAffectingCombat() and GCD==0 then\n    if ActionRange and BeeIsRun(\"血液沸腾\",\"target\") and BeeRune(\"鲜血符文\")>0 and BeeStringFind(\"冰霜疫病\",tbl) then BeeRun(\"血液沸腾\",\"target\")\n        return;\n    end\n    if BeeIsRun(\"冰冷触摸\",\"target\") and BeeTargetDeBuffTime(\"冰霜疫病\")<5 then BeeRun(\"冰冷触摸\",\"target\");\n        return;\n    end\n    if BeeIsRun(\"暗影打击\",\"target\") and BeeTargetDeBuffTime(\"血之疫病\")<5 then BeeRun(\"暗影打击\",\"target\");\n        return;\n    end   \n    if BeeIsRun(\"灵界打击\",\"target\") and BeeStringFind(\"冰霜疫病\",tbl) then BeeRun(\"灵界打击\",\"target\");\n        return;\n    end\n    if MeleeRange and UnitPower(\"player\", 6)>30 then BeeRun(\"符文打击\",\"target\");\n        return;\n    end\n    if not MeleeRange and IsSpellInRange(\"绞袭\",\"target\") and BeeIsRun(\"凋零缠绕\",\"target\") and UnitPower(\"player\", 6)>50 then BeeRun(\"凋零缠绕\",\"target\");\n        return;\n    end    \n    if BeeIsRun(\"暗影打击\",\"target\") and BeeRune(\"邪恶符文\")>1 then BeeRun(\"暗影打击\",\"target\");\n        return;\n    end   \n    if BeeIsRun(\"冰冷触摸\",\"target\") and BeeRune(\"冰霜符文\")>1 then BeeRun(\"冰冷触摸\",\"target\");\n        return;\n    end\nend\n",
				}, -- [2]
			},
			["Variable"] = {
			},
			["Name"] = "Deathknight",
		}, -- [10]
		{
			["Items"] = {
				{
					["GUID"] = 1,
					["Name"] = "Agi",
					["Description"] = "當滿足條件時自動施放",
					["Icon"] = "Interface\\Icons\\INV_Misc_QuestionMark",
					["Script"] = "local _,Name = BeeGetShapeshiftId();\nlocal tlzd = BeeUnitBuffList(\"player\")\nlocal tbl = BeeUnitBuffList(\"target\")\nlocal ttbl = BeeUnitBuffList(\"targettarget\")\nlocal shoutao1=\"信心之握\"\nlocal shoutao2=\"恶孽角斗士的蟒皮手套\"\nlocal yaodai1=\"恶孽角斗士的残酷腰带\"\nlocal yaodai2=\"风炎束腰\"\nlocal gss = GetSpellInfo(\"共生术\") --共生\nlocal luaunlock=1\nlocal zy = BeeUnitClassBase()\nlocal hoverheal=1\nlocal qsmouse=1\nlocal manapotion=0 --1: 神效法力,  2: 无尽法力, 3:  炼金师回春\nlocal GCD=GetSpellCooldown(\"贯日击\")\nlocal Wudi = BeeStringFind(\"圣盾术,寒冰屏障,根基图腾效果,光环掌握,暗影斗篷\",BeeUnitBuffList(\"target\"))\nlocal interupt = \"圣光术,圣光闪现,滋养,宁静,治疗之触,愈合,苦修,强效治疗术,快速治疗,治疗祷言,光明之泉,神圣赞美诗,希望圣歌,联结治疗,治疗链,治疗波,次级治疗波,治疗之雾,变形术,唤醒,霜火之箭,寒冰箭,火球术,灼烧,奥术冲击,烈焰风暴,奥术飞弹,奥术冲击,炎爆术,腐蚀之种,献祭,鬼影缠身,痛苦无常,混乱之箭,灵魂之火,烧尽,愤怒,旋风,纠缠根须,熔岩爆裂,闪电链,闪电箭,妖术,驱邪术,心灵震爆,神圣之火,吸血鬼之触,精神鞭笞,法力燃烧,龙形治愈,吞噬生命,洪流,亚煞极之触,强化亚煞极之触\"\nlocal grouptype=\"party\"\nif IsInRaid() then\n    grouptype=\"raid\"\nend\nif IsInGroup() and not IsInRaid() then\n    grouptype=\"party\"\nend\nlocal InRangeT = IsSpellInRange(\"月火术\",\"target\")\nlocal InRangeFT = IsSpellInRange(\"月火术\",\"focustarget\")\nlocal InRangeF = IsSpellInRange(\"月火术\",\"focus\")\nlocal MeleeRange\nif IsSpellInRange(\"贯日击\",\"target\")==nil or IsSpellInRange(\"贯日击\",\"target\")==0 then\n    MeleeRange = false\nelseif  IsSpellInRange(\"贯日击\",\"target\")==1 then\n    MeleeRange = true\nend\nlocal ActionRange\nif CheckInteractDistance(\"target\", 3)==nil or CheckInteractDistance(\"target\", 3)==0 then\n    ActionRange = false\nelseif  CheckInteractDistance(\"target\", 3)==1 then\n    ActionRange = true\nend\n\nif BeeUnitAffectingCombat() then\n    if MeleeRange and BeeIsRun(\"猛虎掌\") and UnitPower(\"player\",12)>0 then\n        BeeRun(\"猛虎掌\") ;\n        return;\n    end\n    if MeleeRange and BeeIsRun(\"贯日击\") and BeeUnitMana()>10 then\n        BeeRun(\"贯日击\") ;\n        return;\n    end   \nend\n",
				}, -- [1]
			},
			["Variable"] = {
			},
			["Name"] = "monk",
		}, -- [11]
	},
}
